{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _utils = require(\"./utils\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _annotationAnimation = _interopRequireDefault(require(\"./annotation-animation\"));\n\nvar _redraphaelShapes = _interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.ringpath\"));\n\nvar _redraphaelShapes2 = _interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.arcpath\"));\n\nvar _annotationGroup = _interopRequireDefault(require(\"./shapes/annotation-group\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar circular2D = [\"pie2d\", \"doughnut2d\"],\n    circular3D = [\"pie3d\", \"doughnut3d\"],\n    GROUP = \"group\",\n    SHAPE = \"shape\",\n    sortDatasetByJSONIndex = function sortDatasetByJSONIndex(a, b) {\n  return a.getJSONIndex() - b.getJSONIndex();\n},\n    getSnapPoints = function getSnapPoints(chart) {\n  var chartConfig = chart.config,\n      chartComponents = chart.getChildren(),\n      caption = chartComponents.caption[0],\n      subCaption = chartComponents.subCaption[0],\n      legend = chartComponents.legend && chartComponents.legend[0] || {},\n      gradientLegend = chartComponents.gLegend && chartComponents.gLegend[0] || {},\n      captionConfig = caption.config,\n      subCaptionConfig = subCaption.config,\n      captionwidth = captionConfig.width || 0,\n      subcaptionwidth = subCaptionConfig.width || 0,\n      captionstartx,\n      legendConfig,\n      subcaptionstartx;\n\n  if (captionConfig.align === \"end\") {\n    captionstartx = captionConfig.x - captionwidth;\n    subcaptionstartx = captionConfig.x - subcaptionwidth;\n  } else if (captionConfig.align === \"start\") {\n    captionstartx = subcaptionstartx = captionConfig.x;\n  } else {\n    captionstartx = captionConfig.x - captionwidth / 2;\n    subcaptionstartx = captionConfig.x - subcaptionwidth / 2;\n  }\n\n  legendConfig = chartConfig.gLegendEnabled ? gradientLegend.conf : legend.config;\n  return {\n    canvasendx: chartConfig.canvasRight,\n    canvasendy: chartConfig.canvasBottom,\n    canvasheight: chartConfig.canvasHeight,\n    canvasstartx: chartConfig.canvasLeft,\n    canvasstarty: chartConfig.canvasTop,\n    canvaswidth: chartConfig.canvasWidth,\n    canvascenterx: chartConfig.canvasCenterX || chartConfig.canvasLeft + (chartConfig.canvasRight - chartConfig.canvasLeft) / 2,\n    canvascentery: chartConfig.canvasCenterY || chartConfig.canvasTop + (chartConfig.canvasBottom - chartConfig.canvasTop) / 2,\n    chartcenterx: chartConfig.width / 2,\n    chartcentery: chartConfig.height / 2,\n    chartstartx: 0,\n    chartstarty: 0,\n    chartendx: chartConfig.width,\n    chartendy: chartConfig.height,\n    chartheight: chartConfig.height,\n    chartwidth: chartConfig.width,\n    chartleftmargin: chartConfig.marginLeft,\n    chartrightmargin: chartConfig.marginRight,\n    chartbottommargin: chartConfig.marginBottom,\n    charttopmargin: chartConfig.marginTop,\n    captionendx: captionstartx + captionConfig.width,\n    captionendy: captionConfig.y + captionConfig.height,\n    captionheight: captionConfig.height,\n    captionstartx: captionstartx,\n    captionstarty: captionConfig.y,\n    captionwidth: captionwidth,\n    subcaptionendx: subcaptionstartx + subCaptionConfig.width,\n    subcaptionendy: subCaptionConfig.y + subCaptionConfig.height,\n    subcaptionheight: subCaptionConfig.height,\n    subcaptionstartx: subcaptionstartx,\n    subcaptionstarty: subCaptionConfig.y,\n    subcaptionwidth: subcaptionwidth,\n    legendendx: legendConfig && legendConfig.xPos + legendConfig.width,\n    legendendy: legendConfig && legendConfig.yPos + legendConfig.height,\n    legendheight: legendConfig && legendConfig.height,\n    legendstartx: legendConfig && legendConfig.xPos,\n    legendstarty: legendConfig && legendConfig.yPos,\n    legendwidth: legendConfig && legendConfig.width,\n    dataset: function dataset(string) {\n      var traversalArr = string.split(_utils.DEFAULT_MACRO_SEPARATOR).slice(1),\n          set,\n          dataset,\n          bbox,\n          datasets = [];\n      chart.iterateComponents(function (component) {\n        if (component.getType() === \"dataset\") {\n          datasets.push(component);\n        }\n      });\n      datasets.sort(sortDatasetByJSONIndex);\n      dataset = datasets[Number(traversalArr[0])];\n      set = dataset.components.data[Number(traversalArr[2])];\n\n      if (circular2D.indexOf(dataset.getName().toLowerCase()) > -1) {\n        return (0, _utils.computeSliceBounds)(traversalArr[3], set.config);\n      } else if (circular3D.indexOf(dataset.getName().toLowerCase()) > -1) {\n        return (0, _utils.compute3DSliceBounds)(traversalArr[3], set.config);\n      }\n\n      bbox = (0, _utils.computePlotBounds)(set, dataset.getName());\n      return (0, _utils.xyCalculator)(traversalArr[3], bbox);\n    },\n    xaxis: (0, _utils.axisMacroParser)(chart, \"xAxis\"),\n    yaxis: (0, _utils.axisMacroParser)(chart, \"yAxis\"),\n    gaugestartx: chartConfig.gaugeStartX,\n    gaugestarty: chartConfig.gaugeStartY,\n    gaugeendx: chartConfig.gaugeEndX,\n    gaugeendy: chartConfig.gaugeEndY,\n    gaugecenterx: chartConfig.gaugeCenterX,\n    gaugecentery: chartConfig.gaugeCenterY,\n    gaugestartangle: chartConfig.gaugeStartAngle,\n    gaugeendangle: chartConfig.gaugeEndAngle,\n    gaugeradius: chartConfig.gaugeRadius,\n    plotwidth: chartConfig.plotWidth,\n    plotsemiwidth: chartConfig.plotSemiWidth\n  };\n},\n    getBoolean = function getBoolean(numericBool) {\n  return !(parseInt(numericBool, 10) === 0);\n},\n    parseShapeConfiguration = function parseShapeConfiguration(rawConfig, groupConfig, chartConfig) {\n  if (groupConfig === void 0) {\n    groupConfig = {};\n  }\n\n  if (chartConfig === void 0) {\n    chartConfig = {};\n  }\n\n  var itemAttr = {};\n  itemAttr.annotationType = SHAPE;\n  itemAttr.id = rawConfig.id;\n  itemAttr.type = rawConfig.type && rawConfig.type.toLowerCase();\n  itemAttr.toolText = (0, _lib.pluck)(rawConfig.tooltext, rawConfig.toolText);\n  itemAttr.animationLabel = (0, _lib.pluck)(rawConfig.animationlabel, rawConfig.animationLabel);\n  itemAttr.dashed = rawConfig.dashed;\n  itemAttr.dashLen = (0, _lib.pluck)(rawConfig.dashlen, rawConfig.dashLen);\n  itemAttr.dashGap = (0, _lib.pluck)(rawConfig.dashgap, rawConfig.dashGap);\n  itemAttr.thickness = rawConfig.thickness;\n  itemAttr.showBorder = (0, _lib.pluck)(rawConfig.showborder, rawConfig.showBorder);\n  itemAttr.borderColor = (0, _lib.pluck)(rawConfig.bordercolor, rawConfig.borderColor);\n  itemAttr.borderAlpha = (0, _lib.pluck)(rawConfig.borderalpha, rawConfig.borderAlpha);\n  itemAttr.borderThickness = (0, _lib.pluck)(rawConfig.borderthickness, rawConfig.borderThickness);\n  itemAttr.alpha = rawConfig.alpha;\n  itemAttr.color = rawConfig.color;\n  itemAttr.fillColor = (0, _lib.pluck)(rawConfig.fillcolor, rawConfig.fillColor);\n  itemAttr.fontColor = (0, _lib.pluck)(rawConfig.fontcolor, rawConfig.fontColor);\n  itemAttr.fillAlpha = (0, _lib.pluck)(rawConfig.fillalpha, rawConfig.fillAlpha);\n  itemAttr.fillAngle = (0, _lib.pluck)(rawConfig.fillangle, rawConfig.fillAngle);\n  itemAttr.fillRatio = (0, _lib.pluck)(rawConfig.fillratio, rawConfig.fillRatio);\n  itemAttr.fillPattern = (0, _lib.pluck)(rawConfig.fillpattern, rawConfig.fillPattern);\n  itemAttr.sides = rawConfig.sides;\n  itemAttr.radius = rawConfig.radius;\n  itemAttr.yRadius = (0, _lib.pluck)(rawConfig.yradius, rawConfig.yRadius);\n  itemAttr.innerRadius = (0, _lib.pluck)(rawConfig.innerradius, rawConfig.innerRadius);\n  itemAttr.endAngle = (0, _lib.pluck)(rawConfig.endangle, rawConfig.endAngle);\n  itemAttr.startAngle = (0, _lib.pluck)(rawConfig.startangle, rawConfig.startAngle);\n  itemAttr.isVisible = getBoolean(rawConfig.visible) === true;\n  itemAttr.x = rawConfig.x;\n  itemAttr.y = rawConfig.y;\n  itemAttr.xPos = (0, _lib.pluck)(rawConfig.xpos, rawConfig.xPos);\n  itemAttr.yPos = (0, _lib.pluck)(rawConfig.ypos, rawConfig.yPos);\n  itemAttr.toY = (0, _lib.pluck)(rawConfig.toy, rawConfig.toY);\n  itemAttr.toX = (0, _lib.pluck)(rawConfig.tox, rawConfig.toX);\n  itemAttr.autoScale = (0, _lib.pluck)(rawConfig.autoscale, rawConfig.autoScale);\n  itemAttr.path = rawConfig.path;\n  itemAttr.css = rawConfig.css;\n  itemAttr.wrap = rawConfig.wrap;\n  itemAttr.text = rawConfig.text !== _lib.UNDEF && rawConfig.text !== null && rawConfig.text.toString() || _lib.UNDEF;\n  itemAttr.font = (0, _lib.pluck)(rawConfig.font, groupConfig.font, chartConfig.basefont);\n  itemAttr.bold = (0, _lib.pluck)(rawConfig.bold, rawConfig.isbold, rawConfig.bold, rawConfig.isBold);\n  itemAttr.label = rawConfig.label;\n  itemAttr.align = rawConfig.align;\n  itemAttr.italic = rawConfig.italic;\n  itemAttr.vAlign = (0, _lib.pluck)(rawConfig.valign, rawConfig.vAlign);\n  itemAttr.bgColor = (0, _lib.pluck)(rawConfig.bgcolor, rawConfig.bgColor);\n  itemAttr.fontSize = (0, _lib.pluck)(rawConfig.fontsize, rawConfig.fontSize, groupConfig.fontSize, chartConfig.basefontsize);\n  itemAttr.wrapWidth = (0, _lib.pluck)(rawConfig.wrapwidth, rawConfig.wrapWidth);\n  itemAttr.leftMargin = (0, _lib.pluck)(rawConfig.leftmargin, rawConfig.leftMargin);\n  itemAttr.rotateText = (0, _lib.pluck)(rawConfig.rotatetext, rawConfig.rotateText);\n  itemAttr.wrapHeight = (0, _lib.pluck)(rawConfig.wrapheight, rawConfig.wrapHeight);\n  itemAttr.showShadow = (0, _lib.pluck)(rawConfig.showshadow, rawConfig.showShadow);\n  itemAttr.link = rawConfig.link;\n  itemAttr.url = rawConfig.url;\n  itemAttr.link = rawConfig.link;\n  itemAttr.width = rawConfig.width;\n  itemAttr.height = rawConfig.height;\n  itemAttr.xScale = (0, _lib.pluck)(rawConfig.xscale, rawConfig.xScale);\n  itemAttr.yScale = (0, _lib.pluck)(rawConfig.yscale, rawConfig.yScale);\n  itemAttr.onload = rawConfig.onload;\n  itemAttr.onerror = rawConfig.onerror;\n  itemAttr.outlineText = (0, _lib.pluckNumber)(rawConfig.outlinetext, rawConfig.outlineText, 0);\n\n  if (typeof rawConfig.component === \"object\") {\n    itemAttr.component = rawConfig.component;\n  }\n\n  for (var attribute in itemAttr) {\n    if (itemAttr.hasOwnProperty(attribute)) {\n      var val = itemAttr[attribute];\n      if (typeof val === \"undefined\") delete itemAttr[attribute];\n    }\n  }\n\n  return itemAttr;\n},\n    parseConfiguration = function parseConfiguration(rawConfig, chartConfig) {\n  var groupAttr = {},\n      rawItemConfigs = rawConfig.items;\n  rawItemConfigs = rawConfig.items = (0, _utils.arrangeItems)(rawItemConfigs);\n  groupAttr.annotationType = GROUP;\n  groupAttr.id = rawConfig.id;\n  groupAttr.showBelow = typeof rawConfig.showbelow === \"undefined\" || rawConfig.showbelow === null ? 1 : Number(rawConfig.showbelow);\n  groupAttr.x = rawConfig.x;\n  groupAttr.y = rawConfig.y;\n  groupAttr.animationLabel = (0, _lib.pluck)(rawConfig.animationlabel, rawConfig.animationLabel);\n  groupAttr.xPos = (0, _lib.pluck)(rawConfig.xpos, rawConfig.xPos);\n  groupAttr.yPos = (0, _lib.pluck)(rawConfig.ypos, rawConfig.yPos);\n  groupAttr.grpXShift = (0, _lib.pluck)(rawConfig.grpxshift, rawConfig.grpXShift);\n  groupAttr.grpYShift = (0, _lib.pluck)(rawConfig.grpyshift, rawConfig.grpYShift);\n  groupAttr.xShift = (0, _lib.pluck)(rawConfig.xshift, rawConfig.xShift);\n  groupAttr.yShift = (0, _lib.pluck)(rawConfig.yshift, rawConfig.yShift);\n  groupAttr.color = rawConfig.color;\n  groupAttr.alpha = rawConfig.alpha;\n  groupAttr.isVisible = Number(rawConfig.visible || 1) === 1;\n  groupAttr.font = (0, _lib.pluck)(rawConfig.font, chartConfig.basefont);\n  groupAttr.link = rawConfig.link;\n  groupAttr.fontSize = (0, _lib.pluck)(rawConfig.fontsize, rawConfig.fontSize, chartConfig.basefontsize);\n  groupAttr.textAlign = (0, _lib.pluck)(rawConfig.textalign, rawConfig.textAlign);\n  groupAttr.textVAlign = (0, _lib.pluck)(rawConfig.textvalign, rawConfig.textVAlign);\n  groupAttr.rotateText = (0, _lib.pluck)(rawConfig.rotatetext, rawConfig.rotateText);\n  groupAttr.wrapText = (0, _lib.pluck)(rawConfig.wraptext, rawConfig.wrapText);\n  groupAttr.toolText = (0, _lib.pluck)(rawConfig.tooltext, rawConfig.toolText);\n  groupAttr.link = rawConfig.link;\n  groupAttr.showShadow = (0, _lib.pluck)(rawConfig.showshadow, rawConfig.showShadow);\n  groupAttr.items = rawConfig.items;\n  groupAttr.css = rawConfig.css;\n  groupAttr.autoScale = (0, _lib.pluck)(rawConfig.autoscale, rawConfig.autoScale);\n  groupAttr.scaleText = (0, _lib.pluck)(rawConfig.scaletext, rawConfig.scaleText);\n  groupAttr.xScale = (0, _lib.pluck)(rawConfig.xscale, rawConfig.xScale);\n  groupAttr.yScale = (0, _lib.pluck)(rawConfig.yscale, rawConfig.yScale);\n  groupAttr.scaleImages = (0, _lib.pluck)(rawConfig.scaleimages, rawConfig.scaleImages);\n  groupAttr.constrainedScale = (0, _lib.pluck)(rawConfig.constrainedscale);\n  groupAttr.origH = (0, _lib.pluck)(rawConfig.origh, rawConfig.origH, chartConfig.origh);\n  groupAttr.origW = (0, _lib.pluck)(rawConfig.origw, rawConfig.origW, chartConfig.origw);\n  groupAttr.onAnnotationClick = rawConfig.onAnnotationClick;\n  groupAttr.onAnnotationRollover = rawConfig.onAnnotationRollover;\n  groupAttr.onAnnotationRollout = rawConfig.onAnnotationRollout;\n\n  if (typeof rawConfig.component === \"object\") {\n    groupAttr.component = rawConfig.component;\n  }\n\n  for (var attribute in groupAttr) {\n    if (groupAttr.hasOwnProperty(attribute)) {\n      var val = groupAttr[attribute];\n      if (typeof val === \"undefined\") delete groupAttr[attribute];\n    }\n  }\n\n  if (Array.isArray(rawItemConfigs)) {\n    groupAttr.itemConfigs = rawItemConfigs.map(function (itemConfig) {\n      return parseShapeConfiguration(itemConfig, groupAttr, chartConfig);\n    });\n  }\n\n  return groupAttr;\n},\n    mergeConfig = function mergeConfig(rawconfig, groupConfig) {\n  groupConfig.css = groupConfig.css || rawconfig.css;\n  groupConfig.autoscale = (0, _lib.pluck)(groupConfig.autoscale, rawconfig.autoscale);\n  groupConfig.animationLabel = (0, _lib.pluck)(groupConfig.animationLabel, rawconfig.animationLabel);\n  groupConfig.constrainedscale = (0, _lib.pluck)(groupConfig.constrainedscale, rawconfig.constrainedscale);\n  groupConfig.scaletext = (0, _lib.pluck)(groupConfig.scaletext, rawconfig.scaletext);\n  groupConfig.scaleimages = (0, _lib.pluck)(groupConfig.scaleimages, rawconfig.scaleimages);\n  groupConfig.xshift = (0, _lib.pluck)(groupConfig.xshift, rawconfig.xshift);\n  groupConfig.yshift = (0, _lib.pluck)(groupConfig.yshift, rawconfig.yshift);\n  groupConfig.grpxshift = (0, _lib.pluck)(groupConfig.grpxshift, rawconfig.grpxshift);\n  groupConfig.grpyshift = (0, _lib.pluck)(groupConfig.grpyshift, rawconfig.grpyshift);\n  groupConfig.origw = (0, _lib.pluck)(groupConfig.origw, rawconfig.origw);\n  groupConfig.origh = (0, _lib.pluck)(groupConfig.origh, rawconfig.origh);\n  groupConfig.showbelow = (0, _lib.pluck)(groupConfig.showbelow, rawconfig.showbelow, 1);\n  groupConfig.onAnnotationClick = rawconfig.onAnnotationClick;\n  groupConfig.onAnnotationRollover = rawconfig.onAnnotationRollover;\n  groupConfig.onAnnotationRollout = rawconfig.onAnnotationRollout;\n},\n    isRootGroupConfig = function isRootGroupConfig(value, key) {\n  return key !== \"itemConfigs\";\n},\n    getParsedConfig = function getParsedConfig(rawConfig, chartConfig) {\n  if (rawConfig === void 0) {\n    rawConfig = {\n      groups: []\n    };\n  }\n\n  if (chartConfig === void 0) {\n    chartConfig = {};\n  }\n\n  return (rawConfig.groups || []).map(function (rawConfigGroup) {\n    mergeConfig(rawConfig, rawConfigGroup);\n    return parseConfiguration(rawConfigGroup, chartConfig);\n  });\n};\n\nvar AnnotationManager = function (_SmartRenderer) {\n  (0, _inheritsLoose2.default)(AnnotationManager, _SmartRenderer);\n\n  function AnnotationManager(id) {\n    var _this;\n\n    _this = _SmartRenderer.call(this, id) || this;\n    (0, _dependencyManager.addDep)({\n      name: \"annotationAnimation\",\n      type: \"animationRule\",\n      extension: _annotationAnimation.default\n    });\n    (0, _redraphaelShapes.default)((0, _dependencyManager.getDep)(\"redraphael\", \"plugin\"));\n    (0, _redraphaelShapes2.default)((0, _dependencyManager.getDep)(\"redraphael\", \"plugin\"));\n    _this.groups = [];\n    _this.config.dependencies = {};\n    _this._rawJSON = {\n      groups: []\n    };\n    return _this;\n  }\n\n  var _proto = AnnotationManager.prototype;\n\n  _proto.getName = function getName() {\n    return \"annotation\";\n  };\n\n  _proto.getType = function getType() {\n    return \"extension\";\n  };\n\n  _proto.configureAttributes = function configureAttributes(rawConfig) {\n    if (rawConfig === void 0) {\n      rawConfig = {\n        groups: []\n      };\n    }\n\n    var annManager = this,\n        annManagerConfig = annManager.config;\n    annManager._rawJSON = (0, _lib.extend2)({}, annManager._rawJSON, rawConfig);\n\n    if (rawConfig.groups) {\n      annManagerConfig.parsedConfigs = getParsedConfig(rawConfig, annManager.getFromEnv(\"chart\").config);\n    } else {\n      annManagerConfig.parsedConfigs = [];\n    }\n\n    annManagerConfig.parsedConfigs.forEach(function (groupConfig) {\n      annManager.attachChild(_annotationGroup.default, \"group\", groupConfig.id).configure(groupConfig);\n    });\n    annManager.groups = annManager.getChildren(\"group\") || [];\n  };\n\n  _proto.addItem = function addItem(groupId, itemConfig, component) {\n    if (itemConfig === void 0) {\n      itemConfig = {};\n    }\n\n    var annManager = this,\n        rawJSON = annManager._rawJSON,\n        index,\n        targetedGroup,\n        itemsAr,\n        len = rawJSON.groups.length;\n\n    for (index = 0; index < len; index++) {\n      if (rawJSON.groups[index].id === groupId) {\n        targetedGroup = rawJSON.groups[index];\n        break;\n      }\n    }\n\n    if (targetedGroup) {\n      targetedGroup.items = targetedGroup.items || [];\n    } else {\n      targetedGroup = {\n        id: groupId,\n        items: []\n      };\n      rawJSON.groups.push(targetedGroup);\n    }\n\n    targetedGroup.items.push(itemConfig);\n    annManager.setData(rawJSON, true);\n    itemsAr = annManager.retrieveGroup(groupId).items;\n    return itemsAr[itemsAr.length - 1];\n  };\n\n  _proto.addGroup = function addGroup(rawConfig) {\n    if (rawConfig === void 0) {\n      rawConfig = {};\n    }\n\n    var annManager = this,\n        rawJSON = annManager._rawJSON;\n    rawJSON.groups.push(rawConfig);\n    annManager.setData(rawJSON, true);\n    return annManager.groups[annManager.groups.length - 1];\n  };\n\n  _proto.addCustomGroup = function addCustomGroup(group) {\n    group && (this.config.customGroup = group);\n  };\n\n  _proto.update = function update(id, rawConfig) {\n    var ext = this,\n        item,\n        key,\n        config = {},\n        itemRawConfig,\n        parsedConfig;\n\n    if (id) {\n      for (key in rawConfig) {\n        config[key.toLowerCase()] = rawConfig[key] && rawConfig[key].toString();\n      }\n\n      item = ext.retrieveItem(id) || ext.retrieveGroup(id);\n\n      if (!item || !item.getElement()) {\n        return;\n      }\n\n      typeof config.visible === \"undefined\" && (config.visible = item.config.isVisible);\n      itemRawConfig = item.rawConfig;\n      itemRawConfig = Object.assign(itemRawConfig, config);\n      parsedConfig = parseShapeConfiguration(itemRawConfig);\n      parsedConfig.isVisible = config.visible;\n      item.setData(parsedConfig);\n      return item;\n    }\n  };\n\n  _proto.destroy = function destroy(id) {\n    var ext = this,\n        rawJSON = ext._rawJSON,\n        i,\n        j,\n        groupLength,\n        itemLength,\n        group,\n        item,\n        found = false;\n\n    if (id) {\n      for (i = 0, groupLength = rawJSON.groups.length; i < groupLength; i++) {\n        group = rawJSON.groups[i];\n\n        for (j = 0, itemLength = (group.items || []).length; j < itemLength; j++) {\n          item = group.items[j];\n\n          if (item.id === id) {\n            group.items.splice(j, 1);\n            found = true;\n            break;\n          }\n        }\n      }\n\n      if (!found) {\n        for (i = 0, groupLength = rawJSON.groups.length; i < groupLength; i++) {\n          group = rawJSON.groups[i];\n\n          if (group.id === id) {\n            rawJSON.groups.splice(i, 1);\n          }\n        }\n      }\n    } else {\n      rawJSON = ext._rawJSON = {\n        groups: []\n      };\n    }\n\n    ext.setData(rawJSON);\n  };\n\n  _proto.clear = function clear() {\n    this.destroy();\n  };\n\n  _proto.retrieveItem = function retrieveItem(id) {\n    var found,\n        item,\n        i,\n        len = this.groups.length;\n\n    for (i = 0; i < len; i++) {\n      found = this.groups[i].retrieveItem(id);\n\n      if (found) {\n        item = found;\n        break;\n      }\n    }\n\n    return item;\n  };\n\n  _proto.retrieveGroup = function retrieveGroup(id) {\n    var controller = this,\n        i,\n        len;\n\n    for (i = 0, len = controller.groups.length; i < len; i++) {\n      if (controller.groups[i].getId() === id) {\n        return controller.groups[i];\n      }\n    }\n  };\n\n  _proto.show = function show(id) {\n    var item;\n\n    if (id) {\n      item = this.retrieveItem(id) || this.retrieveGroup(id);\n      item && item.show();\n    } else {\n      this.groups.forEach(function (group) {\n        group.show();\n      });\n    }\n  };\n\n  _proto.hide = function hide(id) {\n    var item;\n\n    if (id) {\n      item = this.retrieveItem(id) || this.retrieveGroup(id);\n      item && item.hide();\n    } else {\n      this.groups.forEach(function (group) {\n        group.hide();\n      });\n    }\n  };\n\n  _proto.draw = function draw() {\n    var ext = this;\n    ext.addToEnv(\"snapPoints\", getSnapPoints(ext.getFromEnv(\"chart\")));\n    ext.addGraphicalElement({\n      el: \"group\",\n      attr: {\n        name: \"upperannotations\"\n      },\n      component: ext,\n      container: {\n        label: \"group\",\n        id: \"abovePlotGroup\",\n        isParent: true\n      },\n      id: \"upperAnnotationGroup\",\n      label: \"group\"\n    });\n    ext.addGraphicalElement({\n      el: \"group\",\n      attr: {\n        name: \"lowerannotations\"\n      },\n      component: ext,\n      container: {\n        label: \"group\",\n        id: \"belowPlotGroup\",\n        isParent: true\n      },\n      id: \"lowerAnnotationGroup\",\n      label: \"group\"\n    });\n  };\n\n  return AnnotationManager;\n}(_componentInterface.SmartRenderer);\n\nvar _default = AnnotationManager;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/annotation/ext-annotation.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_utils","_lib","_dependencyManager","_annotationAnimation","_redraphaelShapes","_redraphaelShapes2","_annotationGroup","_componentInterface","circular2D","circular3D","GROUP","SHAPE","sortDatasetByJSONIndex","a","b","getJSONIndex","getSnapPoints","chart","chartConfig","config","chartComponents","getChildren","caption","subCaption","legend","gradientLegend","gLegend","captionConfig","subCaptionConfig","captionwidth","width","subcaptionwidth","captionstartx","legendConfig","subcaptionstartx","align","x","gLegendEnabled","conf","canvasendx","canvasRight","canvasendy","canvasBottom","canvasheight","canvasHeight","canvasstartx","canvasLeft","canvasstarty","canvasTop","canvaswidth","canvasWidth","canvascenterx","canvasCenterX","canvascentery","canvasCenterY","chartcenterx","chartcentery","height","chartstartx","chartstarty","chartendx","chartendy","chartheight","chartwidth","chartleftmargin","marginLeft","chartrightmargin","marginRight","chartbottommargin","marginBottom","charttopmargin","marginTop","captionendx","captionendy","y","captionheight","captionstarty","subcaptionendx","subcaptionendy","subcaptionheight","subcaptionstarty","legendendx","xPos","legendendy","yPos","legendheight","legendstartx","legendstarty","legendwidth","dataset","string","traversalArr","split","DEFAULT_MACRO_SEPARATOR","slice","set","bbox","datasets","iterateComponents","component","getType","push","sort","Number","components","data","indexOf","getName","toLowerCase","computeSliceBounds","compute3DSliceBounds","computePlotBounds","xyCalculator","xaxis","axisMacroParser","yaxis","gaugestartx","gaugeStartX","gaugestarty","gaugeStartY","gaugeendx","gaugeEndX","gaugeendy","gaugeEndY","gaugecenterx","gaugeCenterX","gaugecentery","gaugeCenterY","gaugestartangle","gaugeStartAngle","gaugeendangle","gaugeEndAngle","gaugeradius","gaugeRadius","plotwidth","plotWidth","plotsemiwidth","plotSemiWidth","getBoolean","numericBool","parseInt","parseShapeConfiguration","rawConfig","groupConfig","itemAttr","annotationType","id","type","toolText","pluck","tooltext","animationLabel","animationlabel","dashed","dashLen","dashlen","dashGap","dashgap","thickness","showBorder","showborder","borderColor","bordercolor","borderAlpha","borderalpha","borderThickness","borderthickness","alpha","color","fillColor","fillcolor","fontColor","fontcolor","fillAlpha","fillalpha","fillAngle","fillangle","fillRatio","fillratio","fillPattern","fillpattern","sides","radius","yRadius","yradius","innerRadius","innerradius","endAngle","endangle","startAngle","startangle","isVisible","visible","xpos","ypos","toY","toy","toX","tox","autoScale","autoscale","path","css","wrap","text","UNDEF","toString","font","basefont","bold","isbold","isBold","label","italic","vAlign","valign","bgColor","bgcolor","fontSize","fontsize","basefontsize","wrapWidth","wrapwidth","leftMargin","leftmargin","rotateText","rotatetext","wrapHeight","wrapheight","showShadow","showshadow","link","url","xScale","xscale","yScale","yscale","onload","onerror","outlineText","pluckNumber","outlinetext","attribute","hasOwnProperty","val","parseConfiguration","groupAttr","rawItemConfigs","items","arrangeItems","showBelow","showbelow","grpXShift","grpxshift","grpYShift","grpyshift","xShift","xshift","yShift","yshift","textAlign","textalign","textVAlign","textvalign","wrapText","wraptext","scaleText","scaletext","scaleImages","scaleimages","constrainedScale","constrainedscale","origH","origh","origW","origw","onAnnotationClick","onAnnotationRollover","onAnnotationRollout","Array","isArray","itemConfigs","map","itemConfig","mergeConfig","rawconfig","isRootGroupConfig","value","key","getParsedConfig","groups","rawConfigGroup","AnnotationManager","_SmartRenderer","_this","call","addDep","name","extension","getDep","dependencies","_rawJSON","_proto","prototype","configureAttributes","annManager","annManagerConfig","extend2","parsedConfigs","getFromEnv","forEach","attachChild","configure","addItem","groupId","rawJSON","index","targetedGroup","itemsAr","len","length","setData","retrieveGroup","addGroup","addCustomGroup","group","customGroup","update","ext","item","itemRawConfig","parsedConfig","retrieveItem","getElement","Object","assign","destroy","i","j","groupLength","itemLength","found","splice","clear","controller","getId","show","hide","draw","addToEnv","addGraphicalElement","el","attr","container","isParent","SmartRenderer","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _utils=require(\"./utils\");var _lib=require(\"@fusioncharts/core/src/lib\");var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _annotationAnimation=_interopRequireDefault(require(\"./annotation-animation\"));var _redraphaelShapes=_interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.ringpath\"));var _redraphaelShapes2=_interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.arcpath\"));var _annotationGroup=_interopRequireDefault(require(\"./shapes/annotation-group\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var circular2D=[\"pie2d\",\"doughnut2d\"],circular3D=[\"pie3d\",\"doughnut3d\"],GROUP=\"group\",SHAPE=\"shape\",sortDatasetByJSONIndex=function sortDatasetByJSONIndex(a,b){return a.getJSONIndex()-b.getJSONIndex()},getSnapPoints=function getSnapPoints(chart){var chartConfig=chart.config,chartComponents=chart.getChildren(),caption=chartComponents.caption[0],subCaption=chartComponents.subCaption[0],legend=chartComponents.legend&&chartComponents.legend[0]||{},gradientLegend=chartComponents.gLegend&&chartComponents.gLegend[0]||{},captionConfig=caption.config,subCaptionConfig=subCaption.config,captionwidth=captionConfig.width||0,subcaptionwidth=subCaptionConfig.width||0,captionstartx,legendConfig,subcaptionstartx;if(captionConfig.align===\"end\"){captionstartx=captionConfig.x-captionwidth;subcaptionstartx=captionConfig.x-subcaptionwidth}else if(captionConfig.align===\"start\"){captionstartx=subcaptionstartx=captionConfig.x}else{captionstartx=captionConfig.x-captionwidth/2;subcaptionstartx=captionConfig.x-subcaptionwidth/2}legendConfig=chartConfig.gLegendEnabled?gradientLegend.conf:legend.config;return{canvasendx:chartConfig.canvasRight,canvasendy:chartConfig.canvasBottom,canvasheight:chartConfig.canvasHeight,canvasstartx:chartConfig.canvasLeft,canvasstarty:chartConfig.canvasTop,canvaswidth:chartConfig.canvasWidth,canvascenterx:chartConfig.canvasCenterX||chartConfig.canvasLeft+(chartConfig.canvasRight-chartConfig.canvasLeft)/2,canvascentery:chartConfig.canvasCenterY||chartConfig.canvasTop+(chartConfig.canvasBottom-chartConfig.canvasTop)/2,chartcenterx:chartConfig.width/2,chartcentery:chartConfig.height/2,chartstartx:0,chartstarty:0,chartendx:chartConfig.width,chartendy:chartConfig.height,chartheight:chartConfig.height,chartwidth:chartConfig.width,chartleftmargin:chartConfig.marginLeft,chartrightmargin:chartConfig.marginRight,chartbottommargin:chartConfig.marginBottom,charttopmargin:chartConfig.marginTop,captionendx:captionstartx+captionConfig.width,captionendy:captionConfig.y+captionConfig.height,captionheight:captionConfig.height,captionstartx:captionstartx,captionstarty:captionConfig.y,captionwidth:captionwidth,subcaptionendx:subcaptionstartx+subCaptionConfig.width,subcaptionendy:subCaptionConfig.y+subCaptionConfig.height,subcaptionheight:subCaptionConfig.height,subcaptionstartx:subcaptionstartx,subcaptionstarty:subCaptionConfig.y,subcaptionwidth:subcaptionwidth,legendendx:legendConfig&&legendConfig.xPos+legendConfig.width,legendendy:legendConfig&&legendConfig.yPos+legendConfig.height,legendheight:legendConfig&&legendConfig.height,legendstartx:legendConfig&&legendConfig.xPos,legendstarty:legendConfig&&legendConfig.yPos,legendwidth:legendConfig&&legendConfig.width,dataset:function dataset(string){var traversalArr=string.split(_utils.DEFAULT_MACRO_SEPARATOR).slice(1),set,dataset,bbox,datasets=[];chart.iterateComponents((function(component){if(component.getType()===\"dataset\"){datasets.push(component)}}));datasets.sort(sortDatasetByJSONIndex);dataset=datasets[Number(traversalArr[0])];set=dataset.components.data[Number(traversalArr[2])];if(circular2D.indexOf(dataset.getName().toLowerCase())>-1){return(0,_utils.computeSliceBounds)(traversalArr[3],set.config)}else if(circular3D.indexOf(dataset.getName().toLowerCase())>-1){return(0,_utils.compute3DSliceBounds)(traversalArr[3],set.config)}bbox=(0,_utils.computePlotBounds)(set,dataset.getName());return(0,_utils.xyCalculator)(traversalArr[3],bbox)},xaxis:(0,_utils.axisMacroParser)(chart,\"xAxis\"),yaxis:(0,_utils.axisMacroParser)(chart,\"yAxis\"),gaugestartx:chartConfig.gaugeStartX,gaugestarty:chartConfig.gaugeStartY,gaugeendx:chartConfig.gaugeEndX,gaugeendy:chartConfig.gaugeEndY,gaugecenterx:chartConfig.gaugeCenterX,gaugecentery:chartConfig.gaugeCenterY,gaugestartangle:chartConfig.gaugeStartAngle,gaugeendangle:chartConfig.gaugeEndAngle,gaugeradius:chartConfig.gaugeRadius,plotwidth:chartConfig.plotWidth,plotsemiwidth:chartConfig.plotSemiWidth}},getBoolean=function getBoolean(numericBool){return!(parseInt(numericBool,10)===0)},parseShapeConfiguration=function parseShapeConfiguration(rawConfig,groupConfig,chartConfig){if(groupConfig===void 0){groupConfig={}}if(chartConfig===void 0){chartConfig={}}var itemAttr={};itemAttr.annotationType=SHAPE;itemAttr.id=rawConfig.id;itemAttr.type=rawConfig.type&&rawConfig.type.toLowerCase();itemAttr.toolText=(0,_lib.pluck)(rawConfig.tooltext,rawConfig.toolText);itemAttr.animationLabel=(0,_lib.pluck)(rawConfig.animationlabel,rawConfig.animationLabel);itemAttr.dashed=rawConfig.dashed;itemAttr.dashLen=(0,_lib.pluck)(rawConfig.dashlen,rawConfig.dashLen);itemAttr.dashGap=(0,_lib.pluck)(rawConfig.dashgap,rawConfig.dashGap);itemAttr.thickness=rawConfig.thickness;itemAttr.showBorder=(0,_lib.pluck)(rawConfig.showborder,rawConfig.showBorder);itemAttr.borderColor=(0,_lib.pluck)(rawConfig.bordercolor,rawConfig.borderColor);itemAttr.borderAlpha=(0,_lib.pluck)(rawConfig.borderalpha,rawConfig.borderAlpha);itemAttr.borderThickness=(0,_lib.pluck)(rawConfig.borderthickness,rawConfig.borderThickness);itemAttr.alpha=rawConfig.alpha;itemAttr.color=rawConfig.color;itemAttr.fillColor=(0,_lib.pluck)(rawConfig.fillcolor,rawConfig.fillColor);itemAttr.fontColor=(0,_lib.pluck)(rawConfig.fontcolor,rawConfig.fontColor);itemAttr.fillAlpha=(0,_lib.pluck)(rawConfig.fillalpha,rawConfig.fillAlpha);itemAttr.fillAngle=(0,_lib.pluck)(rawConfig.fillangle,rawConfig.fillAngle);itemAttr.fillRatio=(0,_lib.pluck)(rawConfig.fillratio,rawConfig.fillRatio);itemAttr.fillPattern=(0,_lib.pluck)(rawConfig.fillpattern,rawConfig.fillPattern);itemAttr.sides=rawConfig.sides;itemAttr.radius=rawConfig.radius;itemAttr.yRadius=(0,_lib.pluck)(rawConfig.yradius,rawConfig.yRadius);itemAttr.innerRadius=(0,_lib.pluck)(rawConfig.innerradius,rawConfig.innerRadius);itemAttr.endAngle=(0,_lib.pluck)(rawConfig.endangle,rawConfig.endAngle);itemAttr.startAngle=(0,_lib.pluck)(rawConfig.startangle,rawConfig.startAngle);itemAttr.isVisible=getBoolean(rawConfig.visible)===true;itemAttr.x=rawConfig.x;itemAttr.y=rawConfig.y;itemAttr.xPos=(0,_lib.pluck)(rawConfig.xpos,rawConfig.xPos);itemAttr.yPos=(0,_lib.pluck)(rawConfig.ypos,rawConfig.yPos);itemAttr.toY=(0,_lib.pluck)(rawConfig.toy,rawConfig.toY);itemAttr.toX=(0,_lib.pluck)(rawConfig.tox,rawConfig.toX);itemAttr.autoScale=(0,_lib.pluck)(rawConfig.autoscale,rawConfig.autoScale);itemAttr.path=rawConfig.path;itemAttr.css=rawConfig.css;itemAttr.wrap=rawConfig.wrap;itemAttr.text=rawConfig.text!==_lib.UNDEF&&rawConfig.text!==null&&rawConfig.text.toString()||_lib.UNDEF;itemAttr.font=(0,_lib.pluck)(rawConfig.font,groupConfig.font,chartConfig.basefont);itemAttr.bold=(0,_lib.pluck)(rawConfig.bold,rawConfig.isbold,rawConfig.bold,rawConfig.isBold);itemAttr.label=rawConfig.label;itemAttr.align=rawConfig.align;itemAttr.italic=rawConfig.italic;itemAttr.vAlign=(0,_lib.pluck)(rawConfig.valign,rawConfig.vAlign);itemAttr.bgColor=(0,_lib.pluck)(rawConfig.bgcolor,rawConfig.bgColor);itemAttr.fontSize=(0,_lib.pluck)(rawConfig.fontsize,rawConfig.fontSize,groupConfig.fontSize,chartConfig.basefontsize);itemAttr.wrapWidth=(0,_lib.pluck)(rawConfig.wrapwidth,rawConfig.wrapWidth);itemAttr.leftMargin=(0,_lib.pluck)(rawConfig.leftmargin,rawConfig.leftMargin);itemAttr.rotateText=(0,_lib.pluck)(rawConfig.rotatetext,rawConfig.rotateText);itemAttr.wrapHeight=(0,_lib.pluck)(rawConfig.wrapheight,rawConfig.wrapHeight);itemAttr.showShadow=(0,_lib.pluck)(rawConfig.showshadow,rawConfig.showShadow);itemAttr.link=rawConfig.link;itemAttr.url=rawConfig.url;itemAttr.link=rawConfig.link;itemAttr.width=rawConfig.width;itemAttr.height=rawConfig.height;itemAttr.xScale=(0,_lib.pluck)(rawConfig.xscale,rawConfig.xScale);itemAttr.yScale=(0,_lib.pluck)(rawConfig.yscale,rawConfig.yScale);itemAttr.onload=rawConfig.onload;itemAttr.onerror=rawConfig.onerror;itemAttr.outlineText=(0,_lib.pluckNumber)(rawConfig.outlinetext,rawConfig.outlineText,0);if(typeof rawConfig.component===\"object\"){itemAttr.component=rawConfig.component}for(var attribute in itemAttr){if(itemAttr.hasOwnProperty(attribute)){var val=itemAttr[attribute];if(typeof val===\"undefined\")delete itemAttr[attribute]}}return itemAttr},parseConfiguration=function parseConfiguration(rawConfig,chartConfig){var groupAttr={},rawItemConfigs=rawConfig.items;rawItemConfigs=rawConfig.items=(0,_utils.arrangeItems)(rawItemConfigs);groupAttr.annotationType=GROUP;groupAttr.id=rawConfig.id;groupAttr.showBelow=typeof rawConfig.showbelow===\"undefined\"||rawConfig.showbelow===null?1:Number(rawConfig.showbelow);groupAttr.x=rawConfig.x;groupAttr.y=rawConfig.y;groupAttr.animationLabel=(0,_lib.pluck)(rawConfig.animationlabel,rawConfig.animationLabel);groupAttr.xPos=(0,_lib.pluck)(rawConfig.xpos,rawConfig.xPos);groupAttr.yPos=(0,_lib.pluck)(rawConfig.ypos,rawConfig.yPos);groupAttr.grpXShift=(0,_lib.pluck)(rawConfig.grpxshift,rawConfig.grpXShift);groupAttr.grpYShift=(0,_lib.pluck)(rawConfig.grpyshift,rawConfig.grpYShift);groupAttr.xShift=(0,_lib.pluck)(rawConfig.xshift,rawConfig.xShift);groupAttr.yShift=(0,_lib.pluck)(rawConfig.yshift,rawConfig.yShift);groupAttr.color=rawConfig.color;groupAttr.alpha=rawConfig.alpha;groupAttr.isVisible=Number(rawConfig.visible||1)===1;groupAttr.font=(0,_lib.pluck)(rawConfig.font,chartConfig.basefont);groupAttr.link=rawConfig.link;groupAttr.fontSize=(0,_lib.pluck)(rawConfig.fontsize,rawConfig.fontSize,chartConfig.basefontsize);groupAttr.textAlign=(0,_lib.pluck)(rawConfig.textalign,rawConfig.textAlign);groupAttr.textVAlign=(0,_lib.pluck)(rawConfig.textvalign,rawConfig.textVAlign);groupAttr.rotateText=(0,_lib.pluck)(rawConfig.rotatetext,rawConfig.rotateText);groupAttr.wrapText=(0,_lib.pluck)(rawConfig.wraptext,rawConfig.wrapText);groupAttr.toolText=(0,_lib.pluck)(rawConfig.tooltext,rawConfig.toolText);groupAttr.link=rawConfig.link;groupAttr.showShadow=(0,_lib.pluck)(rawConfig.showshadow,rawConfig.showShadow);groupAttr.items=rawConfig.items;groupAttr.css=rawConfig.css;groupAttr.autoScale=(0,_lib.pluck)(rawConfig.autoscale,rawConfig.autoScale);groupAttr.scaleText=(0,_lib.pluck)(rawConfig.scaletext,rawConfig.scaleText);groupAttr.xScale=(0,_lib.pluck)(rawConfig.xscale,rawConfig.xScale);groupAttr.yScale=(0,_lib.pluck)(rawConfig.yscale,rawConfig.yScale);groupAttr.scaleImages=(0,_lib.pluck)(rawConfig.scaleimages,rawConfig.scaleImages);groupAttr.constrainedScale=(0,_lib.pluck)(rawConfig.constrainedscale);groupAttr.origH=(0,_lib.pluck)(rawConfig.origh,rawConfig.origH,chartConfig.origh);groupAttr.origW=(0,_lib.pluck)(rawConfig.origw,rawConfig.origW,chartConfig.origw);groupAttr.onAnnotationClick=rawConfig.onAnnotationClick;groupAttr.onAnnotationRollover=rawConfig.onAnnotationRollover;groupAttr.onAnnotationRollout=rawConfig.onAnnotationRollout;if(typeof rawConfig.component===\"object\"){groupAttr.component=rawConfig.component}for(var attribute in groupAttr){if(groupAttr.hasOwnProperty(attribute)){var val=groupAttr[attribute];if(typeof val===\"undefined\")delete groupAttr[attribute]}}if(Array.isArray(rawItemConfigs)){groupAttr.itemConfigs=rawItemConfigs.map((function(itemConfig){return parseShapeConfiguration(itemConfig,groupAttr,chartConfig)}))}return groupAttr},mergeConfig=function mergeConfig(rawconfig,groupConfig){groupConfig.css=groupConfig.css||rawconfig.css;groupConfig.autoscale=(0,_lib.pluck)(groupConfig.autoscale,rawconfig.autoscale);groupConfig.animationLabel=(0,_lib.pluck)(groupConfig.animationLabel,rawconfig.animationLabel);groupConfig.constrainedscale=(0,_lib.pluck)(groupConfig.constrainedscale,rawconfig.constrainedscale);groupConfig.scaletext=(0,_lib.pluck)(groupConfig.scaletext,rawconfig.scaletext);groupConfig.scaleimages=(0,_lib.pluck)(groupConfig.scaleimages,rawconfig.scaleimages);groupConfig.xshift=(0,_lib.pluck)(groupConfig.xshift,rawconfig.xshift);groupConfig.yshift=(0,_lib.pluck)(groupConfig.yshift,rawconfig.yshift);groupConfig.grpxshift=(0,_lib.pluck)(groupConfig.grpxshift,rawconfig.grpxshift);groupConfig.grpyshift=(0,_lib.pluck)(groupConfig.grpyshift,rawconfig.grpyshift);groupConfig.origw=(0,_lib.pluck)(groupConfig.origw,rawconfig.origw);groupConfig.origh=(0,_lib.pluck)(groupConfig.origh,rawconfig.origh);groupConfig.showbelow=(0,_lib.pluck)(groupConfig.showbelow,rawconfig.showbelow,1);groupConfig.onAnnotationClick=rawconfig.onAnnotationClick;groupConfig.onAnnotationRollover=rawconfig.onAnnotationRollover;groupConfig.onAnnotationRollout=rawconfig.onAnnotationRollout},isRootGroupConfig=function isRootGroupConfig(value,key){return key!==\"itemConfigs\"},getParsedConfig=function getParsedConfig(rawConfig,chartConfig){if(rawConfig===void 0){rawConfig={groups:[]}}if(chartConfig===void 0){chartConfig={}}return(rawConfig.groups||[]).map((function(rawConfigGroup){mergeConfig(rawConfig,rawConfigGroup);return parseConfiguration(rawConfigGroup,chartConfig)}))};var AnnotationManager=function(_SmartRenderer){(0,_inheritsLoose2.default)(AnnotationManager,_SmartRenderer);function AnnotationManager(id){var _this;_this=_SmartRenderer.call(this,id)||this;(0,_dependencyManager.addDep)({name:\"annotationAnimation\",type:\"animationRule\",extension:_annotationAnimation.default});(0,_redraphaelShapes.default)((0,_dependencyManager.getDep)(\"redraphael\",\"plugin\"));(0,_redraphaelShapes2.default)((0,_dependencyManager.getDep)(\"redraphael\",\"plugin\"));_this.groups=[];_this.config.dependencies={};_this._rawJSON={groups:[]};return _this}var _proto=AnnotationManager.prototype;_proto.getName=function getName(){return\"annotation\"};_proto.getType=function getType(){return\"extension\"};_proto.configureAttributes=function configureAttributes(rawConfig){if(rawConfig===void 0){rawConfig={groups:[]}}var annManager=this,annManagerConfig=annManager.config;annManager._rawJSON=(0,_lib.extend2)({},annManager._rawJSON,rawConfig);if(rawConfig.groups){annManagerConfig.parsedConfigs=getParsedConfig(rawConfig,annManager.getFromEnv(\"chart\").config)}else{annManagerConfig.parsedConfigs=[]}annManagerConfig.parsedConfigs.forEach((function(groupConfig){annManager.attachChild(_annotationGroup.default,\"group\",groupConfig.id).configure(groupConfig)}));annManager.groups=annManager.getChildren(\"group\")||[]};_proto.addItem=function addItem(groupId,itemConfig,component){if(itemConfig===void 0){itemConfig={}}var annManager=this,rawJSON=annManager._rawJSON,index,targetedGroup,itemsAr,len=rawJSON.groups.length;for(index=0;index<len;index++){if(rawJSON.groups[index].id===groupId){targetedGroup=rawJSON.groups[index];break}}if(targetedGroup){targetedGroup.items=targetedGroup.items||[]}else{targetedGroup={id:groupId,items:[]};rawJSON.groups.push(targetedGroup)}targetedGroup.items.push(itemConfig);annManager.setData(rawJSON,true);itemsAr=annManager.retrieveGroup(groupId).items;return itemsAr[itemsAr.length-1]};_proto.addGroup=function addGroup(rawConfig){if(rawConfig===void 0){rawConfig={}}var annManager=this,rawJSON=annManager._rawJSON;rawJSON.groups.push(rawConfig);annManager.setData(rawJSON,true);return annManager.groups[annManager.groups.length-1]};_proto.addCustomGroup=function addCustomGroup(group){group&&(this.config.customGroup=group)};_proto.update=function update(id,rawConfig){var ext=this,item,key,config={},itemRawConfig,parsedConfig;if(id){for(key in rawConfig){config[key.toLowerCase()]=rawConfig[key]&&rawConfig[key].toString()}item=ext.retrieveItem(id)||ext.retrieveGroup(id);if(!item||!item.getElement()){return}typeof config.visible===\"undefined\"&&(config.visible=item.config.isVisible);itemRawConfig=item.rawConfig;itemRawConfig=Object.assign(itemRawConfig,config);parsedConfig=parseShapeConfiguration(itemRawConfig);parsedConfig.isVisible=config.visible;item.setData(parsedConfig);return item}};_proto.destroy=function destroy(id){var ext=this,rawJSON=ext._rawJSON,i,j,groupLength,itemLength,group,item,found=false;if(id){for(i=0,groupLength=rawJSON.groups.length;i<groupLength;i++){group=rawJSON.groups[i];for(j=0,itemLength=(group.items||[]).length;j<itemLength;j++){item=group.items[j];if(item.id===id){group.items.splice(j,1);found=true;break}}}if(!found){for(i=0,groupLength=rawJSON.groups.length;i<groupLength;i++){group=rawJSON.groups[i];if(group.id===id){rawJSON.groups.splice(i,1)}}}}else{rawJSON=ext._rawJSON={groups:[]}}ext.setData(rawJSON)};_proto.clear=function clear(){this.destroy()};_proto.retrieveItem=function retrieveItem(id){var found,item,i,len=this.groups.length;for(i=0;i<len;i++){found=this.groups[i].retrieveItem(id);if(found){item=found;break}}return item};_proto.retrieveGroup=function retrieveGroup(id){var controller=this,i,len;for(i=0,len=controller.groups.length;i<len;i++){if(controller.groups[i].getId()===id){return controller.groups[i]}}};_proto.show=function show(id){var item;if(id){item=this.retrieveItem(id)||this.retrieveGroup(id);item&&item.show()}else{this.groups.forEach((function(group){group.show()}))}};_proto.hide=function hide(id){var item;if(id){item=this.retrieveItem(id)||this.retrieveGroup(id);item&&item.hide()}else{this.groups.forEach((function(group){group.hide()}))}};_proto.draw=function draw(){var ext=this;ext.addToEnv(\"snapPoints\",getSnapPoints(ext.getFromEnv(\"chart\")));ext.addGraphicalElement({el:\"group\",attr:{name:\"upperannotations\"},component:ext,container:{label:\"group\",id:\"abovePlotGroup\",isParent:true},id:\"upperAnnotationGroup\",label:\"group\"});ext.addGraphicalElement({el:\"group\",attr:{name:\"lowerannotations\"},component:ext,container:{label:\"group\",id:\"belowPlotGroup\",isParent:true},id:\"lowerAnnotationGroup\",label:\"group\"})};return AnnotationManager}(_componentInterface.SmartRenderer);var _default=AnnotationManager;exports.default=_default;"]},"metadata":{},"sourceType":"script"}