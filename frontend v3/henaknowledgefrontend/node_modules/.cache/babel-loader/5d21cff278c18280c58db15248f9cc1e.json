{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _tool = _interopRequireDefault(require(\"../tool\"));\n\nvar _dependencyManager = require(\"../../../dependency-manager\");\n\nvar _lib = require(\"../../../lib\");\n\nvar _schedular = require(\"../../../schedular\");\n\nvar DRAG_ANCHOR_TIMEOUT = 300;\nvar R = (0, _dependencyManager.getDep)(\"redraphael\", \"plugin\"),\n    START = \"start\";\n\nvar ScrollButton = function (_Tool) {\n  (0, _inheritsLoose2.default)(ScrollButton, _Tool);\n\n  function ScrollButton() {\n    var _this;\n\n    _this = _Tool.call(this) || this;\n    _this._evtHandlers = {};\n    return _this;\n  }\n\n  var _proto = ScrollButton.prototype;\n\n  _proto.configureAttributes = function configureAttributes(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var selfConfig = this.config;\n    selfConfig.type = options.type;\n    selfConfig.style = {\n      button: Object.assign({}, {\n        fill: _lib.TRACKER_FILL,\n        stroke: \"none\"\n      }, options.style.button),\n      arrow: Object.assign({}, {\n        fill: R.tintshade(options.color, -.4).rgba,\n        stroke: \"none\"\n      }, options.style.arrow)\n    };\n  };\n\n  _proto.attachEventHandlers = function attachEventHandlers() {\n    var scrollButton = this,\n        selfConfig = scrollButton.config,\n        dragAnchorTimer,\n        dragStarted,\n        scrollbar = scrollButton.getLinkedParent(),\n        scrollbarConfig = scrollbar.config,\n        scrollAnchor = scrollbar.getChildren(\"scrollAnchor\")[0],\n        boundaryCheckandDraw = function boundaryCheckandDraw() {\n      if (scrollbarConfig.scrollPosition >= 1) {\n        scrollbarConfig.scrollPosition = 1;\n      } else if (scrollbarConfig.scrollPosition <= 0 || isNaN(scrollbarConfig.scrollPosition)) {\n        scrollbarConfig.scrollPosition = 0;\n      }\n\n      scrollAnchor.asyncDraw();\n      typeof scrollbarConfig.evt.scroll === \"function\" && scrollbarConfig.evt.scroll(scrollbarConfig.scrollPosition);\n    },\n        dragJob = function dragJob() {\n      dragStarted = true;\n\n      if (selfConfig.type === START) {\n        scrollbarConfig.scrollPosition -= .01;\n      } else {\n        scrollbarConfig.scrollPosition += .01;\n      }\n\n      boundaryCheckandDraw();\n      scrollButton.addJob(\"dragScrollAnchor\", dragJob, _schedular.priorityList.draw);\n    };\n\n    scrollButton.addEventListener(\"fc-mousedown\", scrollButton._evtHandlers.mousedown || (scrollButton._evtHandlers.mousedown = function () {\n      dragAnchorTimer = setTimeout(function onDragAnchorTimeout() {\n        scrollButton.addJob(\"dragScrollAnchor\", dragJob, _schedular.priorityList.draw);\n      }, DRAG_ANCHOR_TIMEOUT);\n    }));\n    scrollButton.addEventListener(\"fc-mouseup\", scrollButton._evtHandlers.mouseup || (scrollButton._evtHandlers.mouseup = function () {\n      clearTimeout(dragAnchorTimer);\n      scrollButton.removeJob(\"dragScrollAnchor\");\n\n      if (!dragStarted) {\n        if (selfConfig.type === START) {\n          scrollbarConfig.scrollPosition -= .1;\n        } else {\n          scrollbarConfig.scrollPosition += .1;\n        }\n\n        boundaryCheckandDraw();\n      }\n\n      dragStarted = false;\n    }));\n    scrollButton.addEventListener(\"fc-mouseout\", function onScrollButtonMouseOut() {\n      if (dragStarted) {\n        scrollButton._evtHandlers.mouseup();\n      }\n    });\n  };\n\n  _proto.draw = function draw() {\n    var scrollButton = this,\n        selfConfig = scrollButton.config,\n        scrollbar = this.getLinkedParent(),\n        scrollbarConfig = scrollbar.config,\n        containerDetails = {\n      id: \"scrollbarGroup\",\n      label: \"scrollbarGroup\",\n      isParent: true\n    },\n        isHorizontal = scrollbarConfig.isHorizontal,\n        x = scrollbarConfig.x + .5,\n        y = scrollbarConfig.y + scrollbarConfig.padding + .5,\n        width = scrollbarConfig.width - 1 < 1 ? 1 : scrollbarConfig.width - 1,\n        height = scrollbarConfig.height - 1 < 1 ? 1 : scrollbarConfig.height - 1,\n        button = isHorizontal ? Math.min(height, width * .5) : Math.min(width, height * .5),\n        startArrowPath = isHorizontal ? (0, _lib.polyPathToPath)([3, x + button * .5, y + height * .5, button * .25, 180]) : (0, _lib.polyPathToPath)([3, x + width * .5, y + button * .5, button * .25, 90]),\n        endArrowPath = isHorizontal ? (0, _lib.polyPathToPath)([3, x + width - button * .5, y + button * .5, button * .25, 0]) : (0, _lib.polyPathToPath)([3, x + width * .5, y + height - button * .5, button * .25, -90]);\n    scrollButton.addGraphicalElement({\n      el: \"rect\",\n      attr: {\n        x: selfConfig.type === \"start\" ? x : isHorizontal ? x + width - button : x,\n        y: selfConfig.type === \"start\" ? y : isHorizontal ? y : y + height - button,\n        width: selfConfig.type === \"start\" ? isHorizontal ? button : width : isHorizontal ? button : width,\n        height: selfConfig.type === \"start\" ? isHorizontal ? height : button : isHorizontal ? height : button,\n        opacity: selfConfig.style.button.opacity\n      },\n      css: selfConfig.style.button,\n      container: containerDetails,\n      component: scrollButton,\n      label: \"scrollbar\" + selfConfig.type + \"ButtonRect\",\n      id: \"scrollbar\" + selfConfig.type + \"ButtonRect\"\n    });\n    scrollButton.addGraphicalElement({\n      el: \"path\",\n      attr: {\n        path: selfConfig.type === \"start\" ? startArrowPath : endArrowPath,\n        opacity: selfConfig.style.arrow.opacity\n      },\n      css: selfConfig.style.arrow,\n      container: containerDetails,\n      component: scrollButton,\n      label: \"scrollbar\" + selfConfig.type + \"ButtonPath\",\n      id: \"scrollbar\" + selfConfig.type + \"ButtonPath\"\n    });\n  };\n\n  return ScrollButton;\n}(_tool.default);\n\nvar _default = ScrollButton;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/toolbox/tools/scrollbar/scroll-button.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_tool","_dependencyManager","_lib","_schedular","DRAG_ANCHOR_TIMEOUT","R","getDep","START","ScrollButton","_Tool","_this","call","_evtHandlers","_proto","prototype","configureAttributes","options","selfConfig","config","type","style","button","Object","assign","fill","TRACKER_FILL","stroke","arrow","tintshade","color","rgba","attachEventHandlers","scrollButton","dragAnchorTimer","dragStarted","scrollbar","getLinkedParent","scrollbarConfig","scrollAnchor","getChildren","boundaryCheckandDraw","scrollPosition","isNaN","asyncDraw","evt","scroll","dragJob","addJob","priorityList","draw","addEventListener","mousedown","setTimeout","onDragAnchorTimeout","mouseup","clearTimeout","removeJob","onScrollButtonMouseOut","containerDetails","id","label","isParent","isHorizontal","x","y","padding","width","height","Math","min","startArrowPath","polyPathToPath","endArrowPath","addGraphicalElement","el","attr","opacity","css","container","component","path","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _tool=_interopRequireDefault(require(\"../tool\"));var _dependencyManager=require(\"../../../dependency-manager\");var _lib=require(\"../../../lib\");var _schedular=require(\"../../../schedular\");var DRAG_ANCHOR_TIMEOUT=300;var R=(0,_dependencyManager.getDep)(\"redraphael\",\"plugin\"),START=\"start\";var ScrollButton=function(_Tool){(0,_inheritsLoose2.default)(ScrollButton,_Tool);function ScrollButton(){var _this;_this=_Tool.call(this)||this;_this._evtHandlers={};return _this}var _proto=ScrollButton.prototype;_proto.configureAttributes=function configureAttributes(options){if(options===void 0){options={}}var selfConfig=this.config;selfConfig.type=options.type;selfConfig.style={button:Object.assign({},{fill:_lib.TRACKER_FILL,stroke:\"none\"},options.style.button),arrow:Object.assign({},{fill:R.tintshade(options.color,-.4).rgba,stroke:\"none\"},options.style.arrow)}};_proto.attachEventHandlers=function attachEventHandlers(){var scrollButton=this,selfConfig=scrollButton.config,dragAnchorTimer,dragStarted,scrollbar=scrollButton.getLinkedParent(),scrollbarConfig=scrollbar.config,scrollAnchor=scrollbar.getChildren(\"scrollAnchor\")[0],boundaryCheckandDraw=function boundaryCheckandDraw(){if(scrollbarConfig.scrollPosition>=1){scrollbarConfig.scrollPosition=1}else if(scrollbarConfig.scrollPosition<=0||isNaN(scrollbarConfig.scrollPosition)){scrollbarConfig.scrollPosition=0}scrollAnchor.asyncDraw();typeof scrollbarConfig.evt.scroll===\"function\"&&scrollbarConfig.evt.scroll(scrollbarConfig.scrollPosition)},dragJob=function dragJob(){dragStarted=true;if(selfConfig.type===START){scrollbarConfig.scrollPosition-=.01}else{scrollbarConfig.scrollPosition+=.01}boundaryCheckandDraw();scrollButton.addJob(\"dragScrollAnchor\",dragJob,_schedular.priorityList.draw)};scrollButton.addEventListener(\"fc-mousedown\",scrollButton._evtHandlers.mousedown||(scrollButton._evtHandlers.mousedown=function(){dragAnchorTimer=setTimeout((function onDragAnchorTimeout(){scrollButton.addJob(\"dragScrollAnchor\",dragJob,_schedular.priorityList.draw)}),DRAG_ANCHOR_TIMEOUT)}));scrollButton.addEventListener(\"fc-mouseup\",scrollButton._evtHandlers.mouseup||(scrollButton._evtHandlers.mouseup=function(){clearTimeout(dragAnchorTimer);scrollButton.removeJob(\"dragScrollAnchor\");if(!dragStarted){if(selfConfig.type===START){scrollbarConfig.scrollPosition-=.1}else{scrollbarConfig.scrollPosition+=.1}boundaryCheckandDraw()}dragStarted=false}));scrollButton.addEventListener(\"fc-mouseout\",(function onScrollButtonMouseOut(){if(dragStarted){scrollButton._evtHandlers.mouseup()}}))};_proto.draw=function draw(){var scrollButton=this,selfConfig=scrollButton.config,scrollbar=this.getLinkedParent(),scrollbarConfig=scrollbar.config,containerDetails={id:\"scrollbarGroup\",label:\"scrollbarGroup\",isParent:true},isHorizontal=scrollbarConfig.isHorizontal,x=scrollbarConfig.x+.5,y=scrollbarConfig.y+scrollbarConfig.padding+.5,width=scrollbarConfig.width-1<1?1:scrollbarConfig.width-1,height=scrollbarConfig.height-1<1?1:scrollbarConfig.height-1,button=isHorizontal?Math.min(height,width*.5):Math.min(width,height*.5),startArrowPath=isHorizontal?(0,_lib.polyPathToPath)([3,x+button*.5,y+height*.5,button*.25,180]):(0,_lib.polyPathToPath)([3,x+width*.5,y+button*.5,button*.25,90]),endArrowPath=isHorizontal?(0,_lib.polyPathToPath)([3,x+width-button*.5,y+button*.5,button*.25,0]):(0,_lib.polyPathToPath)([3,x+width*.5,y+height-button*.5,button*.25,-90]);scrollButton.addGraphicalElement({el:\"rect\",attr:{x:selfConfig.type===\"start\"?x:isHorizontal?x+width-button:x,y:selfConfig.type===\"start\"?y:isHorizontal?y:y+height-button,width:selfConfig.type===\"start\"?isHorizontal?button:width:isHorizontal?button:width,height:selfConfig.type===\"start\"?isHorizontal?height:button:isHorizontal?height:button,opacity:selfConfig.style.button.opacity},css:selfConfig.style.button,container:containerDetails,component:scrollButton,label:\"scrollbar\"+selfConfig.type+\"ButtonRect\",id:\"scrollbar\"+selfConfig.type+\"ButtonRect\"});scrollButton.addGraphicalElement({el:\"path\",attr:{path:selfConfig.type===\"start\"?startArrowPath:endArrowPath,opacity:selfConfig.style.arrow.opacity},css:selfConfig.style.arrow,container:containerDetails,component:scrollButton,label:\"scrollbar\"+selfConfig.type+\"ButtonPath\",id:\"scrollbar\"+selfConfig.type+\"ButtonPath\"})};return ScrollButton}(_tool.default);var _default=ScrollButton;exports.default=_default;"]},"metadata":{},"sourceType":"script"}