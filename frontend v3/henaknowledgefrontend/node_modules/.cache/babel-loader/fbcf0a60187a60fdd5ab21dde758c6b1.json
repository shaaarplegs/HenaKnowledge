{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _inputBase = _interopRequireDefault(require(\"./input-base\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar zoomOnPoint = function zoomOnPoint(visibleRange, val, zoomTimes, zoomLimit) {\n  var left = val - visibleRange.minValue,\n      right = visibleRange.maxValue - val;\n  return {\n    min: Math.round((val - left / zoomTimes * (zoomTimes - 1)) * zoomLimit) / zoomLimit,\n    max: Math.round((val + right / zoomTimes * (zoomTimes - 1)) * zoomLimit) / zoomLimit\n  };\n};\n\nvar InputDbTapZoom = function (_Base) {\n  (0, _inheritsLoose2.default)(InputDbTapZoom, _Base);\n\n  function InputDbTapZoom() {\n    var _this;\n\n    _this = _Base.call(this) || this;\n    var input = (0, _assertThisInitialized2.default)(_this);\n    input.controlArr = [{\n      nativeInteraction: [\"fc-dbclick\"],\n      callback: input.zoom.bind(input),\n      component: input\n    }];\n    return _this;\n  }\n\n  var _proto = InputDbTapZoom.prototype;\n\n  _proto.getName = function getName() {\n    return \"dbTapZoom\";\n  };\n\n  _proto.configure = function configure() {\n    _Base.prototype.configure.call(this);\n\n    this.enable();\n  };\n\n  _proto.setControl = function setControl() {\n    var input = this,\n        controlArr = input.controlArr,\n        manager = input.getLinkedParent();\n    manager.releaseControl(controlArr);\n\n    if (input.isEnabled()) {\n      manager.getControl(controlArr);\n    }\n  };\n\n  _proto.zoom = function zoom(event) {\n    var input = this,\n        chart = input.getFromEnv(\"chart\"),\n        coord = (0, _lib.getMouseCoordinate)(chart.getLinkedItem(\"container\"), event, chart),\n        axis,\n        val,\n        newRange,\n        visiblerange,\n        axisZoomed,\n        config = input.config,\n        hookFn = config.hookFn,\n        eventArgs = {},\n        startX,\n        endX,\n        startY,\n        endY,\n        level,\n        zoomed = false,\n        zoomLimit = Math.pow(10, config.zoomDecimalLimit) || 1;\n    chart.getFromEnv(\"animationManager\").setAnimationState(\"zoom\");\n    input.getFromEnv(\"axesObArr\").forEach(function (axisOb) {\n      axis = axisOb.axis;\n      val = axis.getValue(axisOb.isY ? coord.chartY : coord.chartX);\n      visiblerange = axis.getVisibleConfig();\n      newRange = zoomOnPoint(visiblerange, val, config.stepzoom, zoomLimit);\n\n      if (axisOb.isY) {\n        startY = newRange.min;\n        endY = newRange.max;\n      } else {\n        startX = newRange.min;\n        endX = newRange.max;\n        eventArgs = input.constructor._getZoomInfo(startX, endX, axis);\n      }\n\n      if (axis.getZoom() <= zoomLimit) {\n        hookFn && typeof config.hookFn === \"function\" && hookFn(newRange.min, newRange.max);\n        axisZoomed = axis.setVisibleConfig(newRange.min, newRange.max);\n        zoomed = zoomed || axisZoomed;\n        axisOb.stack.push(visiblerange);\n        level = axisOb.stack.length + 1;\n      }\n    });\n\n    if (zoomed) {\n      input._raiseZoomEvents(\"zoomin\", \"zoomedin\", Object.assign(eventArgs, {\n        level: level,\n        startX: startX,\n        endX: endX,\n        startY: startY,\n        endY: endY\n      }, event.originalEvent));\n    }\n  };\n\n  return InputDbTapZoom;\n}(_inputBase.default);\n\nvar _default = InputDbTapZoom;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/input-ext/input-dbtap-zoom.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_assertThisInitialized2","_inheritsLoose2","_inputBase","_lib","zoomOnPoint","visibleRange","val","zoomTimes","zoomLimit","left","minValue","right","maxValue","min","Math","round","max","InputDbTapZoom","_Base","_this","call","input","controlArr","nativeInteraction","callback","zoom","bind","component","_proto","prototype","getName","configure","enable","setControl","manager","getLinkedParent","releaseControl","isEnabled","getControl","event","chart","getFromEnv","coord","getMouseCoordinate","getLinkedItem","axis","newRange","visiblerange","axisZoomed","config","hookFn","eventArgs","startX","endX","startY","endY","level","zoomed","pow","zoomDecimalLimit","setAnimationState","forEach","axisOb","getValue","isY","chartY","chartX","getVisibleConfig","stepzoom","constructor","_getZoomInfo","getZoom","setVisibleConfig","stack","push","length","_raiseZoomEvents","Object","assign","originalEvent","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _inputBase=_interopRequireDefault(require(\"./input-base\"));var _lib=require(\"@fusioncharts/core/src/lib\");var zoomOnPoint=function zoomOnPoint(visibleRange,val,zoomTimes,zoomLimit){var left=val-visibleRange.minValue,right=visibleRange.maxValue-val;return{min:Math.round((val-left/zoomTimes*(zoomTimes-1))*zoomLimit)/zoomLimit,max:Math.round((val+right/zoomTimes*(zoomTimes-1))*zoomLimit)/zoomLimit}};var InputDbTapZoom=function(_Base){(0,_inheritsLoose2.default)(InputDbTapZoom,_Base);function InputDbTapZoom(){var _this;_this=_Base.call(this)||this;var input=(0,_assertThisInitialized2.default)(_this);input.controlArr=[{nativeInteraction:[\"fc-dbclick\"],callback:input.zoom.bind(input),component:input}];return _this}var _proto=InputDbTapZoom.prototype;_proto.getName=function getName(){return\"dbTapZoom\"};_proto.configure=function configure(){_Base.prototype.configure.call(this);this.enable()};_proto.setControl=function setControl(){var input=this,controlArr=input.controlArr,manager=input.getLinkedParent();manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}};_proto.zoom=function zoom(event){var input=this,chart=input.getFromEnv(\"chart\"),coord=(0,_lib.getMouseCoordinate)(chart.getLinkedItem(\"container\"),event,chart),axis,val,newRange,visiblerange,axisZoomed,config=input.config,hookFn=config.hookFn,eventArgs={},startX,endX,startY,endY,level,zoomed=false,zoomLimit=Math.pow(10,config.zoomDecimalLimit)||1;chart.getFromEnv(\"animationManager\").setAnimationState(\"zoom\");input.getFromEnv(\"axesObArr\").forEach((function(axisOb){axis=axisOb.axis;val=axis.getValue(axisOb.isY?coord.chartY:coord.chartX);visiblerange=axis.getVisibleConfig();newRange=zoomOnPoint(visiblerange,val,config.stepzoom,zoomLimit);if(axisOb.isY){startY=newRange.min;endY=newRange.max}else{startX=newRange.min;endX=newRange.max;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}if(axis.getZoom()<=zoomLimit){hookFn&&typeof config.hookFn===\"function\"&&hookFn(newRange.min,newRange.max);axisZoomed=axis.setVisibleConfig(newRange.min,newRange.max);zoomed=zoomed||axisZoomed;axisOb.stack.push(visiblerange);level=axisOb.stack.length+1}}));if(zoomed){input._raiseZoomEvents(\"zoomin\",\"zoomedin\",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY},event.originalEvent))}};return InputDbTapZoom}(_inputBase.default);var _default=InputDbTapZoom;exports.default=_default;"]},"metadata":{},"sourceType":"script"}