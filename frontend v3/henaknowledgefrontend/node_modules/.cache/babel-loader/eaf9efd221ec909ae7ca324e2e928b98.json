{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _inputBase = _interopRequireDefault(require(\"./input-base\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _schedular = require(\"@fusioncharts/core/src/schedular\");\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar STATE_PRESSED = \"pressed\",\n    STATE_ACTIVATED = \"activated\";\nvar math = Math,\n    mathMin = math.min,\n    mathMax = math.max,\n    mathAbs = math.abs,\n    UNDEF,\n    TRACKER_FILL = \"rgba(255,0,0,\" + (_lib.isIE ? .002 : 1e-6) + \")\";\n\nvar InputDragPin = function (_Base) {\n  (0, _inheritsLoose2.default)(InputDragPin, _Base);\n\n  function InputDragPin() {\n    var _this;\n\n    _this = _Base.call(this) || this;\n    var input = (0, _assertThisInitialized2.default)(_this);\n    input.controlArr = [{\n      nativeInteraction: [\"fc-dragstart\"],\n      callback: input.dragstart.bind(input),\n      component: input\n    }, {\n      nativeInteraction: [\"fc-dragmove\"],\n      callback: input.dragmove.bind(input),\n      component: input\n    }, {\n      nativeInteraction: [\"fc-dragend\"],\n      callback: input.dragend.bind(input),\n      component: input\n    }];\n    input.toggle = input.toggle.bind(input);\n    return _this;\n  }\n\n  var _proto = InputDragPin.prototype;\n\n  _proto.getName = function getName() {\n    return \"dragPin\";\n  };\n\n  _proto.configure = function configure() {\n    _Base.prototype.configure.call(this);\n\n    var input = this,\n        chartConfig = input.getFromEnv(\"chartConfig\"),\n        chartAttrs = input.getFromEnv(\"dataSource\").chart,\n        config = input.config;\n    config.attr = config.attr || {\n      stroke: \"#3399ff\",\n      fill: \"#b9d5f1\",\n      \"stroke-width\": 0\n    };\n    config.pinAttr = config.pinAttr || {\n      \"stroke-width\": 0,\n      stroke: \"none\",\n      fill: \"#b9d5f1\",\n      \"shape-rendering\": \"crisp\"\n    };\n    config.borderWidth = chartConfig.borderWidth || (chartConfig.borderWidth = (0, _lib.pluckNumber)(chartAttrs.showborder, 1) ? (0, _lib.pluckNumber)(chartAttrs.borderthickness, 1) : 0);\n    !input.config.skipGraphics && input.setLinkedItem(\"button\", input.createButton({\n      icon: \"pinModeIcon\",\n      tooltext: (0, _lib.pluckNumber)(chartAttrs.showtoolbarbuttontooltext, 1) ? (0, _lib.pluck)(input.config.tooltext, \"Pin mode\") : \"\",\n      handlers: {\n        click: input.toggle\n      },\n      state: STATE_ACTIVATED\n    }));\n    input.getLinkedParent().registerDependancy([{\n      derivedInteraction: [\"zoomin\", \"zoomout\"],\n      callback: input.dependancyFn,\n      component: input\n    }]);\n    input.disable(UNDEF, false);\n  };\n\n  _proto.enable = function enable(event, dontFireExtEvt) {\n    var input = this,\n        config = input.config;\n\n    if (config.enabled !== true) {\n      config.enabled = true;\n      config.state = STATE_PRESSED;\n      input.fireEvent(\"pinenabled\");\n      input.setControl();\n      !dontFireExtEvt && input.getFromEnv(\"chart\").fireChartInstanceEvent(\"zoommodechanged\", {\n        pinModeActive: true\n      }, event && event.originalEvent);\n    }\n  };\n\n  _proto.dependancyFn = function dependancyFn(eventOb) {\n    if (eventOb.type === \"zoomin\" || eventOb.type === \"zoomout\") {\n      this.disable(eventOb);\n    }\n  };\n\n  _proto.draw = function draw() {\n    var input = this,\n        config = input.config,\n        xAxis;\n    input.createPin();\n\n    if (input.config.pinElemVisible) {\n      input.addJob(\"resizePinElem\", function () {\n        xAxis = input.getFromEnv(\"xAxis\")[0];\n        input.pinRangePixels(xAxis.getPixel(config.boxStartValue), xAxis.getPixel(config.boxEndValue));\n      }, _schedular.priorityList.postRender);\n    }\n  };\n\n  _proto._setConfig = function _setConfig() {\n    var input = this,\n        chart = input.getFromEnv(\"chart\"),\n        chartConfig = input.getFromEnv(\"chartConfig\"),\n        config = input.config,\n        attr = Object.assign({}, config.attr || {}),\n        strokeWidth = attr[\"stroke-width\"] = (0, _lib.pluckNumber)(attr.strokeWidth, attr[\"stroke-width\"], 1),\n        chartPosition = (0, _lib.getPosition)(chart.getFromEnv(\"chart-container\"), chart);\n    config.zoomX = config.orientation === \"horizontal\" || config.orientation === \"both\";\n    config.zoomY = config.orientation === \"vertical\" || config.orientation === \"both\";\n    config.canvasY = chartConfig.canvasTop;\n    config.canvasX = chartConfig.canvasLeft;\n    config.canvasW = chartConfig.canvasWidth;\n    config.canvasH = chartConfig.canvasHeight;\n    config.canvasX2 = chartConfig.canvasLeft + chartConfig.canvasWidth;\n    config.canvasY2 = chartConfig.canvasTop + chartConfig.canvasHeight;\n    config.strokeWidth = strokeWidth;\n    config.chartPosLeft = chartPosition.left;\n    config.chartPosTop = chartPosition.top;\n  };\n\n  _proto.disable = function disable(event, dontFireExtEvt) {\n    var input = this,\n        config = input.config,\n        pingroup = input.getContainer(\"pingroup\"),\n        pintracker = input.getGraphicalElement(\"pintracker\");\n\n    if (config.enabled !== false) {\n      config.enabled = false;\n      config.state = STATE_ACTIVATED;\n      pingroup && pingroup.hide();\n      pintracker && pintracker.hide();\n      input.fireEvent(\"pindisabled\");\n      !dontFireExtEvt && input.getFromEnv(\"chart\").fireChartInstanceEvent(\"zoommodechanged\", {\n        pinModeActive: false\n      }, event && event.originalEvent);\n      input.setControl();\n      config.pinElemVisible = false;\n    }\n  };\n\n  _proto.setControl = function setControl() {\n    var input = this,\n        manager = input.getLinkedParent(),\n        controlArr = input.controlArr,\n        button = input.getLinkedItem(\"button\");\n    manager.releaseControl(controlArr);\n\n    if (input.isEnabled()) {\n      manager.getControl(controlArr);\n    }\n\n    button && button.setCurrentState(input.config.state);\n  };\n\n  _proto.createPin = function createPin() {\n    var input = this,\n        chart = input.getFromEnv(\"chart\"),\n        chartConfig = input.getFromEnv(\"chartConfig\"),\n        animationManager = input.getFromEnv(\"animationManager\"),\n        canvasTop = chartConfig.canvasTop,\n        canvasBottom = chartConfig.canvasBottom,\n        canvasHeight = chartConfig.canvasHeight,\n        canvasLeft = chartConfig.canvasLeft,\n        borderWidth = input.config.borderWidth,\n        pinclip = chartConfig[\"clip-pinrect\"],\n        pingroup = input.getContainer(\"pingroup\"),\n        pinElemGroup = input.getContainer(\"pinElemGroup\"),\n        pinrect = input.getGraphicalElement(\"pinrect\"),\n        pintracker = input.getGraphicalElement(\"pintracker\"),\n        tAtt,\n        localPinrect,\n        localPintracker,\n        visw,\n        visx;\n    visw = chartConfig._visw = chartConfig.canvasWidth;\n    visx = chartConfig._visx = chartConfig.canvasLeft;\n    tAtt = (0, _dependencyManager.getDep)(\"redraphael\", \"plugin\").crispBound(0, canvasTop - canvasBottom, 0, canvasHeight, borderWidth);\n    pinclip = chartConfig[\"clip-pinrect\"] = [tAtt.x, canvasTop, tAtt.width, tAtt.height];\n\n    if (!pingroup) {\n      input.addContainer(\"pingroup\", pingroup = animationManager.setAnimation({\n        el: \"group\",\n        finalAttr: {\n          name: \"zoompin\"\n        },\n        component: input,\n        label: \"group\"\n      }).insertBefore(chart.getChildContainer(\"plotGroup\")).hide());\n    }\n\n    pingroup.transform(chartConfig._pingrouptransform = [\"T\", visx, canvasBottom]);\n\n    if (!pinElemGroup) {\n      input.addContainer(\"pinElemGroup\", pinElemGroup = animationManager.setAnimation({\n        el: \"group\",\n        attr: {\n          name: \"zoompinelements\"\n        },\n        component: input,\n        container: pingroup,\n        label: \"group\"\n      }));\n    }\n\n    input.config.pinAttr.x = 0;\n    input.config.pinAttr.y = canvasTop - canvasBottom;\n    input.config.pinAttr.width = visw;\n    input.config.pinAttr.height = canvasHeight;\n    localPinrect = animationManager.setAnimation({\n      el: pinrect || \"rect\",\n      attr: input.config.pinAttr,\n      container: pingroup,\n      component: input\n    });\n\n    if (!pinrect) {\n      input.addGraphicalElement(\"pinrect\", localPinrect);\n    }\n\n    localPintracker = animationManager.setAnimation({\n      el: pintracker || \"rect\",\n      attr: {\n        transform: pingroup.transform(),\n        x: 0,\n        y: canvasTop - canvasBottom,\n        width: 0,\n        height: canvasHeight,\n        stroke: \"none\",\n        fill: TRACKER_FILL,\n        cursor: _lib.hasSVG && \"ew-resize\" || \"e-resize\"\n      },\n      container: chart.getChildContainer(\"trackerGroup\"),\n      component: input\n    }).hide();\n\n    if (!pintracker) {\n      input.addGraphicalElement(\"pintracker\", localPintracker);\n    }\n\n    localPintracker.undrag();\n    localPintracker.drag(function (event) {\n      var _dx = event.data[0],\n          offset = visx + _dx + this.__pindragdelta,\n          pbl = this.__pinboundleft,\n          pbr = this.__pinboundright,\n          clip = this.data(\"cliprect\").slice(0);\n\n      if (offset < pbl) {\n        offset = pbl;\n      } else if (offset > pbr) {\n        offset = pbr;\n      }\n\n      pingroup.transform([\"T\", offset, canvasBottom]);\n      localPintracker.transform(pingroup.transform());\n\n      if (!_lib.hasSVG) {\n        clip[0] = clip[0] + offset - visx - this.__pindragdelta;\n        animationManager.setAnimation({\n          el: pingroup,\n          attr: {\n            \"clip-rect\": clip\n          },\n          component: input\n        });\n      }\n\n      this.__pindragoffset = _dx;\n    }, function () {\n      this.__pinboundleft = 0 - pinclip[0] + visx + canvasLeft;\n      this.__pinboundright = this.__pinboundleft + visw - pinclip[2];\n      this.data(\"cliprect\", pingroup.attr(\"clip-rect\"));\n      pingroup._.clipispath = true;\n    }, function () {\n      pingroup._.clipispath = false;\n      this.__pindragdelta += this.__pindragoffset;\n      delete this.__pindragoffset;\n      delete this.__pinboundleft;\n      delete this.__pinboundright;\n    });\n  };\n\n  _proto.pinRangePixels = function pinRangePixels(pxs, pxe, event) {\n    var input = this,\n        chart = input.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        canvasLeft = chartConfig.canvasLeft,\n        xAxis = input.getFromEnv(\"xAxis\")[0],\n        axisLimits = xAxis.getLimit(),\n        maxIndex = axisLimits.max,\n        minIndex = axisLimits.min,\n        pingroup = input.getContainer(\"pingroup\"),\n        pinclip = chartConfig[\"clip-pinrect\"],\n        animationManager = input.getFromEnv(\"animationManager\"),\n        pingrouptransform = chartConfig._pingrouptransform,\n        plots = [],\n        pxw = pxe - pxs,\n        plot,\n        startIndex,\n        endIndex,\n        startLabel,\n        endLabel,\n        i,\n        pintracker = input.getGraphicalElement(\"pintracker\");\n    chart.iterateComponents(function (child) {\n      if (child.getType && child.getType() === \"dataset\") {\n        plots.push(child);\n      }\n    });\n\n    if (!pingroup || !input.getGraphicalElement(\"pinrect\")) {\n      return;\n    }\n\n    if (pxs === pxe) {\n      pingroup.hide();\n      pintracker.hide();\n    }\n\n    i = plots.length;\n\n    while (i--) {\n      plot = plots[i];\n      plot.fireEvent(\"createpinelements\", {\n        group: input.getContainer(\"pinElemGroup\")\n      });\n    }\n\n    pinclip[0] = pxs + canvasLeft;\n    pinclip[2] = pxw;\n    animationManager.setAnimation({\n      el: pingroup,\n      attr: {\n        \"clip-rect\": pinclip,\n        transform: pingrouptransform\n      },\n      component: input\n    }).show();\n    pintracker.__pindragdelta = 0;\n    pintracker.show();\n    animationManager.setAnimation({\n      el: pintracker,\n      attr: {\n        transform: pingrouptransform,\n        x: pxs,\n        width: pxw\n      },\n      component: input\n    });\n    input.config.pinElemVisible = true;\n    startIndex = Math.round(xAxis.getValue(pxs + canvasLeft, {\n      wrtVisible: true\n    }));\n    endIndex = Math.round(xAxis.getValue(pxe + canvasLeft, {\n      wrtVisible: true\n    }));\n    startIndex = startIndex < minIndex ? minIndex : startIndex;\n    endIndex = endIndex > maxIndex ? maxIndex : endIndex;\n    startLabel = xAxis.getLabel(startIndex).label;\n    endLabel = xAxis.getLabel(endIndex).label;\n    event && chart.fireChartInstanceEvent(\"pinned\", {\n      startIndex: startIndex || Math.abs(startIndex),\n      endIndex: endIndex || Math.abs(endIndex),\n      startLabel: startLabel,\n      endLabel: endLabel\n    }, event.originalEvent);\n  };\n\n  _proto.dragstart = function dragstart(event) {\n    this._setConfig();\n\n    var input = this,\n        animationManager = input.getFromEnv(\"animationManager\"),\n        container = input.getFromEnv(\"chart-container\"),\n        config = input.config,\n        chartPosition,\n        attr = config.attr,\n        resizeBox,\n        resizeBoxCheck = input.getGraphicalElement(\"resizeBox\"),\n        originalEvent = event.originalEvent,\n        layerX = config.layerX = (originalEvent.pageX || originalEvent.data[0]) - config.chartPosLeft,\n        layerY = config.layerY = (originalEvent.pageY || originalEvent.data[1]) - config.chartPosTop,\n        canvasY = config.canvasY,\n        canvasX = config.canvasX,\n        canvasX2 = config.canvasX2,\n        canvasY2 = config.canvasY2;\n    chartPosition = (0, _lib.getPosition)(container);\n    config.chartPosLeft = chartPosition.left;\n    config.chartPosTop = chartPosition.top;\n    config.oy = layerY;\n    config.ox = layerX;\n    config.allowMove = false;\n    attr.x = 0;\n    attr.y = 0;\n    attr.width = 0;\n    attr.height = 0;\n    resizeBox = animationManager.setAnimation({\n      el: resizeBoxCheck || \"rect\",\n      attr: attr,\n      container: input.getFromEnv(\"chart\").getChildContainer(\"trackerGroup\"),\n      component: input,\n      callback: function callback() {\n        this.show();\n      }\n    });\n\n    if (!resizeBoxCheck) {\n      input.addGraphicalElement(\"resizeBox\", resizeBox);\n    }\n\n    if (layerX > canvasX && layerX < canvasX2 && layerY > canvasY && layerY < canvasY2) {\n      config.allowMove = true;\n    }\n\n    config.dragstartFn && typeof config.dragstartFn === \"function\" && config.dragstartFn(event);\n  };\n\n  _proto.dragmove = function dragmove(event) {\n    this._setConfig();\n\n    var input = this,\n        config = input.config,\n        animationManager = input.getFromEnv(\"animationManager\"),\n        originalEvent = event.originalEvent,\n        pageX = originalEvent.pageX || originalEvent.data[2],\n        pageY = originalEvent.page || originalEvent.data[3],\n        layerX = config.layerX = pageX - config.chartPosLeft,\n        layerY = config.layerY = pageY - config.chartPosTop,\n        dx = layerX - config.ox,\n        dy = layerY - config.oy,\n        x = config.ox,\n        y = config.oy,\n        zoomX = config.zoomX,\n        zoomY = config.zoomY,\n        strokeWidth = config.strokeWidth,\n        canvasW = config.canvasW,\n        canvasH = config.canvasH,\n        canvasY = config.canvasY,\n        canvasX = config.canvasX,\n        canvasX2 = config.canvasX2,\n        canvasY2 = config.canvasY2;\n    animationManager.setAnimationState(\"dragMove\");\n\n    if (!config.allowMove) {\n      return;\n    }\n\n    if (!config.isDragged) {\n      config.isDragged = 1;\n    }\n\n    dx = -(x - mathMin(x - (x - mathMax(x + dx, canvasX)), canvasX2));\n    dy = -(y - mathMin(y - (y - mathMax(y + dy, canvasY)), canvasY2));\n    animationManager.setAnimation({\n      el: input.getGraphicalElement(\"resizeBox\"),\n      attr: {\n        x: (zoomX ? mathMin(x, x + dx) : canvasX) + strokeWidth * .5,\n        y: (zoomY ? mathMin(y, y + dy) : canvasY) + strokeWidth * .5,\n        width: zoomX ? mathAbs(dx) : canvasW,\n        height: zoomY ? mathAbs(dy) : canvasH\n      },\n      component: input\n    });\n    config.dragmoveFn && typeof config.dragmoveFn === \"function\" && config.dragmoveFn(event);\n  };\n\n  _proto.dragend = function dragend(event) {\n    this._setConfig();\n\n    var input = this,\n        chart = input.getFromEnv(\"chart\"),\n        config = input.config,\n        xAxis = input.getFromEnv(\"xAxis\")[0],\n        resizeBox = input.getGraphicalElement(\"resizeBox\"),\n        bBox = config.bBox,\n        pxs,\n        pxe;\n    chart.getFromEnv(\"animationManager\").setAnimationState(\"dragEnd\");\n    bBox = resizeBox.getBBox();\n\n    if (config.isDragged) {\n      config.dragendFn && typeof config.dragendFn === \"function\" && config.dragendFn(event, {\n        chart: chart,\n        selectionLeft: bBox.x,\n        selectionTop: bBox.y,\n        selectionHeight: bBox.height,\n        selectionWidth: bBox.width,\n        originalEvent: event.originalEvent\n      });\n      config.isDragged = 0;\n    }\n\n    resizeBox.hide();\n    delete config.oy;\n    delete config.ox;\n    pxs = bBox.x - chart.config.canvasLeft;\n    pxe = pxs + bBox.width;\n\n    if (pxs === pxe) {\n      return;\n    }\n\n    config.boxStartValue = xAxis.getValue(pxs);\n    config.boxEndValue = xAxis.getValue(pxe);\n    input.pinRangePixels(pxs, pxe, event);\n  };\n\n  return InputDragPin;\n}(_inputBase.default);\n\nvar _default = InputDragPin;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/input-ext/input-drag-pin.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_assertThisInitialized2","_inheritsLoose2","_inputBase","_lib","_schedular","_dependencyManager","STATE_PRESSED","STATE_ACTIVATED","math","Math","mathMin","min","mathMax","max","mathAbs","abs","UNDEF","TRACKER_FILL","isIE","InputDragPin","_Base","_this","call","input","controlArr","nativeInteraction","callback","dragstart","bind","component","dragmove","dragend","toggle","_proto","prototype","getName","configure","chartConfig","getFromEnv","chartAttrs","chart","config","attr","stroke","fill","pinAttr","borderWidth","pluckNumber","showborder","borderthickness","skipGraphics","setLinkedItem","createButton","icon","tooltext","showtoolbarbuttontooltext","pluck","handlers","click","state","getLinkedParent","registerDependancy","derivedInteraction","dependancyFn","disable","enable","event","dontFireExtEvt","enabled","fireEvent","setControl","fireChartInstanceEvent","pinModeActive","originalEvent","eventOb","type","draw","xAxis","createPin","pinElemVisible","addJob","pinRangePixels","getPixel","boxStartValue","boxEndValue","priorityList","postRender","_setConfig","Object","assign","strokeWidth","chartPosition","getPosition","zoomX","orientation","zoomY","canvasY","canvasTop","canvasX","canvasLeft","canvasW","canvasWidth","canvasH","canvasHeight","canvasX2","canvasY2","chartPosLeft","left","chartPosTop","top","pingroup","getContainer","pintracker","getGraphicalElement","hide","manager","button","getLinkedItem","releaseControl","isEnabled","getControl","setCurrentState","animationManager","canvasBottom","pinclip","pinElemGroup","pinrect","tAtt","localPinrect","localPintracker","visw","visx","_visw","_visx","getDep","crispBound","x","width","height","addContainer","setAnimation","el","finalAttr","name","label","insertBefore","getChildContainer","transform","_pingrouptransform","container","y","addGraphicalElement","cursor","hasSVG","undrag","drag","_dx","data","offset","__pindragdelta","pbl","__pinboundleft","pbr","__pinboundright","clip","slice","__pindragoffset","_","clipispath","pxs","pxe","axisLimits","getLimit","maxIndex","minIndex","pingrouptransform","plots","pxw","plot","startIndex","endIndex","startLabel","endLabel","i","iterateComponents","child","getType","push","length","group","show","round","getValue","wrtVisible","getLabel","resizeBox","resizeBoxCheck","layerX","pageX","layerY","pageY","oy","ox","allowMove","dragstartFn","page","dx","dy","setAnimationState","isDragged","dragmoveFn","bBox","getBBox","dragendFn","selectionLeft","selectionTop","selectionHeight","selectionWidth","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _inputBase=_interopRequireDefault(require(\"./input-base\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _schedular=require(\"@fusioncharts/core/src/schedular\");var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var STATE_PRESSED=\"pressed\",STATE_ACTIVATED=\"activated\";var math=Math,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,UNDEF,TRACKER_FILL=\"rgba(255,0,0,\"+(_lib.isIE?.002:1e-6)+\")\";var InputDragPin=function(_Base){(0,_inheritsLoose2.default)(InputDragPin,_Base);function InputDragPin(){var _this;_this=_Base.call(this)||this;var input=(0,_assertThisInitialized2.default)(_this);input.controlArr=[{nativeInteraction:[\"fc-dragstart\"],callback:input.dragstart.bind(input),component:input},{nativeInteraction:[\"fc-dragmove\"],callback:input.dragmove.bind(input),component:input},{nativeInteraction:[\"fc-dragend\"],callback:input.dragend.bind(input),component:input}];input.toggle=input.toggle.bind(input);return _this}var _proto=InputDragPin.prototype;_proto.getName=function getName(){return\"dragPin\"};_proto.configure=function configure(){_Base.prototype.configure.call(this);var input=this,chartConfig=input.getFromEnv(\"chartConfig\"),chartAttrs=input.getFromEnv(\"dataSource\").chart,config=input.config;config.attr=config.attr||{stroke:\"#3399ff\",fill:\"#b9d5f1\",\"stroke-width\":0};config.pinAttr=config.pinAttr||{\"stroke-width\":0,stroke:\"none\",fill:\"#b9d5f1\",\"shape-rendering\":\"crisp\"};config.borderWidth=chartConfig.borderWidth||(chartConfig.borderWidth=(0,_lib.pluckNumber)(chartAttrs.showborder,1)?(0,_lib.pluckNumber)(chartAttrs.borderthickness,1):0);!input.config.skipGraphics&&input.setLinkedItem(\"button\",input.createButton({icon:\"pinModeIcon\",tooltext:(0,_lib.pluckNumber)(chartAttrs.showtoolbarbuttontooltext,1)?(0,_lib.pluck)(input.config.tooltext,\"Pin mode\"):\"\",handlers:{click:input.toggle},state:STATE_ACTIVATED}));input.getLinkedParent().registerDependancy([{derivedInteraction:[\"zoomin\",\"zoomout\"],callback:input.dependancyFn,component:input}]);input.disable(UNDEF,false)};_proto.enable=function enable(event,dontFireExtEvt){var input=this,config=input.config;if(config.enabled!==true){config.enabled=true;config.state=STATE_PRESSED;input.fireEvent(\"pinenabled\");input.setControl();!dontFireExtEvt&&input.getFromEnv(\"chart\").fireChartInstanceEvent(\"zoommodechanged\",{pinModeActive:true},event&&event.originalEvent)}};_proto.dependancyFn=function dependancyFn(eventOb){if(eventOb.type===\"zoomin\"||eventOb.type===\"zoomout\"){this.disable(eventOb)}};_proto.draw=function draw(){var input=this,config=input.config,xAxis;input.createPin();if(input.config.pinElemVisible){input.addJob(\"resizePinElem\",(function(){xAxis=input.getFromEnv(\"xAxis\")[0];input.pinRangePixels(xAxis.getPixel(config.boxStartValue),xAxis.getPixel(config.boxEndValue))}),_schedular.priorityList.postRender)}};_proto._setConfig=function _setConfig(){var input=this,chart=input.getFromEnv(\"chart\"),chartConfig=input.getFromEnv(\"chartConfig\"),config=input.config,attr=Object.assign({},config.attr||{}),strokeWidth=attr[\"stroke-width\"]=(0,_lib.pluckNumber)(attr.strokeWidth,attr[\"stroke-width\"],1),chartPosition=(0,_lib.getPosition)(chart.getFromEnv(\"chart-container\"),chart);config.zoomX=config.orientation===\"horizontal\"||config.orientation===\"both\";config.zoomY=config.orientation===\"vertical\"||config.orientation===\"both\";config.canvasY=chartConfig.canvasTop;config.canvasX=chartConfig.canvasLeft;config.canvasW=chartConfig.canvasWidth;config.canvasH=chartConfig.canvasHeight;config.canvasX2=chartConfig.canvasLeft+chartConfig.canvasWidth;config.canvasY2=chartConfig.canvasTop+chartConfig.canvasHeight;config.strokeWidth=strokeWidth;config.chartPosLeft=chartPosition.left;config.chartPosTop=chartPosition.top};_proto.disable=function disable(event,dontFireExtEvt){var input=this,config=input.config,pingroup=input.getContainer(\"pingroup\"),pintracker=input.getGraphicalElement(\"pintracker\");if(config.enabled!==false){config.enabled=false;config.state=STATE_ACTIVATED;pingroup&&pingroup.hide();pintracker&&pintracker.hide();input.fireEvent(\"pindisabled\");!dontFireExtEvt&&input.getFromEnv(\"chart\").fireChartInstanceEvent(\"zoommodechanged\",{pinModeActive:false},event&&event.originalEvent);input.setControl();config.pinElemVisible=false}};_proto.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),controlArr=input.controlArr,button=input.getLinkedItem(\"button\");manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}button&&button.setCurrentState(input.config.state)};_proto.createPin=function createPin(){var input=this,chart=input.getFromEnv(\"chart\"),chartConfig=input.getFromEnv(\"chartConfig\"),animationManager=input.getFromEnv(\"animationManager\"),canvasTop=chartConfig.canvasTop,canvasBottom=chartConfig.canvasBottom,canvasHeight=chartConfig.canvasHeight,canvasLeft=chartConfig.canvasLeft,borderWidth=input.config.borderWidth,pinclip=chartConfig[\"clip-pinrect\"],pingroup=input.getContainer(\"pingroup\"),pinElemGroup=input.getContainer(\"pinElemGroup\"),pinrect=input.getGraphicalElement(\"pinrect\"),pintracker=input.getGraphicalElement(\"pintracker\"),tAtt,localPinrect,localPintracker,visw,visx;visw=chartConfig._visw=chartConfig.canvasWidth;visx=chartConfig._visx=chartConfig.canvasLeft;tAtt=(0,_dependencyManager.getDep)(\"redraphael\",\"plugin\").crispBound(0,canvasTop-canvasBottom,0,canvasHeight,borderWidth);pinclip=chartConfig[\"clip-pinrect\"]=[tAtt.x,canvasTop,tAtt.width,tAtt.height];if(!pingroup){input.addContainer(\"pingroup\",pingroup=animationManager.setAnimation({el:\"group\",finalAttr:{name:\"zoompin\"},component:input,label:\"group\"}).insertBefore(chart.getChildContainer(\"plotGroup\")).hide())}pingroup.transform(chartConfig._pingrouptransform=[\"T\",visx,canvasBottom]);if(!pinElemGroup){input.addContainer(\"pinElemGroup\",pinElemGroup=animationManager.setAnimation({el:\"group\",attr:{name:\"zoompinelements\"},component:input,container:pingroup,label:\"group\"}))}input.config.pinAttr.x=0;input.config.pinAttr.y=canvasTop-canvasBottom;input.config.pinAttr.width=visw;input.config.pinAttr.height=canvasHeight;localPinrect=animationManager.setAnimation({el:pinrect||\"rect\",attr:input.config.pinAttr,container:pingroup,component:input});if(!pinrect){input.addGraphicalElement(\"pinrect\",localPinrect)}localPintracker=animationManager.setAnimation({el:pintracker||\"rect\",attr:{transform:pingroup.transform(),x:0,y:canvasTop-canvasBottom,width:0,height:canvasHeight,stroke:\"none\",fill:TRACKER_FILL,cursor:_lib.hasSVG&&\"ew-resize\"||\"e-resize\"},container:chart.getChildContainer(\"trackerGroup\"),component:input}).hide();if(!pintracker){input.addGraphicalElement(\"pintracker\",localPintracker)}localPintracker.undrag();localPintracker.drag((function(event){var _dx=event.data[0],offset=visx+_dx+this.__pindragdelta,pbl=this.__pinboundleft,pbr=this.__pinboundright,clip=this.data(\"cliprect\").slice(0);if(offset<pbl){offset=pbl}else if(offset>pbr){offset=pbr}pingroup.transform([\"T\",offset,canvasBottom]);localPintracker.transform(pingroup.transform());if(!_lib.hasSVG){clip[0]=clip[0]+offset-visx-this.__pindragdelta;animationManager.setAnimation({el:pingroup,attr:{\"clip-rect\":clip},component:input})}this.__pindragoffset=_dx}),(function(){this.__pinboundleft=0-pinclip[0]+visx+canvasLeft;this.__pinboundright=this.__pinboundleft+visw-pinclip[2];this.data(\"cliprect\",pingroup.attr(\"clip-rect\"));pingroup._.clipispath=true}),(function(){pingroup._.clipispath=false;this.__pindragdelta+=this.__pindragoffset;delete this.__pindragoffset;delete this.__pinboundleft;delete this.__pinboundright}))};_proto.pinRangePixels=function pinRangePixels(pxs,pxe,event){var input=this,chart=input.getFromEnv(\"chart\"),chartConfig=chart.config,canvasLeft=chartConfig.canvasLeft,xAxis=input.getFromEnv(\"xAxis\")[0],axisLimits=xAxis.getLimit(),maxIndex=axisLimits.max,minIndex=axisLimits.min,pingroup=input.getContainer(\"pingroup\"),pinclip=chartConfig[\"clip-pinrect\"],animationManager=input.getFromEnv(\"animationManager\"),pingrouptransform=chartConfig._pingrouptransform,plots=[],pxw=pxe-pxs,plot,startIndex,endIndex,startLabel,endLabel,i,pintracker=input.getGraphicalElement(\"pintracker\");chart.iterateComponents((function(child){if(child.getType&&child.getType()===\"dataset\"){plots.push(child)}}));if(!pingroup||!input.getGraphicalElement(\"pinrect\")){return}if(pxs===pxe){pingroup.hide();pintracker.hide()}i=plots.length;while(i--){plot=plots[i];plot.fireEvent(\"createpinelements\",{group:input.getContainer(\"pinElemGroup\")})}pinclip[0]=pxs+canvasLeft;pinclip[2]=pxw;animationManager.setAnimation({el:pingroup,attr:{\"clip-rect\":pinclip,transform:pingrouptransform},component:input}).show();pintracker.__pindragdelta=0;pintracker.show();animationManager.setAnimation({el:pintracker,attr:{transform:pingrouptransform,x:pxs,width:pxw},component:input});input.config.pinElemVisible=true;startIndex=Math.round(xAxis.getValue(pxs+canvasLeft,{wrtVisible:true}));endIndex=Math.round(xAxis.getValue(pxe+canvasLeft,{wrtVisible:true}));startIndex=startIndex<minIndex?minIndex:startIndex;endIndex=endIndex>maxIndex?maxIndex:endIndex;startLabel=xAxis.getLabel(startIndex).label;endLabel=xAxis.getLabel(endIndex).label;event&&chart.fireChartInstanceEvent(\"pinned\",{startIndex:startIndex||Math.abs(startIndex),endIndex:endIndex||Math.abs(endIndex),startLabel:startLabel,endLabel:endLabel},event.originalEvent)};_proto.dragstart=function dragstart(event){this._setConfig();var input=this,animationManager=input.getFromEnv(\"animationManager\"),container=input.getFromEnv(\"chart-container\"),config=input.config,chartPosition,attr=config.attr,resizeBox,resizeBoxCheck=input.getGraphicalElement(\"resizeBox\"),originalEvent=event.originalEvent,layerX=config.layerX=(originalEvent.pageX||originalEvent.data[0])-config.chartPosLeft,layerY=config.layerY=(originalEvent.pageY||originalEvent.data[1])-config.chartPosTop,canvasY=config.canvasY,canvasX=config.canvasX,canvasX2=config.canvasX2,canvasY2=config.canvasY2;chartPosition=(0,_lib.getPosition)(container);config.chartPosLeft=chartPosition.left;config.chartPosTop=chartPosition.top;config.oy=layerY;config.ox=layerX;config.allowMove=false;attr.x=0;attr.y=0;attr.width=0;attr.height=0;resizeBox=animationManager.setAnimation({el:resizeBoxCheck||\"rect\",attr:attr,container:input.getFromEnv(\"chart\").getChildContainer(\"trackerGroup\"),component:input,callback:function callback(){this.show()}});if(!resizeBoxCheck){input.addGraphicalElement(\"resizeBox\",resizeBox)}if(layerX>canvasX&&layerX<canvasX2&&layerY>canvasY&&layerY<canvasY2){config.allowMove=true}config.dragstartFn&&typeof config.dragstartFn===\"function\"&&config.dragstartFn(event)};_proto.dragmove=function dragmove(event){this._setConfig();var input=this,config=input.config,animationManager=input.getFromEnv(\"animationManager\"),originalEvent=event.originalEvent,pageX=originalEvent.pageX||originalEvent.data[2],pageY=originalEvent.page||originalEvent.data[3],layerX=config.layerX=pageX-config.chartPosLeft,layerY=config.layerY=pageY-config.chartPosTop,dx=layerX-config.ox,dy=layerY-config.oy,x=config.ox,y=config.oy,zoomX=config.zoomX,zoomY=config.zoomY,strokeWidth=config.strokeWidth,canvasW=config.canvasW,canvasH=config.canvasH,canvasY=config.canvasY,canvasX=config.canvasX,canvasX2=config.canvasX2,canvasY2=config.canvasY2;animationManager.setAnimationState(\"dragMove\");if(!config.allowMove){return}if(!config.isDragged){config.isDragged=1}dx=-(x-mathMin(x-(x-mathMax(x+dx,canvasX)),canvasX2));dy=-(y-mathMin(y-(y-mathMax(y+dy,canvasY)),canvasY2));animationManager.setAnimation({el:input.getGraphicalElement(\"resizeBox\"),attr:{x:(zoomX?mathMin(x,x+dx):canvasX)+strokeWidth*.5,y:(zoomY?mathMin(y,y+dy):canvasY)+strokeWidth*.5,width:zoomX?mathAbs(dx):canvasW,height:zoomY?mathAbs(dy):canvasH},component:input});config.dragmoveFn&&typeof config.dragmoveFn===\"function\"&&config.dragmoveFn(event)};_proto.dragend=function dragend(event){this._setConfig();var input=this,chart=input.getFromEnv(\"chart\"),config=input.config,xAxis=input.getFromEnv(\"xAxis\")[0],resizeBox=input.getGraphicalElement(\"resizeBox\"),bBox=config.bBox,pxs,pxe;chart.getFromEnv(\"animationManager\").setAnimationState(\"dragEnd\");bBox=resizeBox.getBBox();if(config.isDragged){config.dragendFn&&typeof config.dragendFn===\"function\"&&config.dragendFn(event,{chart:chart,selectionLeft:bBox.x,selectionTop:bBox.y,selectionHeight:bBox.height,selectionWidth:bBox.width,originalEvent:event.originalEvent});config.isDragged=0}resizeBox.hide();delete config.oy;delete config.ox;pxs=bBox.x-chart.config.canvasLeft;pxe=pxs+bBox.width;if(pxs===pxe){return}config.boxStartValue=xAxis.getValue(pxs);config.boxEndValue=xAxis.getValue(pxe);input.pinRangePixels(pxs,pxe,event)};return InputDragPin}(_inputBase.default);var _default=InputDragPin;exports.default=_default;"]},"metadata":{},"sourceType":"script"}