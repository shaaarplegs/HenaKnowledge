{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _inputBase = _interopRequireDefault(require(\"./input-base\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar STATE_PRESSED = \"pressed\",\n    STATE_ACTIVATED = \"activated\";\n\nvar min = Math.min,\n    abs = Math.abs,\n    UNDEF,\n    getRectDimension = function getRectDimension(startPos, currentPos, canvasAttr, isXY) {\n  currentPos.x < canvasAttr.x && (currentPos.x = canvasAttr.x);\n  currentPos.y < canvasAttr.y && (currentPos.y = canvasAttr.y);\n  currentPos.x > canvasAttr.width + canvasAttr.x && (currentPos.x = canvasAttr.width + canvasAttr.x);\n  currentPos.y > canvasAttr.height + canvasAttr.y && (currentPos.y = canvasAttr.height + canvasAttr.y);\n  var width = currentPos.x - startPos.x,\n      height = startPos.y - currentPos.y,\n      x = min(startPos.x, currentPos.x),\n      y = min(startPos.y, currentPos.y),\n      cursor;\n\n  if (width > 0 && height > 0) {\n    cursor = isXY ? \"ne-resize\" : \"e-resize\";\n  } else if (width < 0 && height > 0) {\n    cursor = isXY ? \"nw-resize\" : \"w-resize\";\n  } else if (width < 0 && height < 0) {\n    cursor = isXY ? \"sw-resize\" : \"w-resize\";\n  } else if (width > 0 && height < 0) {\n    cursor = isXY ? \"se-resize\" : \"e-resize\";\n  }\n\n  width = abs(width);\n  height = abs(height);\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    cursor: cursor\n  };\n};\n\nvar InputDragZoom = function (_Base) {\n  (0, _inheritsLoose2.default)(InputDragZoom, _Base);\n\n  function InputDragZoom() {\n    var _this;\n\n    _this = _Base.call(this) || this;\n    var input = (0, _assertThisInitialized2.default)(_this);\n    input.controlArr = [{\n      nativeInteraction: [\"fc-dragstart\"],\n      callback: input.dragStart.bind(input),\n      component: input\n    }, {\n      nativeInteraction: [\"fc-dragmove\"],\n      callback: input.onDrag.bind(input),\n      component: input\n    }, {\n      nativeInteraction: [\"fc-dragend\"],\n      callback: input.onDragEnd.bind(input),\n      component: input\n    }];\n    _lib.isFirefox && input.controlArr.push({\n      nativeInteraction: [\"fc-mousedown\"],\n      callback: InputDragZoom.mousedown,\n      component: input\n    });\n\n    input._toggle = function () {\n      input._checkStackLen() && input.toggle();\n    };\n\n    return _this;\n  }\n\n  var _proto = InputDragZoom.prototype;\n\n  _proto.getName = function getName() {\n    return \"dragZoomIn\";\n  };\n\n  _proto.configure = function configure() {\n    _Base.prototype.configure.call(this);\n\n    var input = this,\n        config = input.config;\n    config.boxStyle = config.boxStyle || {\n      \"stroke-width\": 1,\n      stroke: \"red\",\n      fill: \"#00FF00\",\n      opacity: .2,\n      cursor: \"ne-resize\"\n    };\n    !input.config.skipGraphics && input.setLinkedItem(\"button\", input.createButton({\n      icon: \"zoomModeIcon\",\n      tooltext: input.config.tooltext,\n      handlers: {\n        click: input._toggle\n      },\n      state: STATE_ACTIVATED\n    }));\n    input.enable(\"pressed\");\n    input.getLinkedParent().registerDependancy([{\n      derivedInteraction: [\"pinenabled\", \"pindisabled\", \"panenabled\", \"pandisabled\"],\n      callback: input.dependancyFn,\n      component: input\n    }]);\n  };\n\n  InputDragZoom.mousedown = function mousedown(event) {\n    event && event.preventDefault();\n  };\n\n  _proto.setControl = function setControl() {\n    var input = this,\n        manager = input.getLinkedParent(),\n        button = input.getLinkedItem(\"button\"),\n        controlArr = input.controlArr;\n    manager.releaseControl(controlArr);\n\n    if (input.isEnabled()) {\n      manager.getControl(controlArr);\n    }\n\n    button && button.setCurrentState(input.isEnabled() ? input.config.state : \"disabled\");\n  };\n\n  _proto.getCoordinates = function getCoordinates(event) {\n    var chart = this.getFromEnv(\"chart\"),\n        coord = (0, _lib.getMouseCoordinate)(chart.getFromEnv(\"chart-container\"), event, chart);\n    return {\n      x: coord.chartX,\n      y: coord.chartY\n    };\n  };\n\n  _proto.inCanvasLimit = function inCanvasLimit(attrs) {\n    var canvasAttr = this.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,\n        minX = canvasAttr.x,\n        minY = canvasAttr.y,\n        xDiff = attrs.x - canvasAttr.x,\n        yDiff = attrs.y - canvasAttr.y,\n        maxWidth = canvasAttr.width - xDiff,\n        maxHeight = canvasAttr.height - yDiff;\n    return attrs.x > minX && attrs.y > minY && attrs.width < maxWidth && attrs.height < maxHeight;\n  };\n\n  _proto.drawBox = function drawBox() {\n    var input = this,\n        config = input.config,\n        box = input.getGraphicalElement(\"box\"),\n        canvasAttr = input.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,\n        dimension;\n\n    if (!box) {\n      box = input.addGraphicalElement(\"box\", input.getFromEnv(\"paper\").rect());\n      box.attr(config.boxStyle);\n    }\n\n    dimension = getRectDimension(input.dragBoxConfig.startPos, input.dragBoxConfig.currentPos, canvasAttr, input.getFromEnv(\"chart\").isXY);\n\n    if (!config.scaleX) {\n      dimension.x = canvasAttr.x;\n      dimension.width = canvasAttr.width;\n    }\n\n    if (!config.scaleY) {\n      dimension.y = canvasAttr.y;\n      dimension.height = canvasAttr.height;\n    }\n\n    box.attr(dimension);\n    box.show();\n  };\n\n  _proto.onDragEnd = function onDragEnd(event) {\n    var input = this,\n        config = input.config,\n        canvasAttr = input.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,\n        box = input.getGraphicalElement(\"box\") || {},\n        boxAttr = box.attrs,\n        startPosX,\n        endPosX,\n        startPosY,\n        endPosY;\n\n    if (!boxAttr || !config.dragmove) {\n      return;\n    }\n\n    config.dragmove = false;\n    box.hide();\n    config.startPosX = startPosX = (boxAttr.x - canvasAttr.x) / canvasAttr.width;\n    config.endPosX = endPosX = (boxAttr.x + boxAttr.width - canvasAttr.x) / canvasAttr.width;\n    config.startPosY = startPosY = (boxAttr.y - canvasAttr.y) / canvasAttr.height;\n    config.endPosY = endPosY = (boxAttr.y + boxAttr.height - canvasAttr.y) / canvasAttr.height;\n\n    if (endPosX - startPosX < .01 || endPosY - startPosY < .01) {\n      return;\n    }\n\n    input.zoomTo(UNDEF, UNDEF, event);\n  };\n\n  _proto.zoomTo = function zoomTo(startIndex, endIndex, event) {\n    var input = this,\n        config = input.config,\n        zoomed = false,\n        eventArgs = {},\n        start,\n        end,\n        level,\n        startY,\n        startX,\n        endY,\n        endX,\n        axisZoomed,\n        catZoomLimit = config.catZoomLimit - 1;\n    input.getFromEnv(\"axesObArr\").forEach(function (axisOb) {\n      var axis = axisOb.axis,\n          chart = axis.getFromEnv(\"chart\"),\n          scrollbar = chart.getChildren(\"scrollBar\") && chart.getChildren(\"scrollBar\")[0],\n          visibleRange = axis.getVisibleConfig(),\n          startPos = axisOb.isY ? visibleRange.maxValue : visibleRange.minValue,\n          diff = visibleRange.maxValue - visibleRange.minValue;\n\n      if (axisOb.isY) {\n        startY = start = startIndex === UNDEF ? startPos - diff * config.endPosY : startIndex;\n        endY = end = endIndex === UNDEF ? startPos - config.startPosY * diff : endIndex;\n      } else {\n        startX = start = startIndex === UNDEF ? startPos + config.startPosX * diff : startIndex;\n        endX = end = endIndex === UNDEF ? startPos + diff * config.endPosX : endIndex;\n        eventArgs = input.constructor._getZoomInfo(startX, endX, axis);\n      }\n\n      if (catZoomLimit && !axis.config.isVertical && Math.round(end - start) < catZoomLimit) {\n        start = Math.round(start);\n        end = start + catZoomLimit;\n      }\n\n      if (diff > 1 || end - start > 1) {\n        config.dragendFn && typeof config.dragendFn === \"function\" && config.dragendFn(event, start, end);\n        axisZoomed = axis.setVisibleConfig(start, end);\n        chart.setScrollBarDimension && chart.setScrollBarDimension();\n        scrollbar && !scrollbar.getState(\"removed\") && scrollbar.asyncDraw();\n        zoomed = zoomed || axisZoomed;\n        axisOb.stack.push(visibleRange);\n        level = axisOb.stack.length + 1;\n      }\n    });\n\n    if (zoomed) {\n      input._raiseZoomEvents(\"zoomin\", \"zoomedin\", Object.assign(eventArgs, {\n        level: level,\n        startX: startX,\n        endX: endX,\n        startY: startY,\n        endY: endY\n      }, {\n        originalEvent: event && event.originalEvent\n      }));\n    }\n  };\n\n  _proto.onDrag = function onDrag(event) {\n    var input = this,\n        config = input.config,\n        currentXY = input.getCoordinates(event.originalEvent);\n    config.dragmove = true;\n    this.getFromEnv(\"animationManager\").setAnimationState(\"drag\");\n    config.dragmoveFn && typeof config.dragmoveFn === \"function\" && config.dragmoveFn(event);\n    input.dragBoxConfig.currentPos = currentXY;\n    input.drawBox();\n  };\n\n  _proto.dragStart = function dragStart(event) {\n    var input = this,\n        config = input.config,\n        currentXY = input.getCoordinates(event.originalEvent);\n    config.dragstartFn && typeof config.dragstartFn === \"function\" && config.dragstartFn(event);\n    input.dragBoxConfig = {\n      startPos: currentXY,\n      currentPos: currentXY\n    };\n  };\n\n  _proto.enable = function enable() {\n    var input = this;\n\n    if (input.config.enabled !== true) {\n      input.config.enabled = true;\n      input.config.state = STATE_PRESSED;\n      input.fireEvent(\"dragzoomenabled\");\n      input.setControl();\n    }\n  };\n\n  _proto.disable = function disable() {\n    var input = this;\n\n    if (input.config.enabled !== false) {\n      input.config.enabled = false;\n      input.config.state = STATE_ACTIVATED;\n      input.fireEvent(\"dragzoomdisabled\");\n      input.setControl();\n    }\n  };\n\n  _proto.dependancyFn = function dependancyFn(eventOb) {\n    if (eventOb.type === \"pinenabled\" || eventOb.type === \"panenabled\") {\n      this.disable();\n    } else if (eventOb.type === \"pindisabled\" || eventOb.type === \"pandisabled\") {\n      this.enable();\n    }\n  };\n\n  return InputDragZoom;\n}(_inputBase.default);\n\nvar _default = InputDragZoom;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/input-ext/input-drag-zoom.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_assertThisInitialized2","_inheritsLoose2","_inputBase","_lib","STATE_PRESSED","STATE_ACTIVATED","min","Math","abs","UNDEF","getRectDimension","startPos","currentPos","canvasAttr","isXY","x","y","width","height","cursor","InputDragZoom","_Base","_this","call","input","controlArr","nativeInteraction","callback","dragStart","bind","component","onDrag","onDragEnd","isFirefox","push","mousedown","_toggle","_checkStackLen","toggle","_proto","prototype","getName","configure","config","boxStyle","stroke","fill","opacity","skipGraphics","setLinkedItem","createButton","icon","tooltext","handlers","click","state","enable","getLinkedParent","registerDependancy","derivedInteraction","dependancyFn","event","preventDefault","setControl","manager","button","getLinkedItem","releaseControl","isEnabled","getControl","setCurrentState","getCoordinates","chart","getFromEnv","coord","getMouseCoordinate","chartX","chartY","inCanvasLimit","attrs","getGraphicalElement","minX","minY","xDiff","yDiff","maxWidth","maxHeight","drawBox","box","dimension","addGraphicalElement","rect","attr","dragBoxConfig","scaleX","scaleY","show","boxAttr","startPosX","endPosX","startPosY","endPosY","dragmove","hide","zoomTo","startIndex","endIndex","zoomed","eventArgs","start","end","level","startY","startX","endY","endX","axisZoomed","catZoomLimit","forEach","axisOb","axis","scrollbar","getChildren","visibleRange","getVisibleConfig","isY","maxValue","minValue","diff","constructor","_getZoomInfo","isVertical","round","dragendFn","setVisibleConfig","setScrollBarDimension","getState","asyncDraw","stack","length","_raiseZoomEvents","Object","assign","originalEvent","currentXY","setAnimationState","dragmoveFn","dragstartFn","enabled","fireEvent","disable","eventOb","type","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _inputBase=_interopRequireDefault(require(\"./input-base\"));var _lib=require(\"@fusioncharts/core/src/lib\");var STATE_PRESSED=\"pressed\",STATE_ACTIVATED=\"activated\";var min=Math.min,abs=Math.abs,UNDEF,getRectDimension=function getRectDimension(startPos,currentPos,canvasAttr,isXY){currentPos.x<canvasAttr.x&&(currentPos.x=canvasAttr.x);currentPos.y<canvasAttr.y&&(currentPos.y=canvasAttr.y);currentPos.x>canvasAttr.width+canvasAttr.x&&(currentPos.x=canvasAttr.width+canvasAttr.x);currentPos.y>canvasAttr.height+canvasAttr.y&&(currentPos.y=canvasAttr.height+canvasAttr.y);var width=currentPos.x-startPos.x,height=startPos.y-currentPos.y,x=min(startPos.x,currentPos.x),y=min(startPos.y,currentPos.y),cursor;if(width>0&&height>0){cursor=isXY?\"ne-resize\":\"e-resize\"}else if(width<0&&height>0){cursor=isXY?\"nw-resize\":\"w-resize\"}else if(width<0&&height<0){cursor=isXY?\"sw-resize\":\"w-resize\"}else if(width>0&&height<0){cursor=isXY?\"se-resize\":\"e-resize\"}width=abs(width);height=abs(height);return{x:x,y:y,width:width,height:height,cursor:cursor}};var InputDragZoom=function(_Base){(0,_inheritsLoose2.default)(InputDragZoom,_Base);function InputDragZoom(){var _this;_this=_Base.call(this)||this;var input=(0,_assertThisInitialized2.default)(_this);input.controlArr=[{nativeInteraction:[\"fc-dragstart\"],callback:input.dragStart.bind(input),component:input},{nativeInteraction:[\"fc-dragmove\"],callback:input.onDrag.bind(input),component:input},{nativeInteraction:[\"fc-dragend\"],callback:input.onDragEnd.bind(input),component:input}];_lib.isFirefox&&input.controlArr.push({nativeInteraction:[\"fc-mousedown\"],callback:InputDragZoom.mousedown,component:input});input._toggle=function(){input._checkStackLen()&&input.toggle()};return _this}var _proto=InputDragZoom.prototype;_proto.getName=function getName(){return\"dragZoomIn\"};_proto.configure=function configure(){_Base.prototype.configure.call(this);var input=this,config=input.config;config.boxStyle=config.boxStyle||{\"stroke-width\":1,stroke:\"red\",fill:\"#00FF00\",opacity:.2,cursor:\"ne-resize\"};!input.config.skipGraphics&&input.setLinkedItem(\"button\",input.createButton({icon:\"zoomModeIcon\",tooltext:input.config.tooltext,handlers:{click:input._toggle},state:STATE_ACTIVATED}));input.enable(\"pressed\");input.getLinkedParent().registerDependancy([{derivedInteraction:[\"pinenabled\",\"pindisabled\",\"panenabled\",\"pandisabled\"],callback:input.dependancyFn,component:input}])};InputDragZoom.mousedown=function mousedown(event){event&&event.preventDefault()};_proto.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),button=input.getLinkedItem(\"button\"),controlArr=input.controlArr;manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}button&&button.setCurrentState(input.isEnabled()?input.config.state:\"disabled\")};_proto.getCoordinates=function getCoordinates(event){var chart=this.getFromEnv(\"chart\"),coord=(0,_lib.getMouseCoordinate)(chart.getFromEnv(\"chart-container\"),event,chart);return{x:coord.chartX,y:coord.chartY}};_proto.inCanvasLimit=function inCanvasLimit(attrs){var canvasAttr=this.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,minX=canvasAttr.x,minY=canvasAttr.y,xDiff=attrs.x-canvasAttr.x,yDiff=attrs.y-canvasAttr.y,maxWidth=canvasAttr.width-xDiff,maxHeight=canvasAttr.height-yDiff;return attrs.x>minX&&attrs.y>minY&&attrs.width<maxWidth&&attrs.height<maxHeight};_proto.drawBox=function drawBox(){var input=this,config=input.config,box=input.getGraphicalElement(\"box\"),canvasAttr=input.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,dimension;if(!box){box=input.addGraphicalElement(\"box\",input.getFromEnv(\"paper\").rect());box.attr(config.boxStyle)}dimension=getRectDimension(input.dragBoxConfig.startPos,input.dragBoxConfig.currentPos,canvasAttr,input.getFromEnv(\"chart\").isXY);if(!config.scaleX){dimension.x=canvasAttr.x;dimension.width=canvasAttr.width}if(!config.scaleY){dimension.y=canvasAttr.y;dimension.height=canvasAttr.height}box.attr(dimension);box.show()};_proto.onDragEnd=function onDragEnd(event){var input=this,config=input.config,canvasAttr=input.getFromEnv(\"canvas\").getGraphicalElement(\"canvasElement\").attrs,box=input.getGraphicalElement(\"box\")||{},boxAttr=box.attrs,startPosX,endPosX,startPosY,endPosY;if(!boxAttr||!config.dragmove){return}config.dragmove=false;box.hide();config.startPosX=startPosX=(boxAttr.x-canvasAttr.x)/canvasAttr.width;config.endPosX=endPosX=(boxAttr.x+boxAttr.width-canvasAttr.x)/canvasAttr.width;config.startPosY=startPosY=(boxAttr.y-canvasAttr.y)/canvasAttr.height;config.endPosY=endPosY=(boxAttr.y+boxAttr.height-canvasAttr.y)/canvasAttr.height;if(endPosX-startPosX<.01||endPosY-startPosY<.01){return}input.zoomTo(UNDEF,UNDEF,event)};_proto.zoomTo=function zoomTo(startIndex,endIndex,event){var input=this,config=input.config,zoomed=false,eventArgs={},start,end,level,startY,startX,endY,endX,axisZoomed,catZoomLimit=config.catZoomLimit-1;input.getFromEnv(\"axesObArr\").forEach((function(axisOb){var axis=axisOb.axis,chart=axis.getFromEnv(\"chart\"),scrollbar=chart.getChildren(\"scrollBar\")&&chart.getChildren(\"scrollBar\")[0],visibleRange=axis.getVisibleConfig(),startPos=axisOb.isY?visibleRange.maxValue:visibleRange.minValue,diff=visibleRange.maxValue-visibleRange.minValue;if(axisOb.isY){startY=start=startIndex===UNDEF?startPos-diff*config.endPosY:startIndex;endY=end=endIndex===UNDEF?startPos-config.startPosY*diff:endIndex}else{startX=start=startIndex===UNDEF?startPos+config.startPosX*diff:startIndex;endX=end=endIndex===UNDEF?startPos+diff*config.endPosX:endIndex;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}if(catZoomLimit&&!axis.config.isVertical&&Math.round(end-start)<catZoomLimit){start=Math.round(start);end=start+catZoomLimit}if(diff>1||end-start>1){config.dragendFn&&typeof config.dragendFn===\"function\"&&config.dragendFn(event,start,end);axisZoomed=axis.setVisibleConfig(start,end);chart.setScrollBarDimension&&chart.setScrollBarDimension();scrollbar&&!scrollbar.getState(\"removed\")&&scrollbar.asyncDraw();zoomed=zoomed||axisZoomed;axisOb.stack.push(visibleRange);level=axisOb.stack.length+1}}));if(zoomed){input._raiseZoomEvents(\"zoomin\",\"zoomedin\",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY},{originalEvent:event&&event.originalEvent}))}};_proto.onDrag=function onDrag(event){var input=this,config=input.config,currentXY=input.getCoordinates(event.originalEvent);config.dragmove=true;this.getFromEnv(\"animationManager\").setAnimationState(\"drag\");config.dragmoveFn&&typeof config.dragmoveFn===\"function\"&&config.dragmoveFn(event);input.dragBoxConfig.currentPos=currentXY;input.drawBox()};_proto.dragStart=function dragStart(event){var input=this,config=input.config,currentXY=input.getCoordinates(event.originalEvent);config.dragstartFn&&typeof config.dragstartFn===\"function\"&&config.dragstartFn(event);input.dragBoxConfig={startPos:currentXY,currentPos:currentXY}};_proto.enable=function enable(){var input=this;if(input.config.enabled!==true){input.config.enabled=true;input.config.state=STATE_PRESSED;input.fireEvent(\"dragzoomenabled\");input.setControl()}};_proto.disable=function disable(){var input=this;if(input.config.enabled!==false){input.config.enabled=false;input.config.state=STATE_ACTIVATED;input.fireEvent(\"dragzoomdisabled\");input.setControl()}};_proto.dependancyFn=function dependancyFn(eventOb){if(eventOb.type===\"pinenabled\"||eventOb.type===\"panenabled\"){this.disable()}else if(eventOb.type===\"pindisabled\"||eventOb.type===\"pandisabled\"){this.enable()}};return InputDragZoom}(_inputBase.default);var _default=InputDragZoom;exports.default=_default;"]},"metadata":{},"sourceType":"script"}