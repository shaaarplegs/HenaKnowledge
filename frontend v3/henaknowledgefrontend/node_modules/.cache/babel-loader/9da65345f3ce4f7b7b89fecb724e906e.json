{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = _default;\n\nvar _imageAlignment = require(\"../../image-alignment\");\n\nfunction _default(R) {\n  var UNDEF,\n      TILE = \"tile\",\n      FILL = \"fill\",\n      FIT = \"fit\",\n      POSITION_TOP = \"top\",\n      POSITION_MIDDLE = \"middle\",\n      POSITION_BOTTOM = \"bottom\",\n      POSITION_LEFT = \"left\",\n      POSITION_RIGHT = \"right\",\n      onError = function onError(o) {\n    return function () {\n      o.hide();\n\n      for (var i = 0, len = o._.gridElem && o._.gridElem.length; i < len; i++) {\n        o._.gridElem[i].remove();\n      }\n\n      o._.gridElem = [];\n\n      o._attr({\n        src: o._._src\n      });\n\n      setTimeout(function () {\n        o.show();\n      }, 100);\n    };\n  },\n      gridDraw = function gridDraw(o, image, applySrc) {\n    return function () {\n      var imageAttr = getImageAttr(o._.imageGridAttr, image),\n          xRepeatCount = 1,\n          yRepeatCount = 1,\n          yCount = 1,\n          gridElem,\n          counter,\n          imgY;\n\n      if (imageAttr.tileInfo) {\n        xRepeatCount = imageAttr.tileInfo.xCount;\n        yRepeatCount = yCount = imageAttr.tileInfo.yCount;\n        imgY = imageAttr.y;\n        delete imageAttr.tileInfo;\n      }\n\n      if (o._.gridElem) {\n        for (counter = 0; counter < o._.gridElem.length; counter++) {\n          o._.gridElem[counter].remove();\n        }\n\n        o._.gridElem.length = 0;\n      }\n\n      counter = 0;\n\n      while (xRepeatCount && imageAttr.width && imageAttr.height) {\n        yCount--;\n\n        if (counter === 0) {\n          o.attr(applySrc ? Object.assign(imageAttr, {\n            applysrc: o._._src\n          }) : imageAttr);\n        } else {\n          gridElem = o.clone().attr({\n            x: imageAttr.x,\n            y: imageAttr.y\n          });\n\n          o._.gridElem.push(gridElem.follow(o, UNDEF, \"after\"));\n        }\n\n        imageAttr.y += imageAttr.height;\n\n        if (yCount === 0) {\n          yCount = yRepeatCount;\n          xRepeatCount--;\n          imageAttr.x += imageAttr.width;\n          imageAttr.y = imgY;\n        }\n\n        counter++;\n      }\n    };\n  },\n      getImageAttr = function getImageAttr(attrs, refImage) {\n    var alignImage;\n\n    if (attrs) {\n      var displayMode = attrs.displayMode,\n          vAlign = attrs.vAlign,\n          hAlign = attrs.hAlign,\n          scale = attrs.scale,\n          canvasBorderWidth = attrs.canvasBorderWidth,\n          canvasWidth = attrs.canvasWidth,\n          canvasHeight = attrs.canvasHeight,\n          imageWidth = refImage.width * (scale / 100),\n          imageHeight = refImage.height * (scale / 100),\n          cWidth = canvasWidth - canvasBorderWidth * 2,\n          cHeight = canvasHeight - canvasBorderWidth * 2;\n      alignImage = (0, _imageAlignment.getAlignImage)(vAlign, hAlign, displayMode, imageWidth, imageHeight, canvasWidth, canvasHeight, canvasBorderWidth, cWidth, cHeight);\n    }\n\n    return alignImage || {\n      x: 0,\n      y: 0,\n      width: refImage.width,\n      height: refImage.height\n    };\n  };\n\n  R.define && R.define([{\n    name: \"imagegrid\",\n    imagegrid: function imagegrid() {\n      var paper = this,\n          image,\n          o,\n          args = arguments,\n          lastArg = args.length - 1,\n          group = args[lastArg];\n      group && group.constructor === R.el.constructor ? args[lastArg] = UNDEF : group = UNDEF;\n      image = new Image();\n      o = paper.image(group);\n      o._.gridElem = [];\n      o._.refImage = image;\n      o._attr = o.attr;\n\n      o.attr = function (_name, value) {\n        var name = _name,\n            isArray = Array.isArray(name),\n            isObject = !isArray && typeof name === \"object\",\n            isString = typeof name === \"string\";\n\n        if (isArray) {\n          name = name[0];\n          isObject = typeof name === \"object\";\n        }\n\n        if (isObject) {\n          var attrs = Object.assign({}, name),\n              src = attrs && attrs.src,\n              applySrc = attrs && attrs.applysrc;\n          delete attrs.src;\n          delete attrs.applysrc;\n          src && delete o._._src;\n\n          o._attr(attrs);\n\n          src && o._attr({\n            _src: src\n          });\n          applySrc && o._attr({\n            src: applySrc\n          });\n        } else if (name === UNDEF && value === UNDEF) {\n          return this.attrs;\n        } else if (value === UNDEF) {\n          return this.attrs[name];\n        } else if (isString && value) {\n          if (name === \"src\") {\n            o._attr({\n              _src: value\n            });\n          } else if (name === \"applysrc\") {\n            o._attr({\n              src: value\n            });\n          } else {\n            o._attr({\n              name: value\n            });\n          }\n        }\n\n        return this;\n      };\n\n      image.onload = gridDraw(o, image, true);\n      image.onerror = onError(o);\n      return o;\n    },\n    ca: {\n      imagegrid: function imagegrid(displayMode, _vAlign, _hAlign, scale, canvasBorderWidth, canvasWidth, canvasHeight) {\n        if (scale === void 0) {\n          scale = 100;\n        }\n\n        if (canvasBorderWidth === void 0) {\n          canvasBorderWidth = 0;\n        }\n\n        if (canvasWidth === void 0) {\n          canvasWidth = 0;\n        }\n\n        if (canvasHeight === void 0) {\n          canvasHeight = 0;\n        }\n\n        var o = this,\n            vAlign = _vAlign,\n            hAlign = _hAlign;\n\n        if (displayMode === TILE || displayMode === FILL || displayMode === FIT) {\n          if (vAlign !== POSITION_TOP && vAlign !== POSITION_MIDDLE && vAlign !== POSITION_BOTTOM) {\n            vAlign = POSITION_MIDDLE;\n          }\n\n          if (hAlign !== POSITION_LEFT && hAlign !== POSITION_MIDDLE && hAlign !== POSITION_RIGHT) {\n            hAlign = POSITION_MIDDLE;\n          }\n        } else {\n          if (vAlign !== POSITION_TOP && vAlign !== POSITION_MIDDLE && vAlign !== POSITION_BOTTOM) {\n            vAlign = POSITION_TOP;\n          }\n\n          if (hAlign !== POSITION_LEFT && hAlign !== POSITION_MIDDLE && hAlign !== POSITION_RIGHT) {\n            hAlign = POSITION_LEFT;\n          }\n        }\n\n        o._.imageGridAttr = {\n          displayMode: displayMode,\n          vAlign: vAlign,\n          hAlign: hAlign,\n          scale: scale,\n          canvasBorderWidth: canvasBorderWidth,\n          canvasWidth: canvasWidth,\n          canvasHeight: canvasHeight\n        };\n        this._._src && gridDraw(o, o._.refImage)();\n      },\n      _src: function _src(value) {\n        this._.refImage.src = value;\n        this._._src = value;\n        return {\n          _src: value\n        };\n      }\n    }\n  }]);\n}","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/_internal/redraphael/redraphael.imagegrid.js"],"names":["exports","__esModule","default","_default","_imageAlignment","require","R","UNDEF","TILE","FILL","FIT","POSITION_TOP","POSITION_MIDDLE","POSITION_BOTTOM","POSITION_LEFT","POSITION_RIGHT","onError","o","hide","i","len","_","gridElem","length","remove","_attr","src","_src","setTimeout","show","gridDraw","image","applySrc","imageAttr","getImageAttr","imageGridAttr","xRepeatCount","yRepeatCount","yCount","counter","imgY","tileInfo","xCount","y","width","height","attr","Object","assign","applysrc","clone","x","push","follow","attrs","refImage","alignImage","displayMode","vAlign","hAlign","scale","canvasBorderWidth","canvasWidth","canvasHeight","imageWidth","imageHeight","cWidth","cHeight","getAlignImage","define","name","imagegrid","paper","args","arguments","lastArg","group","constructor","el","Image","_name","value","isArray","Array","isObject","isString","onload","onerror","ca","_vAlign","_hAlign"],"mappings":"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","sourcesContent":["\"use strict\";exports.__esModule=true;exports.default=_default;var _imageAlignment=require(\"../../image-alignment\");function _default(R){var UNDEF,TILE=\"tile\",FILL=\"fill\",FIT=\"fit\",POSITION_TOP=\"top\",POSITION_MIDDLE=\"middle\",POSITION_BOTTOM=\"bottom\",POSITION_LEFT=\"left\",POSITION_RIGHT=\"right\",onError=function onError(o){return function(){o.hide();for(var i=0,len=o._.gridElem&&o._.gridElem.length;i<len;i++){o._.gridElem[i].remove()}o._.gridElem=[];o._attr({src:o._._src});setTimeout((function(){o.show()}),100)}},gridDraw=function gridDraw(o,image,applySrc){return function(){var imageAttr=getImageAttr(o._.imageGridAttr,image),xRepeatCount=1,yRepeatCount=1,yCount=1,gridElem,counter,imgY;if(imageAttr.tileInfo){xRepeatCount=imageAttr.tileInfo.xCount;yRepeatCount=yCount=imageAttr.tileInfo.yCount;imgY=imageAttr.y;delete imageAttr.tileInfo}if(o._.gridElem){for(counter=0;counter<o._.gridElem.length;counter++){o._.gridElem[counter].remove()}o._.gridElem.length=0}counter=0;while(xRepeatCount&&imageAttr.width&&imageAttr.height){yCount--;if(counter===0){o.attr(applySrc?Object.assign(imageAttr,{applysrc:o._._src}):imageAttr)}else{gridElem=o.clone().attr({x:imageAttr.x,y:imageAttr.y});o._.gridElem.push(gridElem.follow(o,UNDEF,\"after\"))}imageAttr.y+=imageAttr.height;if(yCount===0){yCount=yRepeatCount;xRepeatCount--;imageAttr.x+=imageAttr.width;imageAttr.y=imgY}counter++}}},getImageAttr=function getImageAttr(attrs,refImage){var alignImage;if(attrs){var displayMode=attrs.displayMode,vAlign=attrs.vAlign,hAlign=attrs.hAlign,scale=attrs.scale,canvasBorderWidth=attrs.canvasBorderWidth,canvasWidth=attrs.canvasWidth,canvasHeight=attrs.canvasHeight,imageWidth=refImage.width*(scale/100),imageHeight=refImage.height*(scale/100),cWidth=canvasWidth-canvasBorderWidth*2,cHeight=canvasHeight-canvasBorderWidth*2;alignImage=(0,_imageAlignment.getAlignImage)(vAlign,hAlign,displayMode,imageWidth,imageHeight,canvasWidth,canvasHeight,canvasBorderWidth,cWidth,cHeight)}return alignImage||{x:0,y:0,width:refImage.width,height:refImage.height}};R.define&&R.define([{name:\"imagegrid\",imagegrid:function imagegrid(){var paper=this,image,o,args=arguments,lastArg=args.length-1,group=args[lastArg];group&&group.constructor===R.el.constructor?args[lastArg]=UNDEF:group=UNDEF;image=new Image;o=paper.image(group);o._.gridElem=[];o._.refImage=image;o._attr=o.attr;o.attr=function(_name,value){var name=_name,isArray=Array.isArray(name),isObject=!isArray&&typeof name===\"object\",isString=typeof name===\"string\";if(isArray){name=name[0];isObject=typeof name===\"object\"}if(isObject){var attrs=Object.assign({},name),src=attrs&&attrs.src,applySrc=attrs&&attrs.applysrc;delete attrs.src;delete attrs.applysrc;src&&delete o._._src;o._attr(attrs);src&&o._attr({_src:src});applySrc&&o._attr({src:applySrc})}else if(name===UNDEF&&value===UNDEF){return this.attrs}else if(value===UNDEF){return this.attrs[name]}else if(isString&&value){if(name===\"src\"){o._attr({_src:value})}else if(name===\"applysrc\"){o._attr({src:value})}else{o._attr({name:value})}}return this};image.onload=gridDraw(o,image,true);image.onerror=onError(o);return o},ca:{imagegrid:function imagegrid(displayMode,_vAlign,_hAlign,scale,canvasBorderWidth,canvasWidth,canvasHeight){if(scale===void 0){scale=100}if(canvasBorderWidth===void 0){canvasBorderWidth=0}if(canvasWidth===void 0){canvasWidth=0}if(canvasHeight===void 0){canvasHeight=0}var o=this,vAlign=_vAlign,hAlign=_hAlign;if(displayMode===TILE||displayMode===FILL||displayMode===FIT){if(vAlign!==POSITION_TOP&&vAlign!==POSITION_MIDDLE&&vAlign!==POSITION_BOTTOM){vAlign=POSITION_MIDDLE}if(hAlign!==POSITION_LEFT&&hAlign!==POSITION_MIDDLE&&hAlign!==POSITION_RIGHT){hAlign=POSITION_MIDDLE}}else{if(vAlign!==POSITION_TOP&&vAlign!==POSITION_MIDDLE&&vAlign!==POSITION_BOTTOM){vAlign=POSITION_TOP}if(hAlign!==POSITION_LEFT&&hAlign!==POSITION_MIDDLE&&hAlign!==POSITION_RIGHT){hAlign=POSITION_LEFT}}o._.imageGridAttr={displayMode:displayMode,vAlign:vAlign,hAlign:hAlign,scale:scale,canvasBorderWidth:canvasBorderWidth,canvasWidth:canvasWidth,canvasHeight:canvasHeight};this._._src&&gridDraw(o,o._.refImage)()},_src:function _src(value){this._.refImage.src=value;this._._src=value;return{_src:value}}}}])}"]},"metadata":{},"sourceType":"script"}