{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar win = typeof window !== \"undefined\" ? window : null,\n    doc = win.document,\n    drawLib = {},\n    utilLib = {},\n    _SvgDeCanvo;\n\n_SvgDeCanvo = function SvgDeCanvo(svgElem, canvasElem, x, y, width, height, callback) {\n  var BLANK = \"\",\n      store = {\n    svg: BLANK,\n    context: BLANK,\n    callBack: BLANK,\n    imageArr: [],\n    canvas: BLANK,\n    dimention: {}\n  };\n\n  if (!(this instanceof _SvgDeCanvo)) {\n    throw new Error(\"This function should be used as class\");\n  }\n\n  this._getStore = function (param) {\n    if (typeof store[param] !== \"undefined\") {\n      return store[param];\n    } else {\n      return false;\n    }\n  };\n\n  this._setStore = function (param, value) {\n    if (typeof store[param] !== \"undefined\") {\n      store[param] = value;\n    }\n  };\n\n  this._setStore(\"dimention\", {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  });\n\n  if (svgElem) {\n    this.setSVG(svgElem);\n  }\n\n  if (canvasElem) {\n    this.setContext(canvasElem);\n  }\n\n  if (callback) {\n    this.setCallback(callback);\n  }\n\n  this.drawOnCanvas();\n};\n\n_SvgDeCanvo.prototype.setContext = function (canvasElem) {\n  var context;\n\n  if (canvasElem.getContext && canvasElem.getContext(\"2d\")) {\n    context = canvasElem.getContext(\"2d\");\n\n    this._setStore(\"canvas\", canvasElem);\n\n    this._setStore(\"context\", context);\n  } else {\n    throw new Error(\"Please provide valid canvas\");\n  }\n};\n\n_SvgDeCanvo.prototype.getContext = function () {\n  return this._getStore(\"context\");\n};\n\n_SvgDeCanvo.prototype.setSVG = function (svgElem) {\n  var svg;\n\n  if (typeof svgElem.documentElement !== \"undefined\") {\n    svg = svgElem;\n\n    this._setStore(\"svg\", svg);\n  } else if (svgElem.substr(0, 1) === \"<\") {\n    svg = utilLib.StrToDom(svgElem);\n\n    this._setStore(\"svg\", svg);\n  } else {\n    throw new Error(\"Please provide valid SVG\");\n  }\n};\n\n_SvgDeCanvo.prototype.getSVG = function () {\n  return this._getStore(\"svg\");\n};\n\n_SvgDeCanvo.prototype.setCallback = function (callback) {\n  if (typeof callback === \"function\") {\n    this._setStore(\"callBack\", callback);\n  }\n};\n\n_SvgDeCanvo.prototype.getCallback = function () {\n  return this._getStore(\"callBack\");\n};\n\n_SvgDeCanvo.prototype.drawOnCanvas = function (svgElem, canvasElem, x, y, width, height, callback) {\n  var context, svg, oriWidth, oriHeight, scaleX, scaleY, dimention, oriDimention;\n\n  if (svgElem) {\n    this.setSVG(svgElem);\n  }\n\n  if (canvasElem) {\n    this.setContext(canvasElem);\n  }\n\n  if (callback) {\n    this.setCallback(callback);\n  }\n\n  canvasElem = canvasElem || this._getStore(\"canvas\");\n  dimention = this._getStore(\"dimention\");\n  callback = this.getCallback();\n  context = this.getContext();\n  svg = this.getSVG();\n\n  if (!svg || !context) {\n    return;\n  }\n\n  oriDimention = utilLib.getSvgDimention(svg);\n  oriWidth = oriDimention.width;\n  oriHeight = oriDimention.height;\n  x = x || dimention.x || 0;\n  y = y || dimention.y || 0;\n  width = width || oriWidth || dimention.width;\n  height = height || oriHeight || dimention.height;\n  scaleX = oriDimention.width ? dimention.width / width : 1;\n  scaleY = oriDimention.height ? dimention.height / height : 1;\n  utilLib.startTransform(\"translate(\" + x + \",\" + y + \") scale(\" + scaleX + \",\" + scaleY + \")\", context);\n  context.save();\n  context.fillStyle = \"#ffffff\";\n  context.fillRect(0, 0, width, height);\n  context.restore();\n  utilLib.storeImagesInArr(this);\n  utilLib.drawNodes([svg], [], this, context, function () {\n    typeof callback === \"function\" && callback();\n    utilLib.resetTransform(context);\n  });\n};\n\ndrawLib.common = function (node, attrib, svgDeCanvo, context, callBack) {\n  var children = node.childNodes,\n      fnName,\n      i,\n      styleArr,\n      styleName,\n      callBackFn = function callBackFn() {\n    if (node.attributes) {\n      context.restore();\n    }\n\n    callBack && callBack();\n  };\n\n  for (i in attrib) {\n    if (!attrib.hasOwnProperty(i)) {\n      continue;\n    }\n\n    if (attrib[i].name === \"class\" || attrib[i].name === \"id\") {\n      continue;\n    }\n\n    if (attrib[i].name === \"transform\" || attrib[i].name === \"clip-path\") {\n      continue;\n    }\n\n    if (typeof attrib[i] === \"object\" && node.attributes && !node.attributes[attrib[i].name]) {\n      node.setAttribute([attrib[i].name], attrib[i].value);\n    }\n  }\n\n  if (node.attributes && node.attributes.style) {\n    styleArr = node.attributes.style.value.replace(/;$/, \"\").split(\";\");\n\n    for (i in styleArr) {\n      if (!styleArr.hasOwnProperty(i)) {\n        continue;\n      }\n\n      styleName = styleArr[i].split(\":\")[0].trim();\n\n      if (!node.attributes[styleName] || node.attributes[styleName].value === \"undefined\") {\n        try {\n          node.setAttribute(styleName, styleArr[i].split(\":\")[1].trim());\n        } catch (e) {}\n      }\n    }\n  }\n\n  if (node.attributes) {\n    context.save();\n\n    if (node.attributes.transform) {\n      utilLib.startTransform(node.attributes.transform.value, context);\n    }\n\n    if (node.attributes[\"clip-path\"]) {\n      utilLib.applyClip(node.attributes[\"clip-path\"].value, context, svgDeCanvo);\n    }\n  }\n\n  if (children.length === 0 || children.length === 1 && !children[0].tagName) {\n    if (typeof node.tagName !== \"undefined\") {\n      fnName = \"draw\" + node.tagName;\n\n      if (drawLib[fnName]) {\n        if (node.attributes.display && node.attributes.display.value === \"none\") {\n          callBackFn();\n        } else {\n          drawLib[fnName](node, context, svgDeCanvo, \"draw\", callBackFn);\n        }\n      } else {\n        callBackFn();\n      }\n    } else {\n      callBackFn();\n    }\n  } else {\n    utilLib.drawNodes(children, node.tagName === \"svg\" ? [] : node.attributes, svgDeCanvo, context, callBackFn);\n  }\n};\n\ndrawLib.drawtext = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  this.drawtspan(elem, context, svgDeCanvo, pps, callBackFn);\n};\n\ndrawLib.drawtspan = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var text = elem.innerHTML || elem.textContent,\n      x = elem.attributes.x ? elem.attributes.x.value : 0,\n      y = elem.attributes.y ? elem.attributes.y.value : 0,\n      dx = elem.attributes.dx ? elem.attributes.dx.value : 0,\n      dy = elem.attributes.dy ? elem.attributes.dy.value : 0,\n      defFontFamily = \"serief\",\n      defFontWeight = \"normal\",\n      defFontSize = \"16px\",\n      bBox = [],\n      defCSSprop,\n      fontFamily,\n      fontWeight,\n      textAlign,\n      fontSize;\n\n  if (doc.getElementsByTagName(\"body\")[0]) {\n    defCSSprop = win.getComputedStyle(doc.getElementsByTagName(\"body\")[0], null);\n\n    if (defCSSprop.getPropertyValue(\"font-family\")) {\n      defFontFamily = defCSSprop.getPropertyValue(\"font-family\");\n    }\n\n    if (defCSSprop.getPropertyValue(\"font-weight\")) {\n      defFontWeight = defCSSprop.getPropertyValue(\"font-weight\");\n    }\n\n    if (defCSSprop.getPropertyValue(\"font-size\")) {\n      defFontSize = defCSSprop.getPropertyValue(\"font-size\");\n    }\n  }\n\n  fontFamily = elem.attributes[\"font-family\"] ? elem.attributes[\"font-family\"].value : defFontFamily;\n  fontWeight = elem.attributes[\"font-weight\"] ? elem.attributes[\"font-weight\"].value : defFontWeight;\n  textAlign = elem.attributes[\"text-anchor\"] ? elem.attributes[\"text-anchor\"].value : \"start\";\n  fontSize = elem.attributes[\"font-size\"] ? elem.attributes[\"font-size\"].value : defFontSize;\n  x = Number(x) + Number(dx);\n  y = Number(y) + Number(dy);\n  text = text.trim();\n  textAlign = textAlign === \"middle\" ? \"center\" : textAlign;\n  context.save();\n  context.font = fontWeight + \" \" + fontSize + \" \" + fontFamily;\n  context.textAlign = textAlign;\n\n  if (pps === \"draw\") {\n    if (!elem.attributes.fill || elem.attributes.fill && elem.attributes.fill.value !== \"none\") {\n      utilLib.applyFillEffect(elem, context, svgDeCanvo, bBox);\n      context.fillText(text, x, y);\n      utilLib.endFillEffect(elem, context);\n    }\n\n    if (!elem.attributes.stroke || elem.attributes.stroke && elem.attributes.stroke.value !== \"none\") {\n      utilLib.applyStrokeEffect(elem, context, svgDeCanvo, bBox);\n      context.strokeText(text, x, y);\n      utilLib.endStrokeEffect(elem, context);\n    }\n  }\n\n  context.restore();\n\n  if (typeof callBackFn === \"function\") {\n    callBackFn();\n  }\n};\n\ndrawLib.drawcircle = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var cx = Number(elem.attributes.cx.value),\n      cy = Number(elem.attributes.cy.value),\n      r = Number(elem.attributes.r.value),\n      bBox = [];\n  context.beginPath();\n  context.arc(cx, cy, r, 0, Math.PI * 2);\n  utilLib.bBoxFromPoint([cx, cx * 1 + r * 1, cx * 1 - r * 1], [cy, cy * 1 + r * 1, cy * 1 - r * 1], bBox);\n\n  if (pps === \"draw\") {\n    if (!elem.attributes.fill || elem.attributes.fill && elem.attributes.fill.value !== \"none\") {\n      utilLib.applyFillEffect(elem, context, svgDeCanvo, bBox);\n      context.fill();\n      utilLib.endFillEffect(elem, context);\n    }\n\n    if (!elem.attributes.stroke || elem.attributes.stroke && elem.attributes.stroke.value !== \"none\") {\n      utilLib.applyStrokeEffect(elem, context, svgDeCanvo, bBox);\n      context.stroke();\n      utilLib.endStrokeEffect(elem, context);\n    }\n  }\n\n  context.closePath();\n\n  if (typeof callBackFn === \"function\") {\n    callBackFn();\n  }\n};\n\ndrawLib.drawrect = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var x = elem.attributes.x ? Number(elem.attributes.x.value) : 0,\n      y = elem.attributes.y ? Number(elem.attributes.y.value) : 0,\n      rx = elem.attributes.rx ? Number(elem.attributes.rx.value) : 0,\n      ry = elem.attributes.ry ? Number(elem.attributes.ry.value) : 0,\n      height = Number(elem.attributes.height.value),\n      width = Number(elem.attributes.width.value),\n      bBox = [],\n      initialLineCap = context.lineCap;\n  context.lineCap = \"square\";\n  utilLib.bBoxFromPoint([x, x + width], [y, y + height], bBox);\n  context.beginPath();\n  context.moveTo(x + rx, y);\n  context.lineTo(x + width - rx, y);\n  context.quadraticCurveTo(x + width, y, x + width, y + ry);\n  context.lineTo(x + width, y + height - ry);\n  context.quadraticCurveTo(x + width, y + height, x + width - rx, y + height);\n  context.lineTo(x + rx, y + height);\n  context.quadraticCurveTo(x, y + height, x, y + height - ry);\n  context.lineTo(x, y + ry);\n  context.quadraticCurveTo(x, y, x + rx, y);\n\n  if (pps === \"draw\") {\n    if (!elem.attributes.fill || elem.attributes.fill && elem.attributes.fill.value !== \"none\") {\n      utilLib.applyFillEffect(elem, context, svgDeCanvo, bBox);\n      context.fill();\n      utilLib.endFillEffect(elem, context);\n    }\n\n    if (!elem.attributes.stroke || elem.attributes.stroke && elem.attributes.stroke.value !== \"none\") {\n      utilLib.applyStrokeEffect(elem, context, svgDeCanvo, bBox);\n      context.stroke();\n      utilLib.endStrokeEffect(elem, context);\n    }\n  }\n\n  context.closePath();\n  context.lineCap = initialLineCap;\n\n  if (typeof callBackFn === \"function\") {\n    callBackFn();\n  }\n};\n\ndrawLib.drawellipse = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var kappa = .5522848,\n      cx = Number(elem.attributes.cx.value),\n      cy = Number(elem.attributes.cy.value),\n      rx = Number(elem.attributes.rx.value),\n      ry = Number(elem.attributes.ry.value),\n      ox = rx * kappa,\n      oy = ry * kappa,\n      xe = cx + rx,\n      ye = cy + ry,\n      bBox = [];\n  context.beginPath();\n  context.moveTo(cx - rx, cy);\n  context.bezierCurveTo(cx - rx, cy - oy, cx - ox, cy - ry, cx, cy - ry);\n  context.bezierCurveTo(cx + ox, cy - ry, xe, cy - oy, xe, cy);\n  context.bezierCurveTo(xe, cy + oy, cx + ox, ye, cx, ye);\n  context.bezierCurveTo(cx - ox, ye, cx - rx, cy + oy, cx - rx, cy);\n  utilLib.bBoxFromPoint([cx + rx, cx - rx], [cy + ry, cy - ry], bBox);\n\n  if (pps === \"draw\") {\n    if (!elem.attributes.fill || elem.attributes.fill && elem.attributes.fill.value !== \"none\") {\n      utilLib.applyFillEffect(elem, context, svgDeCanvo, bBox);\n      context.fill();\n      utilLib.endFillEffect(elem, context);\n    }\n\n    if (!elem.attributes.stroke || elem.attributes.stroke && elem.attributes.stroke.value !== \"none\") {\n      utilLib.applyStrokeEffect(elem, context, svgDeCanvo, bBox);\n      context.stroke();\n      utilLib.endStrokeEffect(elem, context);\n    }\n  }\n\n  context.closePath();\n\n  if (typeof callBackFn === \"function\") {\n    callBackFn();\n  }\n};\n\ndrawLib.drawimage = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var x = elem.attributes.x ? Number(elem.attributes.x.value) : 0,\n      y = elem.attributes.y ? Number(elem.attributes.y.value) : 0,\n      height = elem.attributes.height ? Number(elem.attributes.height.value) : 0,\n      width = elem.attributes.width ? Number(elem.attributes.width.value) : 0,\n      imgUrl,\n      imageArr = svgDeCanvo._getStore(\"imageArr\");\n\n  context.save();\n\n  if (elem.attributes.opacity) {\n    context.globalAlpha = elem.attributes.opacity.value;\n  }\n\n  if (elem.attributes[\"xlink:href\"]) {\n    imgUrl = elem.attributes[\"xlink:href\"].value;\n\n    if (imageArr[imgUrl].status === \"complete\") {\n      context.drawImage(imageArr[imgUrl].obj, x, y, width, height);\n      context.globalAlpha = 1;\n      context.restore();\n\n      if (typeof callBackFn === \"function\") {\n        callBackFn();\n      }\n    } else if (imageArr[imgUrl].status === \"error\") {\n      context.globalAlpha = 1;\n      context.restore();\n\n      if (typeof callBackFn === \"function\") {\n        callBackFn();\n      }\n    } else if (imageArr[imgUrl].status === \"progress\") {\n      imageArr[imgUrl].callback = function () {\n        context.drawImage(imageArr[imgUrl].obj, x, y, width, height);\n        context.globalAlpha = 1;\n        context.restore();\n\n        if (typeof callBackFn === \"function\") {\n          callBackFn();\n        }\n      };\n\n      imageArr[imgUrl].errCallback = function () {\n        context.globalAlpha = 1;\n        context.restore();\n\n        if (typeof callBackFn === \"function\") {\n          callBackFn();\n        }\n      };\n    } else {\n      context.globalAlpha = 1;\n      context.restore();\n\n      if (typeof callBackFn === \"function\") {\n        callBackFn();\n      }\n    }\n  } else {\n    context.globalAlpha = 1;\n    context.restore();\n\n    if (typeof callBackFn === \"function\") {\n      callBackFn();\n    }\n  }\n};\n\ndrawLib.drawpath = function (elem, context, svgDeCanvo, pps, callBackFn) {\n  var subPath = elem.attributes.d.value.match(/[a-z][^a-z\"]*/gi),\n      bBox = [],\n      a,\n      cmdName,\n      cmdDetails,\n      cx = 0,\n      cy = 0,\n      lastPosition = {},\n      i;\n  context.beginPath();\n\n  for (a in subPath) {\n    if (!subPath.hasOwnProperty(a)) {\n      continue;\n    }\n\n    cmdName = subPath[a].substring(0, 1);\n    cmdDetails = utilLib.getArgsAsArray(subPath[a].substring(1, subPath[a].length));\n\n    switch (cmdName) {\n      case \"M\":\n        cx = Number(cmdDetails[0]);\n        cy = Number(cmdDetails[1]);\n        context.moveTo(cx, cy);\n        lastPosition.cx = cx;\n        lastPosition.cy = cy;\n        break;\n\n      case \"m\":\n        cx += Number(cmdDetails[0]);\n        cy += Number(cmdDetails[1]);\n        context.moveTo(cx, cy);\n        lastPosition.cx = cx;\n        lastPosition.cy = cy;\n        break;\n\n      case \"L\":\n        for (i = 0; cmdDetails[i]; i += 2) {\n          utilLib.bBoxFromPoint([cx, cmdDetails[i]], [cy, cmdDetails[i + 1]], bBox);\n          cx = Number(cmdDetails[i]);\n          cy = Number(cmdDetails[i + 1]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"l\":\n        for (i = 0; cmdDetails[i]; i += 2) {\n          utilLib.bBoxFromPoint([cx, cx * 1 + 1 * cmdDetails[i]], [cy, cy * 1 + 1 * cmdDetails[i + 1]], bBox);\n          cx += Number(cmdDetails[i]);\n          cy += Number(cmdDetails[i + 1]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"V\":\n        for (i = 0; cmdDetails[i]; i += 1) {\n          utilLib.bBoxFromPoint([cx], [cy, cmdDetails[i]], bBox);\n          cy = Number(cmdDetails[i]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"v\":\n        for (i = 0; cmdDetails[i]; i += 1) {\n          utilLib.bBoxFromPoint([cx], [cy, cy * 1 + 1 * cmdDetails[i]], bBox);\n          cy += Number(cmdDetails[i]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"H\":\n        for (i = 0; cmdDetails[i]; i += 1) {\n          utilLib.bBoxFromPoint([cx, cmdDetails[i]], [cy], bBox);\n          cx = Number(cmdDetails[i]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"h\":\n        for (i = 0; cmdDetails[i]; i += 1) {\n          utilLib.bBoxFromPoint([cx, cx * 1 + 1 * cmdDetails[i]], [cy], bBox);\n          cx += Number(cmdDetails[i]);\n          context.lineTo(cx, cy);\n        }\n\n        break;\n\n      case \"Q\":\n        for (i = 0; cmdDetails[i]; i += 4) {\n          utilLib.qBezierBBox(cx, cy, cmdDetails[i], cmdDetails[i + 1], cmdDetails[i + 2], cmdDetails[i + 3], bBox);\n          context.quadraticCurveTo(Number(cmdDetails[i]), Number(cmdDetails[i + 1]), Number(cmdDetails[i + 2]), Number(cmdDetails[i + 3]));\n          cx = Number(cmdDetails[i + 2]);\n          cy = Number(cmdDetails[i + 3]);\n        }\n\n        break;\n\n      case \"q\":\n        for (i = 0; cmdDetails[i]; i += 4) {\n          utilLib.qBezierBBox(cx, cy, cx + 1 * cmdDetails[i], cy + 1 * cmdDetails[i + 1], cx * 1 + 1 * cmdDetails[i + 2], cy * 1 + 1 * cmdDetails[i + 3], bBox);\n          context.quadraticCurveTo(cx + 1 * cmdDetails[i], cy + 1 * cmdDetails[i + 1], cx += Number(cmdDetails[i + 2]), cy += Number(cmdDetails[i + 3]));\n        }\n\n        break;\n\n      case \"C\":\n        for (i = 0; cmdDetails[i]; i += 6) {\n          utilLib.cBezierBBox(cx, cy, cmdDetails[i], cmdDetails[i + 1], cmdDetails[i + 2], cmdDetails[i + 3], cmdDetails[i + 4], cmdDetails[i + 5], bBox);\n          context.bezierCurveTo(cmdDetails[i], cmdDetails[i + 1], cmdDetails[i + 2], cmdDetails[i + 3], cmdDetails[i + 4], cmdDetails[i + 5]);\n          cx = Number(cmdDetails[i + 4]);\n          cy = Number(cmdDetails[i + 5]);\n        }\n\n        break;\n\n      case \"c\":\n        for (i = 0; cmdDetails[i]; i += 6) {\n          utilLib.cBezierBBox(cx, cy, cx + 1 * cmdDetails[i], cy * 1 + 1 * cmdDetails[i + 1], cx + 1 * cmdDetails[i + 2], cy * 1 + 1 * cmdDetails[i + 3], cx + 1 * cmdDetails[i + 4], cy * 1 + 1 * cmdDetails[i + 5], bBox);\n          context.bezierCurveTo(cx + Number(cmdDetails[i]), cy + Number(cmdDetails[i + 1]), cx + Number(cmdDetails[i + 2]), cy + Number(cmdDetails[i + 3]), cx += Number(cmdDetails[i + 4]), cy += Number(cmdDetails[i + 5]));\n        }\n\n        break;\n\n      case \"a\":\n      case \"A\":\n        for (i = 0; cmdDetails[i]; i += 7) {\n          var rx = Number(cmdDetails[i]),\n              ry = Number(cmdDetails[i + 1]),\n              xAngle,\n              aFlag,\n              sFlag,\n              ex,\n              ey,\n              x1,\n              y1,\n              signValue,\n              s2sqrt,\n              centx1,\n              centy1,\n              centx,\n              centy,\n              startAngle,\n              dAngle,\n              rErrFlag,\n              radius,\n              xShift,\n              yShift;\n          xAngle = Number(cmdDetails[i + 2]) * (Math.PI / 180);\n          aFlag = Number(cmdDetails[i + 3]);\n          sFlag = Number(cmdDetails[i + 4]);\n          ex = Number(cmdDetails[i + 5]);\n          ey = Number(cmdDetails[i + 6]);\n          x1 = Math.cos(xAngle) * (cx - ex) / 2 + Math.sin(xAngle) * (cy - ey) / 2;\n          y1 = -Math.sin(xAngle) * (cx - ex) / 2 + Math.cos(xAngle) * (cy - ey) / 2;\n          rx = rx < 0 ? -rx : rx;\n          ry = ry < 0 ? -ry : ry;\n          rErrFlag = Math.pow(x1, 2) / Math.pow(rx, 2) + Math.pow(y1, 2) / Math.pow(ry, 2);\n\n          if (rErrFlag > 1) {\n            rx *= Math.sqrt(rErrFlag);\n            ry *= Math.sqrt(rErrFlag);\n          }\n\n          radius = rx > ry ? rx : ry;\n          xShift = rx > ry ? 1 : rx / ry;\n          yShift = rx > ry ? ry / rx : 1;\n          signValue = aFlag === sFlag ? -1 : 1;\n          s2sqrt = signValue * Math.sqrt((Math.pow(rx, 2) * Math.pow(ry, 2) - Math.pow(rx, 2) * Math.pow(y1, 2) - Math.pow(ry, 2) * Math.pow(x1, 2)) / (Math.pow(rx, 2) * Math.pow(y1, 2) + Math.pow(ry, 2) * Math.pow(x1, 2)));\n\n          if (isNaN(s2sqrt)) {\n            s2sqrt = 0;\n          }\n\n          centx1 = s2sqrt * (rx * y1) / ry;\n          centy1 = -s2sqrt * (ry * x1) / rx;\n          centx = centx1 * Math.cos(xAngle) - centy1 * Math.sin(xAngle) + (cx + ex) / 2;\n          centy = centx1 * Math.sin(xAngle) + centy1 * Math.cos(xAngle) + (cy + ey) / 2;\n          startAngle = utilLib.angleBetweenVectors(1, 0, (x1 - centx1) / rx, (y1 - centy1) / ry);\n          dAngle = utilLib.angleBetweenVectors((x1 - centx1) / rx, (y1 - centy1) / ry, (-x1 - centx1) / rx, (-y1 - centy1) / ry);\n\n          if (sFlag === 0 && dAngle > 0) {\n            dAngle -= 360 * (Math.PI / 180);\n          }\n\n          if (sFlag === 1 && dAngle < 0) {\n            dAngle += 360 * (Math.PI / 180);\n          }\n\n          if (rx === 0 && ry === 0) {\n            context.lineTo(ex, ey);\n            break;\n          }\n\n          context.save();\n          var transformMatrix = utilLib.combineTransformMatrix([[1, 0, centx, 0, 1, centy], [Math.cos(xAngle), Math.sin(xAngle), 0, Math.sin(xAngle), Math.cos(xAngle), 0], [xShift, 0, 0, 0, yShift, 0]]);\n          context.transform(transformMatrix[0], transformMatrix[3], transformMatrix[1], transformMatrix[4], transformMatrix[2], transformMatrix[5]);\n          context.arc(0, 0, radius, startAngle, startAngle + dAngle, 1 - sFlag);\n          context.restore();\n          utilLib.arcBBox(0, 0, radius, startAngle, startAngle + dAngle, 1 - sFlag, [transformMatrix[0], transformMatrix[3], transformMatrix[1], transformMatrix[4], transformMatrix[2], transformMatrix[5]], bBox);\n\n          if (cmdName === \"A\") {\n            cx = Number(cmdDetails[i + 5]);\n            cy = Number(cmdDetails[i + 6]);\n          } else {\n            cx += Number(cmdDetails[i + 5]);\n            cy += Number(cmdDetails[i + 6]);\n          }\n        }\n\n        break;\n\n      case \"Z\":\n      case \"z\":\n        context.closePath();\n        cx = lastPosition.cx;\n        cy = lastPosition.cy;\n        break;\n\n      default:\n    }\n  }\n\n  if (pps === \"draw\") {\n    if (!elem.attributes.fill || elem.attributes.fill && elem.attributes.fill.value !== \"none\") {\n      utilLib.applyFillEffect(elem, context, svgDeCanvo, bBox);\n      context.fill();\n      utilLib.endFillEffect(elem, context);\n    }\n\n    if (!elem.attributes.stroke || elem.attributes.stroke && elem.attributes.stroke.value !== \"none\") {\n      utilLib.applyStrokeEffect(elem, context, svgDeCanvo, bBox);\n      context.stroke();\n      utilLib.endStrokeEffect(elem, context);\n    }\n\n    callBackFn();\n  }\n};\n\nutilLib.drawNodes = function (nodeArr, attrib, svgDeCanvo, context, callBack) {\n  var l = nodeArr.length,\n      i = -1,\n      dx = 0,\n      dy = 0,\n      callBackFn = function callBackFn() {\n    var node;\n    i = i + 1;\n\n    if (i < l) {\n      node = nodeArr[i];\n\n      if (node.tagName && node.tagName === \"defs\") {\n        i = i + 1;\n        node = nodeArr[i];\n      }\n\n      if (node.attributes) {\n        if (node.attributes.dy) {\n          dy = node.attributes.dy.value = node.attributes.dy.value * 1 + dy * 1;\n        }\n\n        if (node.attributes.dx) {\n          dx = node.attributes.dx.value = node.attributes.dx.value * 1 + dx * 1;\n        }\n      }\n\n      drawLib.common(node, attrib, svgDeCanvo, context, callBackFn);\n    } else {\n      callBack && callBack();\n    }\n  };\n\n  callBackFn();\n};\n\nutilLib.getSvgDimention = function (svg) {\n  var ret = {\n    width: 0,\n    height: 0\n  },\n      node;\n  node = svg.childNodes && svg.childNodes[0] && svg.childNodes[0].attributes;\n  ret.width = Number(node.width && node.width.value || 0);\n  ret.height = Number(node.height && node.height.value || 0);\n  return ret;\n};\n\nutilLib.storeImagesInArr = function (svgDeCanvo) {\n  var svg = svgDeCanvo.getSVG(),\n      imgElem,\n      imgUrl,\n      imageArr,\n      i;\n  imageArr = svgDeCanvo._getStore(\"imageArr\");\n  imgElem = svg.getElementsByTagName(\"image\");\n\n  for (i in imgElem) {\n    if (!imgElem.hasOwnProperty(i)) {\n      continue;\n    }\n\n    if (imgElem[i].attributes && imgElem[i].attributes[\"xlink:href\"]) {\n      imgUrl = imgElem[i].attributes[\"xlink:href\"].value;\n\n      if (!imageArr[imgUrl]) {\n        imageArr[imgUrl] = [];\n        imageArr[imgUrl].status = \"progress\";\n        imageArr[imgUrl].callback = null;\n        imageArr[imgUrl].obj = new Image();\n\n        imageArr[imgUrl].obj.onload = function (imgUrl) {\n          return function () {\n            var callback = imageArr[imgUrl].callback;\n\n            if (callback) {\n              imageArr[imgUrl].status = \"complete\";\n              callback();\n            } else {\n              imageArr[imgUrl].status = \"complete\";\n            }\n          };\n        }(imgUrl);\n\n        imageArr[imgUrl].obj.onerror = function (imgUrl) {\n          return function () {\n            var errCallback = imageArr[imgUrl].errCallback;\n\n            if (errCallback) {\n              imageArr[imgUrl].status = \"error\";\n              errCallback();\n            } else {\n              imageArr[imgUrl].status = \"error\";\n            }\n          };\n        }(imgUrl);\n\n        imageArr[imgUrl].obj.src = imgUrl;\n      }\n    }\n  }\n};\n\nutilLib.startTransform = function (data, context) {\n  var t = data.match(/[^\\s][a-z,0-9.\\-(\\s]+\\)/gi),\n      args,\n      i;\n\n  for (i in t) {\n    if (!t.hasOwnProperty(i)) {\n      continue;\n    }\n\n    if (t[i].indexOf(\"matrix\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n      context.transform(args[0], args[1], args[2], args[3], args[4], args[5]);\n    }\n\n    if (t[i].indexOf(\"translate\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n      context.translate(args[0] || 0, args[1] || 0);\n    }\n\n    if (t[i].indexOf(\"rotate\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n\n      if (args.length === 3) {\n        context.translate(args[1], args[2]);\n        context.rotate(args[0] * (Math.PI / 180));\n        context.translate(-args[1], -args[2]);\n      } else {\n        context.rotate(args[0] * (Math.PI / 180));\n      }\n    }\n\n    if (t[i].indexOf(\"scale\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n\n      if (args.length === 1) {\n        context.scale(args[0] || 1, args[0] || 1);\n      } else {\n        context.scale(args[0] || 1, args[1] || 1);\n      }\n    }\n\n    if (t[i].indexOf(\"skewX\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n      context.transform(1, 0, Math.tan(args[0] * (Math.PI / 180)), 1, 0, 0);\n    }\n\n    if (t[i].indexOf(\"skewY\") > -1) {\n      args = utilLib.stringToArgs(t[i]);\n      context.transform(1, Math.tan(args[0] * (Math.PI / 180)), 0, 1, 0, 0);\n    }\n  }\n};\n\nutilLib.resetTransform = function (context) {\n  context.setTransform(1, 0, 0, 1, 0, 0);\n};\n\nutilLib.stringToArgs = function (data) {\n  var insideBracket = /\\(([^)]+)/.exec(data)[1];\n  return utilLib.getArgsAsArray(insideBracket);\n};\n\nutilLib.getArgsAsArray = function (data) {\n  var i;\n  data = data.trim().split(/[\\s,]+/);\n\n  for (i = 0; i < data.length; i++) {\n    data[i].trim();\n\n    if (data[i].length === 0) {\n      data.splice(i, 1);\n    }\n  }\n\n  return data;\n};\n\nutilLib.applyFillEffect = function (elem, context, svgDeCanvo, bBox) {\n  var fillValue;\n\n  if (elem.attributes[\"fill-opacity\"] && elem.attributes[\"fill-opacity\"].value !== \"none\") {\n    context.globalAlpha = elem.attributes[\"fill-opacity\"].value;\n  } else {\n    context.globalAlpha = 1;\n  }\n\n  if (elem.attributes.fill && elem.attributes.fill.value.indexOf(\"url(\") > -1) {\n    fillValue = utilLib.getFillStyleById(/url\\(.*#([^)'\"]+)/.exec(elem.attributes.fill.value)[1], context, svgDeCanvo, bBox);\n    context.fillStyle = fillValue;\n  } else {\n    if (elem.attributes.fill) {\n      context.fillStyle = elem.attributes.fill.value;\n    } else {\n      context.fillStyle = \"#000000\";\n    }\n  }\n};\n\nutilLib.endFillEffect = function (elem, context) {\n  context.globalAlpha = 1;\n};\n\nutilLib.applyStrokeEffect = function (elem, context, svgDeCanvo, bBox) {\n  if (elem.attributes[\"stroke-opacity\"] && elem.attributes[\"stroke-opacity\"].value !== \"none\") {\n    context.globalAlpha = elem.attributes[\"stroke-opacity\"].value;\n  }\n\n  if (elem.attributes[\"stroke-width\"]) {\n    context.lineWidth = elem.attributes[\"stroke-width\"].value;\n\n    if (elem.attributes[\"stroke-width\"].value === \"0\") {\n      context.globalAlpha = 0;\n    }\n  }\n\n  if (elem.attributes[\"stroke-linecap\"] && elem.attributes[\"stroke-linecap\"].value !== \"none\") {\n    context.lineCap = elem.attributes[\"stroke-linecap\"].value;\n  }\n\n  if (elem.attributes[\"stroke-linejoin\"] && elem.attributes[\"stroke-linejoin\"].value !== \"none\") {\n    context.lineJoin = elem.attributes[\"stroke-linejoin\"].value;\n  }\n\n  if (elem.attributes[\"stroke-dasharray\"] && elem.attributes[\"stroke-dasharray\"].value !== \"none\" && context.setLineDash) {\n    context.setLineDash(utilLib.getArgsAsArray(elem.attributes[\"stroke-dasharray\"].value));\n  }\n\n  if (elem.attributes.stroke) {\n    context.strokeStyle = elem.attributes.stroke.value;\n  } else {\n    context.strokeStyle = \"#000000\";\n  }\n};\n\nutilLib.endStrokeEffect = function (elem, context) {\n  if (elem.attributes[\"stroke-opacity\"] && elem.attributes[\"stroke-opacity\"].value !== \"none\") {\n    context.globalAlpha = 1;\n\n    if (context.setLineDash) {\n      context.setLineDash([]);\n    }\n\n    context.lineWidth = 1;\n  }\n\n  context.globalAlpha = 1;\n};\n\nutilLib.applyClip = function (id, context, svgDeCanvo) {\n  var svg = svgDeCanvo.getSVG(),\n      elemId,\n      elem,\n      chldrn,\n      a,\n      fncName;\n\n  if (id.indexOf(\"url(\") === -1) {\n    return;\n  }\n\n  elemId = /url\\(.*#([^)'\"]+)/.exec(id)[1];\n  elem = svg.getElementById(elemId);\n\n  if (elem.attributes) {\n    context.save();\n\n    if (elem.attributes.transform) {\n      utilLib.startTransform(elem.attributes.transform.value, context);\n    }\n  }\n\n  chldrn = elem.childNodes;\n\n  for (a in chldrn) {\n    if (!chldrn.hasOwnProperty(a)) {\n      continue;\n    }\n\n    if (!chldrn[a].tagName) {\n      continue;\n    }\n\n    if (chldrn[a].constructor !== Array) {\n      fncName = \"draw\" + chldrn[a].tagName;\n\n      if (chldrn[a].attributes) {\n        context.save();\n\n        if (chldrn[a].attributes.transform) {\n          utilLib.startTransform(chldrn[a].attributes.transform.value, context);\n        }\n      }\n\n      if (drawLib[fncName]) {\n        drawLib[fncName](chldrn[a], context, svgDeCanvo, \"clip\");\n        context.closePath();\n      }\n\n      if (chldrn[a].attributes) {\n        context.restore();\n      }\n    }\n  }\n\n  if (elem.attributes) {\n    context.restore();\n  }\n\n  context.clip();\n};\n\nutilLib.getFillStyleById = function (id, context, svgDeCanvo, bBox) {\n  var svg = svgDeCanvo.getSVG(),\n      gradElem = svg.getElementById(id);\n\n  if (gradElem.tagName === \"linearGradient\") {\n    return utilLib.getLinearGradient(gradElem, context, bBox);\n  }\n\n  if (gradElem.tagName === \"radialGradient\") {\n    return utilLib.getRadialGradient(gradElem, context, bBox);\n  }\n\n  return \"#FFFFFF\";\n};\n\nutilLib.getLinearGradient = function (element, context, bBox) {\n  var sx = element.attributes.x1 ? utilLib.getPercentValue(element.attributes.x1.value, bBox.xMax - bBox.xMin, bBox.xMin) : 0,\n      sy = element.attributes.y1 ? utilLib.getPercentValue(element.attributes.y1.value, bBox.yMax - bBox.yMin, bBox.yMin) : 0,\n      ex = element.attributes.x2 ? utilLib.getPercentValue(element.attributes.x2.value, bBox.xMax - bBox.xMin, bBox.xMin) : 0,\n      ey = element.attributes.y2 ? utilLib.getPercentValue(element.attributes.y2.value, bBox.yMax - bBox.yMin, bBox.yMin) : 0,\n      linGrad,\n      children,\n      a,\n      color,\n      opacity;\n  linGrad = context.createLinearGradient(sx, sy, ex, ey);\n  children = element.childNodes;\n\n  for (a in children) {\n    if (!children.hasOwnProperty(a)) {\n      continue;\n    }\n\n    if (children[a].attributes && children[a].attributes[\"stop-color\"]) {\n      color = utilLib.toRGB(children[a].attributes[\"stop-color\"].value);\n      opacity = children[a].attributes[\"stop-opacity\"] ? children[a].attributes[\"stop-opacity\"].value : 1;\n\n      if (color.status) {\n        linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value, 1, 0), \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + Number(opacity) + \")\");\n      } else {\n        linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value, 1, 0), children[a].attributes[\"stop-color\"].value);\n      }\n    }\n  }\n\n  return linGrad;\n};\n\nutilLib.getRadialGradient = function (element, context, bBox) {\n  var cx = element.attributes.cx ? utilLib.getPercentValue(element.attributes.cx.value, bBox.xMax - bBox.xMin, bBox.xMin) : bBox.xMin + (bBox.xMax - bBox.xMin) * .5,\n      cy = element.attributes.cy ? utilLib.getPercentValue(element.attributes.cy.value, bBox.yMax - bBox.yMin, bBox.yMin) : bBox.yMin + (bBox.yMax - bBox.yMin) * .5,\n      fx = element.attributes.fx ? utilLib.getPercentValue(element.attributes.fx.value, bBox.xMax - bBox.xMin, bBox.xMin) : bBox.xMin + (bBox.xMax - bBox.xMin) * .5,\n      fy = element.attributes.fy ? utilLib.getPercentValue(element.attributes.fy.value, bBox.yMax - bBox.yMin, bBox.yMin) : bBox.yMin + (bBox.yMax - bBox.yMin) * .5,\n      r = element.attributes.r ? utilLib.getPercentValue(element.attributes.r.value, (bBox.yMax - bBox.yMin + bBox.xMax - bBox.xMin) / 2, 0) : utilLib.getPercentValue(\"50%\", (bBox.yMax - bBox.yMin + bBox.xMax - bBox.xMin) / 2, 0),\n      radGrad,\n      children,\n      a,\n      color,\n      opacity;\n  radGrad = context.createRadialGradient(fx, fy, 0, cx, cy, r);\n  children = element.childNodes;\n\n  for (a in children) {\n    if (!children.hasOwnProperty(a)) {\n      continue;\n    }\n\n    if (children[a].attributes && children[a].attributes[\"stop-color\"]) {\n      color = utilLib.toRGB(children[a].attributes[\"stop-color\"].value);\n      opacity = children[a].attributes[\"stop-opacity\"] ? children[a].attributes[\"stop-opacity\"].value : 1;\n\n      if (color.status) {\n        radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value, 1, 0), \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + Number(opacity) + \")\");\n      } else {\n        radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value, 1, 0), children[a].attributes[\"stop-color\"].value);\n      }\n    }\n  }\n\n  return radGrad;\n};\n\nutilLib.getPercentValue = function (percent, value, correction) {\n  var mVal;\n\n  if (percent.indexOf(\"%\") !== -1) {\n    mVal = /(\\d.*)%/.exec(percent)[1];\n\n    if (mVal > 100) {\n      mVal = 100;\n    }\n\n    return mVal * value / 100 + correction * 1;\n  } else {\n    if (percent > 1) {\n      return percent;\n    }\n\n    return percent * value + correction * 1;\n  }\n};\n\nutilLib.bBoxFromPoint = function (xPointArr, yPointArr, bBox) {\n  if (typeof bBox.xMin !== \"undefined\") {\n    xPointArr.push(bBox.xMin, bBox.xMax);\n    yPointArr.push(bBox.yMin, bBox.yMax);\n  }\n\n  bBox.xMin = Math.min.apply(this, xPointArr);\n  bBox.xMax = Math.max.apply(this, xPointArr);\n  bBox.yMin = Math.min.apply(this, yPointArr);\n  bBox.yMax = Math.max.apply(this, yPointArr);\n};\n\nutilLib.arcBBox = function (cx, cy, r, sa, ea, cc, transform, bBox) {\n  var rsa, rea, startArcX, endArcX, startArcY, endArcY, xMin, yMin, xMax, yMax, xArr, yArr, isBetween;\n\n  if (transform instanceof Array) {\n    cx = cx * transform[0] + cx * transform[2] + transform[4];\n    cy = cy * transform[1] + cy * transform[3] + transform[5];\n  }\n\n  isBetween = function isBetween(start, end, angle) {\n    start = (start + 2 * Math.PI) % (2 * Math.PI);\n    end = (end + 2 * Math.PI) % (2 * Math.PI);\n\n    if (start <= end) {\n      if (start <= angle && angle <= end) {\n        return true;\n      } else {\n        return false;\n      }\n    } else if (start >= end) {\n      if (start >= angle && angle >= end) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  };\n\n  rsa = sa % (2 * Math.PI);\n  rea = ea % (2 * Math.PI);\n\n  if (cc) {\n    rsa = ea % (2 * Math.PI);\n    rea = sa % (2 * Math.PI);\n  }\n\n  startArcX = cx + r * Math.cos(rsa);\n  startArcY = cy + r * Math.sin(rsa);\n  endArcX = cx + r * Math.cos(rea);\n  endArcY = cy + r * Math.sin(rea);\n  xArr = [startArcX, endArcX];\n  yArr = [startArcY, endArcY];\n\n  if (isBetween(rsa, rea, 0)) {\n    xArr.push(cx * 1 + r * 1);\n    yArr.push(cy);\n  }\n\n  if (isBetween(rsa, rea, .5 * Math.PI)) {\n    xArr.push(cx);\n    yArr.push(cy * 1 + r * 1);\n  }\n\n  if (isBetween(rsa, rea, Math.PI)) {\n    xArr.push(cx - r * 1);\n    yArr.push(cy);\n  }\n\n  if (isBetween(rsa, rea, 1.5 * Math.PI)) {\n    xArr.push(cx);\n    yArr.push(cy - r * 1);\n  }\n\n  xMax = Math.max.apply(this, xArr);\n  xMin = Math.min.apply(this, xArr);\n  yMax = Math.max.apply(this, yArr);\n  yMin = Math.min.apply(this, yArr);\n\n  if (typeof bBox.xMin !== \"undefined\") {\n    bBox.xMin = Math.min(xMin, bBox.xMin);\n    bBox.xMax = Math.max(xMax, bBox.xMax);\n    bBox.yMin = Math.min(yMin, bBox.yMin);\n    bBox.yMax = Math.max(yMax, bBox.yMax);\n  } else {\n    bBox.xMin = xMin;\n    bBox.xMax = xMax;\n    bBox.yMin = yMin;\n    bBox.yMax = yMax;\n  }\n};\n\nutilLib.qBezierBBox = function (sx, sy, cx, cy, ex, ey, bBox) {\n  var txd = sx * 1 - 2 * cx + ex * 1,\n      tyd = sy * 1 - 2 * cy + ey * 1,\n      tx,\n      ty,\n      xMin,\n      yMin,\n      xMax,\n      yMax,\n      curveX,\n      curveY;\n\n  if (txd === 0 || tyd === 0) {\n    xMax = Math.max(sx, ex);\n    xMin = Math.min(sx, ex);\n    yMax = Math.max(sy, ey);\n    yMin = Math.min(sy, ey);\n  } else {\n    tx = (sx - cx) / txd;\n    ty = (sy - cy) / tyd;\n    curveX = sx * Math.pow(1 - tx, 2) + 2 * cx * (1 - tx) * tx + ex * Math.pow(tx, 2);\n    curveY = sy * Math.pow(1 - ty, 2) + 2 * cy * (1 - ty) * ty + ey * Math.pow(ty, 2);\n    xMax = Math.max(sx, ex, curveX);\n    xMin = Math.min(sx, ex, curveX);\n    yMax = Math.max(sy, ey, curveY);\n    yMin = Math.min(sy, ey, curveY);\n  }\n\n  if (typeof bBox.xMin !== \"undefined\") {\n    bBox.xMin = Math.min(xMin, bBox.xMin);\n    bBox.xMax = Math.max(xMax, bBox.xMax);\n    bBox.yMin = Math.min(yMin, bBox.yMin);\n    bBox.yMax = Math.max(yMax, bBox.yMax);\n  } else {\n    bBox.xMin = xMin;\n    bBox.xMax = xMax;\n    bBox.yMin = yMin;\n    bBox.yMax = yMax;\n  }\n};\n\nutilLib.cBezierBBox = function (sx, sy, cx, cy, c1x, c1y, ex, ey, bBox) {\n  var xMin, xMax, yMin, yMax, a, b, c, root, t1, t2, calculateBound, xTemp, yTemp;\n\n  if (c1x === null && c1y === null) {\n    cx = sx + 2 / 3 * (cx - sx);\n    c1x = sy + 2 / 3 * (cy - sy);\n    cy = cx + 1 / 3 * (ex - sx);\n    c1y = c1x + 1 / 3 * (ey - sy);\n  }\n\n  calculateBound = function calculateBound(a, b, c, d, t) {\n    return a * Math.pow(1 - t, 3) + 3 * b * t * Math.pow(1 - t, 2) + 3 * c * t * t * (1 - t) + d * t * t * t;\n  };\n\n  a = 3 * ex - 9 * c1x + 9 * cx - 3 * sx;\n  b = 6 * sx - 12 * cx + 6 * c1x;\n  c = 3 * cx - 3 * sx;\n  root = Math.pow(b, 2) - 4 * a * c;\n  xMin = sx;\n  xMax = sx;\n\n  if (ex < xMin) {\n    xMin = ex;\n  }\n\n  if (ex > xMax) {\n    xMax = ex;\n  }\n\n  if (root >= 0) {\n    t1 = (-b + Math.sqrt(root)) / (2 * a);\n\n    if (t1 > 0 && t1 < 1) {\n      xTemp = calculateBound(sx, cx, c1x, ex, t1);\n\n      if (xTemp < xMin) {\n        xMin = xTemp;\n      }\n\n      if (xTemp > xMax) {\n        xMax = xTemp;\n      }\n    }\n\n    t2 = (-b - Math.sqrt(root)) / (2 * a);\n\n    if (t2 > 0 && t2 < 1) {\n      xTemp = calculateBound(sx, cx, c1x, ex, t2);\n      if (xTemp < xMin) xMin = xTemp;\n      if (xTemp > xMax) xMax = xTemp;\n    }\n  }\n\n  a = 3 * ey - 9 * c1y + 9 * cy - 3 * sy;\n  b = 6 * sy - 12 * cy + 6 * c1y;\n  c = 3 * cy - 3 * sy;\n  root = Math.pow(b, 2) - 4 * a * c;\n  yMin = sy;\n  yMax = sy;\n  if (ey < yMin) yMin = ey;\n  if (ey > yMax) yMax = ey;\n\n  if (root >= 0) {\n    t1 = (-b + Math.sqrt(root)) / (2 * a);\n\n    if (t1 > 0 && t1 < 1) {\n      yTemp = calculateBound(sy, cy, c1y, ey, t1);\n\n      if (yTemp < yMin) {\n        yMin = yTemp;\n      }\n\n      if (yTemp > yMax) {\n        yMax = yTemp;\n      }\n    }\n\n    t2 = (-b - Math.sqrt(root)) / (2 * a);\n\n    if (t2 > 0 && t2 < 1) {\n      yTemp = calculateBound(sy, cy, c1y, ey, t2);\n\n      if (yTemp < yMin) {\n        yMin = yTemp;\n      }\n\n      if (yTemp > yMax) {\n        yMax = yTemp;\n      }\n    }\n  }\n\n  if (typeof bBox.xMin !== \"undefined\") {\n    bBox.xMin = Math.min(xMin, bBox.xMin);\n    bBox.xMax = Math.max(xMax, bBox.xMax);\n    bBox.yMin = Math.min(yMin, bBox.yMin);\n    bBox.yMax = Math.max(yMax, bBox.yMax);\n  } else {\n    bBox.xMin = xMin;\n    bBox.xMax = xMax;\n    bBox.yMin = yMin;\n    bBox.yMax = yMax;\n  }\n};\n\nutilLib.combineTransformMatrix = function (matrices) {\n  var mlast = matrices.length - 1,\n      i,\n      resMatrix;\n\n  if (mlast <= 0) {\n    return matrices[0];\n  }\n\n  resMatrix = matrices[0];\n\n  for (i = 1; i <= mlast; i++) {\n    resMatrix[0] = resMatrix[0] * matrices[i][0] + resMatrix[1] * matrices[i][3];\n    resMatrix[1] = resMatrix[0] * matrices[i][1] + resMatrix[1] * matrices[i][4];\n    resMatrix[2] = resMatrix[0] * matrices[i][2] + resMatrix[1] * matrices[i][5] + resMatrix[2] * 1;\n    resMatrix[3] = resMatrix[3] * matrices[i][0] + resMatrix[4] * matrices[i][3];\n    resMatrix[4] = resMatrix[3] * matrices[i][1] + resMatrix[4] * matrices[i][4];\n    resMatrix[5] = resMatrix[3] * matrices[i][2] + resMatrix[4] * matrices[i][5] + resMatrix[5] * 1;\n  }\n\n  return resMatrix;\n};\n\nutilLib.angleBetweenVectors = function (ux, uy, vx, vy) {\n  var sign = ux * vy < uy * vx ? -1 : 1,\n      dotProduct = ux * vx + uy * vy,\n      uMagnitude = Math.sqrt(Math.pow(ux, 2) + Math.pow(uy, 2)),\n      vMagnitude = Math.sqrt(Math.pow(vx, 2) + Math.pow(vy, 2));\n  return sign * Math.acos(dotProduct / (uMagnitude * vMagnitude));\n};\n\nutilLib.toRGB = function (color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0,\n    status: 0\n  },\n      tmpVar,\n      prepareRGB,\n      a;\n\n  prepareRGB = function prepareRGB(arr) {\n    for (a in arr) {\n      if (!arr.hasOwnProperty(a)) {\n        continue;\n      }\n\n      if (arr[a] < 0 || isNaN(arr[a])) {\n        arr[a] = 0;\n      } else if (arr[a] > 255) {\n        arr[a] = 255;\n      }\n    }\n\n    rgb = {\n      r: arr[0],\n      g: arr[1],\n      b: arr[2],\n      status: 1\n    };\n    return rgb;\n  };\n\n  color = color.trim();\n\n  if (color.match(/^rgb\\(|^rgba\\(/i)) {\n    tmpVar = /\\(\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})/.exec(color);\n    prepareRGB([parseInt(tmpVar[1]), parseInt(tmpVar[2]), parseInt(tmpVar[3])]);\n  } else if (color.match(/^#/)) {\n    tmpVar = /(\\w{2})(\\w{2})(\\w{2})/.exec(color);\n    prepareRGB([parseInt(tmpVar[1], 16), parseInt(tmpVar[2], 16), parseInt(tmpVar[3], 16)]);\n  }\n\n  return rgb;\n};\n\nutilLib.StrToDom = function (str) {\n  var parser, doc;\n\n  if (win.DOMParser) {\n    parser = new DOMParser();\n    doc = parser.parseFromString(str, \"text/xml\");\n  } else {\n    doc = new win.ActiveXObject(\"Microsoft.XMLDOM\");\n    doc.async = false;\n    doc.loadXML(str);\n  }\n\n  return doc;\n};\n\nvar _default = _SvgDeCanvo;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/_internal/vendors/svgtocanvas/src/svgdecanvo.js"],"names":["exports","__esModule","default","win","window","doc","document","drawLib","utilLib","_SvgDeCanvo","SvgDeCanvo","svgElem","canvasElem","x","y","width","height","callback","BLANK","store","svg","context","callBack","imageArr","canvas","dimention","Error","_getStore","param","_setStore","value","setSVG","setContext","setCallback","drawOnCanvas","prototype","getContext","documentElement","substr","StrToDom","getSVG","getCallback","oriWidth","oriHeight","scaleX","scaleY","oriDimention","getSvgDimention","startTransform","save","fillStyle","fillRect","restore","storeImagesInArr","drawNodes","resetTransform","common","node","attrib","svgDeCanvo","children","childNodes","fnName","i","styleArr","styleName","callBackFn","attributes","hasOwnProperty","name","setAttribute","style","replace","split","trim","e","transform","applyClip","length","tagName","display","drawtext","elem","pps","drawtspan","text","innerHTML","textContent","dx","dy","defFontFamily","defFontWeight","defFontSize","bBox","defCSSprop","fontFamily","fontWeight","textAlign","fontSize","getElementsByTagName","getComputedStyle","getPropertyValue","Number","font","fill","applyFillEffect","fillText","endFillEffect","stroke","applyStrokeEffect","strokeText","endStrokeEffect","drawcircle","cx","cy","r","beginPath","arc","Math","PI","bBoxFromPoint","closePath","drawrect","rx","ry","initialLineCap","lineCap","moveTo","lineTo","quadraticCurveTo","drawellipse","kappa","ox","oy","xe","ye","bezierCurveTo","drawimage","imgUrl","opacity","globalAlpha","status","drawImage","obj","errCallback","drawpath","subPath","d","match","a","cmdName","cmdDetails","lastPosition","substring","getArgsAsArray","qBezierBBox","cBezierBBox","xAngle","aFlag","sFlag","ex","ey","x1","y1","signValue","s2sqrt","centx1","centy1","centx","centy","startAngle","dAngle","rErrFlag","radius","xShift","yShift","cos","sin","pow","sqrt","isNaN","angleBetweenVectors","transformMatrix","combineTransformMatrix","arcBBox","nodeArr","l","ret","imgElem","Image","onload","onerror","src","data","t","args","indexOf","stringToArgs","translate","rotate","scale","tan","setTransform","insideBracket","exec","splice","fillValue","getFillStyleById","lineWidth","lineJoin","setLineDash","strokeStyle","id","elemId","chldrn","fncName","getElementById","constructor","Array","clip","gradElem","getLinearGradient","getRadialGradient","element","sx","getPercentValue","xMax","xMin","sy","yMax","yMin","x2","y2","linGrad","color","createLinearGradient","toRGB","addColorStop","offset","g","b","fx","fy","radGrad","createRadialGradient","percent","correction","mVal","xPointArr","yPointArr","push","min","apply","max","sa","ea","cc","rsa","rea","startArcX","endArcX","startArcY","endArcY","xArr","yArr","isBetween","start","end","angle","txd","tyd","tx","ty","curveX","curveY","c1x","c1y","c","root","t1","t2","calculateBound","xTemp","yTemp","matrices","mlast","resMatrix","ux","uy","vx","vy","sign","dotProduct","uMagnitude","vMagnitude","acos","rgb","tmpVar","prepareRGB","arr","parseInt","str","parser","DOMParser","parseFromString","ActiveXObject","async","loadXML","_default"],"mappings":"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","sourcesContent":["\"use strict\";exports.__esModule=true;exports.default=void 0;var win=typeof window!==\"undefined\"?window:null,doc=win.document,drawLib={},utilLib={},_SvgDeCanvo;_SvgDeCanvo=function SvgDeCanvo(svgElem,canvasElem,x,y,width,height,callback){var BLANK=\"\",store={svg:BLANK,context:BLANK,callBack:BLANK,imageArr:[],canvas:BLANK,dimention:{}};if(!(this instanceof _SvgDeCanvo)){throw new Error(\"This function should be used as class\")}this._getStore=function(param){if(typeof store[param]!==\"undefined\"){return store[param]}else{return false}};this._setStore=function(param,value){if(typeof store[param]!==\"undefined\"){store[param]=value}};this._setStore(\"dimention\",{x:x,y:y,width:width,height:height});if(svgElem){this.setSVG(svgElem)}if(canvasElem){this.setContext(canvasElem)}if(callback){this.setCallback(callback)}this.drawOnCanvas()};_SvgDeCanvo.prototype.setContext=function(canvasElem){var context;if(canvasElem.getContext&&canvasElem.getContext(\"2d\")){context=canvasElem.getContext(\"2d\");this._setStore(\"canvas\",canvasElem);this._setStore(\"context\",context)}else{throw new Error(\"Please provide valid canvas\")}};_SvgDeCanvo.prototype.getContext=function(){return this._getStore(\"context\")};_SvgDeCanvo.prototype.setSVG=function(svgElem){var svg;if(typeof svgElem.documentElement!==\"undefined\"){svg=svgElem;this._setStore(\"svg\",svg)}else if(svgElem.substr(0,1)===\"<\"){svg=utilLib.StrToDom(svgElem);this._setStore(\"svg\",svg)}else{throw new Error(\"Please provide valid SVG\")}};_SvgDeCanvo.prototype.getSVG=function(){return this._getStore(\"svg\")};_SvgDeCanvo.prototype.setCallback=function(callback){if(typeof callback===\"function\"){this._setStore(\"callBack\",callback)}};_SvgDeCanvo.prototype.getCallback=function(){return this._getStore(\"callBack\")};_SvgDeCanvo.prototype.drawOnCanvas=function(svgElem,canvasElem,x,y,width,height,callback){var context,svg,oriWidth,oriHeight,scaleX,scaleY,dimention,oriDimention;if(svgElem){this.setSVG(svgElem)}if(canvasElem){this.setContext(canvasElem)}if(callback){this.setCallback(callback)}canvasElem=canvasElem||this._getStore(\"canvas\");dimention=this._getStore(\"dimention\");callback=this.getCallback();context=this.getContext();svg=this.getSVG();if(!svg||!context){return}oriDimention=utilLib.getSvgDimention(svg);oriWidth=oriDimention.width;oriHeight=oriDimention.height;x=x||dimention.x||0;y=y||dimention.y||0;width=width||oriWidth||dimention.width;height=height||oriHeight||dimention.height;scaleX=oriDimention.width?dimention.width/width:1;scaleY=oriDimention.height?dimention.height/height:1;utilLib.startTransform(\"translate(\"+x+\",\"+y+\") scale(\"+scaleX+\",\"+scaleY+\")\",context);context.save();context.fillStyle=\"#ffffff\";context.fillRect(0,0,width,height);context.restore();utilLib.storeImagesInArr(this);utilLib.drawNodes([svg],[],this,context,(function(){typeof callback===\"function\"&&callback();utilLib.resetTransform(context)}))};drawLib.common=function(node,attrib,svgDeCanvo,context,callBack){var children=node.childNodes,fnName,i,styleArr,styleName,callBackFn=function callBackFn(){if(node.attributes){context.restore()}callBack&&callBack()};for(i in attrib){if(!attrib.hasOwnProperty(i)){continue}if(attrib[i].name===\"class\"||attrib[i].name===\"id\"){continue}if(attrib[i].name===\"transform\"||attrib[i].name===\"clip-path\"){continue}if(typeof attrib[i]===\"object\"&&node.attributes&&!node.attributes[attrib[i].name]){node.setAttribute([attrib[i].name],attrib[i].value)}}if(node.attributes&&node.attributes.style){styleArr=node.attributes.style.value.replace(/;$/,\"\").split(\";\");for(i in styleArr){if(!styleArr.hasOwnProperty(i)){continue}styleName=styleArr[i].split(\":\")[0].trim();if(!node.attributes[styleName]||node.attributes[styleName].value===\"undefined\"){try{node.setAttribute(styleName,styleArr[i].split(\":\")[1].trim())}catch(e){}}}}if(node.attributes){context.save();if(node.attributes.transform){utilLib.startTransform(node.attributes.transform.value,context)}if(node.attributes[\"clip-path\"]){utilLib.applyClip(node.attributes[\"clip-path\"].value,context,svgDeCanvo)}}if(children.length===0||children.length===1&&!children[0].tagName){if(typeof node.tagName!==\"undefined\"){fnName=\"draw\"+node.tagName;if(drawLib[fnName]){if(node.attributes.display&&node.attributes.display.value===\"none\"){callBackFn()}else{drawLib[fnName](node,context,svgDeCanvo,\"draw\",callBackFn)}}else{callBackFn()}}else{callBackFn()}}else{utilLib.drawNodes(children,node.tagName===\"svg\"?[]:node.attributes,svgDeCanvo,context,callBackFn)}};drawLib.drawtext=function(elem,context,svgDeCanvo,pps,callBackFn){this.drawtspan(elem,context,svgDeCanvo,pps,callBackFn)};drawLib.drawtspan=function(elem,context,svgDeCanvo,pps,callBackFn){var text=elem.innerHTML||elem.textContent,x=elem.attributes.x?elem.attributes.x.value:0,y=elem.attributes.y?elem.attributes.y.value:0,dx=elem.attributes.dx?elem.attributes.dx.value:0,dy=elem.attributes.dy?elem.attributes.dy.value:0,defFontFamily=\"serief\",defFontWeight=\"normal\",defFontSize=\"16px\",bBox=[],defCSSprop,fontFamily,fontWeight,textAlign,fontSize;if(doc.getElementsByTagName(\"body\")[0]){defCSSprop=win.getComputedStyle(doc.getElementsByTagName(\"body\")[0],null);if(defCSSprop.getPropertyValue(\"font-family\")){defFontFamily=defCSSprop.getPropertyValue(\"font-family\")}if(defCSSprop.getPropertyValue(\"font-weight\")){defFontWeight=defCSSprop.getPropertyValue(\"font-weight\")}if(defCSSprop.getPropertyValue(\"font-size\")){defFontSize=defCSSprop.getPropertyValue(\"font-size\")}}fontFamily=elem.attributes[\"font-family\"]?elem.attributes[\"font-family\"].value:defFontFamily;fontWeight=elem.attributes[\"font-weight\"]?elem.attributes[\"font-weight\"].value:defFontWeight;textAlign=elem.attributes[\"text-anchor\"]?elem.attributes[\"text-anchor\"].value:\"start\";fontSize=elem.attributes[\"font-size\"]?elem.attributes[\"font-size\"].value:defFontSize;x=Number(x)+Number(dx);y=Number(y)+Number(dy);text=text.trim();textAlign=textAlign===\"middle\"?\"center\":textAlign;context.save();context.font=fontWeight+\" \"+fontSize+\" \"+fontFamily;context.textAlign=textAlign;if(pps===\"draw\"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!==\"none\"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fillText(text,x,y);utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!==\"none\"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.strokeText(text,x,y);utilLib.endStrokeEffect(elem,context)}}context.restore();if(typeof callBackFn===\"function\"){callBackFn()}};drawLib.drawcircle=function(elem,context,svgDeCanvo,pps,callBackFn){var cx=Number(elem.attributes.cx.value),cy=Number(elem.attributes.cy.value),r=Number(elem.attributes.r.value),bBox=[];context.beginPath();context.arc(cx,cy,r,0,Math.PI*2);utilLib.bBoxFromPoint([cx,cx*1+r*1,cx*1-r*1],[cy,cy*1+r*1,cy*1-r*1],bBox);if(pps===\"draw\"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!==\"none\"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!==\"none\"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();if(typeof callBackFn===\"function\"){callBackFn()}};drawLib.drawrect=function(elem,context,svgDeCanvo,pps,callBackFn){var x=elem.attributes.x?Number(elem.attributes.x.value):0,y=elem.attributes.y?Number(elem.attributes.y.value):0,rx=elem.attributes.rx?Number(elem.attributes.rx.value):0,ry=elem.attributes.ry?Number(elem.attributes.ry.value):0,height=Number(elem.attributes.height.value),width=Number(elem.attributes.width.value),bBox=[],initialLineCap=context.lineCap;context.lineCap=\"square\";utilLib.bBoxFromPoint([x,x+width],[y,y+height],bBox);context.beginPath();context.moveTo(x+rx,y);context.lineTo(x+width-rx,y);context.quadraticCurveTo(x+width,y,x+width,y+ry);context.lineTo(x+width,y+height-ry);context.quadraticCurveTo(x+width,y+height,x+width-rx,y+height);context.lineTo(x+rx,y+height);context.quadraticCurveTo(x,y+height,x,y+height-ry);context.lineTo(x,y+ry);context.quadraticCurveTo(x,y,x+rx,y);if(pps===\"draw\"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!==\"none\"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!==\"none\"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();context.lineCap=initialLineCap;if(typeof callBackFn===\"function\"){callBackFn()}};drawLib.drawellipse=function(elem,context,svgDeCanvo,pps,callBackFn){var kappa=.5522848,cx=Number(elem.attributes.cx.value),cy=Number(elem.attributes.cy.value),rx=Number(elem.attributes.rx.value),ry=Number(elem.attributes.ry.value),ox=rx*kappa,oy=ry*kappa,xe=cx+rx,ye=cy+ry,bBox=[];context.beginPath();context.moveTo(cx-rx,cy);context.bezierCurveTo(cx-rx,cy-oy,cx-ox,cy-ry,cx,cy-ry);context.bezierCurveTo(cx+ox,cy-ry,xe,cy-oy,xe,cy);context.bezierCurveTo(xe,cy+oy,cx+ox,ye,cx,ye);context.bezierCurveTo(cx-ox,ye,cx-rx,cy+oy,cx-rx,cy);utilLib.bBoxFromPoint([cx+rx,cx-rx],[cy+ry,cy-ry],bBox);if(pps===\"draw\"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!==\"none\"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!==\"none\"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();if(typeof callBackFn===\"function\"){callBackFn()}};drawLib.drawimage=function(elem,context,svgDeCanvo,pps,callBackFn){var x=elem.attributes.x?Number(elem.attributes.x.value):0,y=elem.attributes.y?Number(elem.attributes.y.value):0,height=elem.attributes.height?Number(elem.attributes.height.value):0,width=elem.attributes.width?Number(elem.attributes.width.value):0,imgUrl,imageArr=svgDeCanvo._getStore(\"imageArr\");context.save();if(elem.attributes.opacity){context.globalAlpha=elem.attributes.opacity.value}if(elem.attributes[\"xlink:href\"]){imgUrl=elem.attributes[\"xlink:href\"].value;if(imageArr[imgUrl].status===\"complete\"){context.drawImage(imageArr[imgUrl].obj,x,y,width,height);context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}}else if(imageArr[imgUrl].status===\"error\"){context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}}else if(imageArr[imgUrl].status===\"progress\"){imageArr[imgUrl].callback=function(){context.drawImage(imageArr[imgUrl].obj,x,y,width,height);context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}};imageArr[imgUrl].errCallback=function(){context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}}}else{context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}}}else{context.globalAlpha=1;context.restore();if(typeof callBackFn===\"function\"){callBackFn()}}};drawLib.drawpath=function(elem,context,svgDeCanvo,pps,callBackFn){var subPath=elem.attributes.d.value.match(/[a-z][^a-z\"]*/gi),bBox=[],a,cmdName,cmdDetails,cx=0,cy=0,lastPosition={},i;context.beginPath();for(a in subPath){if(!subPath.hasOwnProperty(a)){continue}cmdName=subPath[a].substring(0,1);cmdDetails=utilLib.getArgsAsArray(subPath[a].substring(1,subPath[a].length));switch(cmdName){case\"M\":cx=Number(cmdDetails[0]);cy=Number(cmdDetails[1]);context.moveTo(cx,cy);lastPosition.cx=cx;lastPosition.cy=cy;break;case\"m\":cx+=Number(cmdDetails[0]);cy+=Number(cmdDetails[1]);context.moveTo(cx,cy);lastPosition.cx=cx;lastPosition.cy=cy;break;case\"L\":for(i=0;cmdDetails[i];i+=2){utilLib.bBoxFromPoint([cx,cmdDetails[i]],[cy,cmdDetails[i+1]],bBox);cx=Number(cmdDetails[i]);cy=Number(cmdDetails[i+1]);context.lineTo(cx,cy)}break;case\"l\":for(i=0;cmdDetails[i];i+=2){utilLib.bBoxFromPoint([cx,cx*1+1*cmdDetails[i]],[cy,cy*1+1*cmdDetails[i+1]],bBox);cx+=Number(cmdDetails[i]);cy+=Number(cmdDetails[i+1]);context.lineTo(cx,cy)}break;case\"V\":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx],[cy,cmdDetails[i]],bBox);cy=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case\"v\":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx],[cy,cy*1+1*cmdDetails[i]],bBox);cy+=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case\"H\":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx,cmdDetails[i]],[cy],bBox);cx=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case\"h\":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx,cx*1+1*cmdDetails[i]],[cy],bBox);cx+=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case\"Q\":for(i=0;cmdDetails[i];i+=4){utilLib.qBezierBBox(cx,cy,cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],bBox);context.quadraticCurveTo(Number(cmdDetails[i]),Number(cmdDetails[i+1]),Number(cmdDetails[i+2]),Number(cmdDetails[i+3]));cx=Number(cmdDetails[i+2]);cy=Number(cmdDetails[i+3])}break;case\"q\":for(i=0;cmdDetails[i];i+=4){utilLib.qBezierBBox(cx,cy,cx+1*cmdDetails[i],cy+1*cmdDetails[i+1],cx*1+1*cmdDetails[i+2],cy*1+1*cmdDetails[i+3],bBox);context.quadraticCurveTo(cx+1*cmdDetails[i],cy+1*cmdDetails[i+1],cx+=Number(cmdDetails[i+2]),cy+=Number(cmdDetails[i+3]))}break;case\"C\":for(i=0;cmdDetails[i];i+=6){utilLib.cBezierBBox(cx,cy,cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],cmdDetails[i+4],cmdDetails[i+5],bBox);context.bezierCurveTo(cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],cmdDetails[i+4],cmdDetails[i+5]);cx=Number(cmdDetails[i+4]);cy=Number(cmdDetails[i+5])}break;case\"c\":for(i=0;cmdDetails[i];i+=6){utilLib.cBezierBBox(cx,cy,cx+1*cmdDetails[i],cy*1+1*cmdDetails[i+1],cx+1*cmdDetails[i+2],cy*1+1*cmdDetails[i+3],cx+1*cmdDetails[i+4],cy*1+1*cmdDetails[i+5],bBox);context.bezierCurveTo(cx+Number(cmdDetails[i]),cy+Number(cmdDetails[i+1]),cx+Number(cmdDetails[i+2]),cy+Number(cmdDetails[i+3]),cx+=Number(cmdDetails[i+4]),cy+=Number(cmdDetails[i+5]))}break;case\"a\":case\"A\":for(i=0;cmdDetails[i];i+=7){var rx=Number(cmdDetails[i]),ry=Number(cmdDetails[i+1]),xAngle,aFlag,sFlag,ex,ey,x1,y1,signValue,s2sqrt,centx1,centy1,centx,centy,startAngle,dAngle,rErrFlag,radius,xShift,yShift;xAngle=Number(cmdDetails[i+2])*(Math.PI/180);aFlag=Number(cmdDetails[i+3]);sFlag=Number(cmdDetails[i+4]);ex=Number(cmdDetails[i+5]);ey=Number(cmdDetails[i+6]);x1=Math.cos(xAngle)*(cx-ex)/2+Math.sin(xAngle)*(cy-ey)/2;y1=-Math.sin(xAngle)*(cx-ex)/2+Math.cos(xAngle)*(cy-ey)/2;rx=rx<0?-rx:rx;ry=ry<0?-ry:ry;rErrFlag=Math.pow(x1,2)/Math.pow(rx,2)+Math.pow(y1,2)/Math.pow(ry,2);if(rErrFlag>1){rx*=Math.sqrt(rErrFlag);ry*=Math.sqrt(rErrFlag)}radius=rx>ry?rx:ry;xShift=rx>ry?1:rx/ry;yShift=rx>ry?ry/rx:1;signValue=aFlag===sFlag?-1:1;s2sqrt=signValue*Math.sqrt((Math.pow(rx,2)*Math.pow(ry,2)-Math.pow(rx,2)*Math.pow(y1,2)-Math.pow(ry,2)*Math.pow(x1,2))/(Math.pow(rx,2)*Math.pow(y1,2)+Math.pow(ry,2)*Math.pow(x1,2)));if(isNaN(s2sqrt)){s2sqrt=0}centx1=s2sqrt*(rx*y1)/ry;centy1=-s2sqrt*(ry*x1)/rx;centx=centx1*Math.cos(xAngle)-centy1*Math.sin(xAngle)+(cx+ex)/2;centy=centx1*Math.sin(xAngle)+centy1*Math.cos(xAngle)+(cy+ey)/2;startAngle=utilLib.angleBetweenVectors(1,0,(x1-centx1)/rx,(y1-centy1)/ry);dAngle=utilLib.angleBetweenVectors((x1-centx1)/rx,(y1-centy1)/ry,(-x1-centx1)/rx,(-y1-centy1)/ry);if(sFlag===0&&dAngle>0){dAngle-=360*(Math.PI/180)}if(sFlag===1&&dAngle<0){dAngle+=360*(Math.PI/180)}if(rx===0&&ry===0){context.lineTo(ex,ey);break}context.save();var transformMatrix=utilLib.combineTransformMatrix([[1,0,centx,0,1,centy],[Math.cos(xAngle),Math.sin(xAngle),0,Math.sin(xAngle),Math.cos(xAngle),0],[xShift,0,0,0,yShift,0]]);context.transform(transformMatrix[0],transformMatrix[3],transformMatrix[1],transformMatrix[4],transformMatrix[2],transformMatrix[5]);context.arc(0,0,radius,startAngle,startAngle+dAngle,1-sFlag);context.restore();utilLib.arcBBox(0,0,radius,startAngle,startAngle+dAngle,1-sFlag,[transformMatrix[0],transformMatrix[3],transformMatrix[1],transformMatrix[4],transformMatrix[2],transformMatrix[5]],bBox);if(cmdName===\"A\"){cx=Number(cmdDetails[i+5]);cy=Number(cmdDetails[i+6])}else{cx+=Number(cmdDetails[i+5]);cy+=Number(cmdDetails[i+6])}}break;case\"Z\":case\"z\":context.closePath();cx=lastPosition.cx;cy=lastPosition.cy;break;default:}}if(pps===\"draw\"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!==\"none\"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!==\"none\"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}callBackFn()}};utilLib.drawNodes=function(nodeArr,attrib,svgDeCanvo,context,callBack){var l=nodeArr.length,i=-1,dx=0,dy=0,callBackFn=function callBackFn(){var node;i=i+1;if(i<l){node=nodeArr[i];if(node.tagName&&node.tagName===\"defs\"){i=i+1;node=nodeArr[i]}if(node.attributes){if(node.attributes.dy){dy=node.attributes.dy.value=node.attributes.dy.value*1+dy*1}if(node.attributes.dx){dx=node.attributes.dx.value=node.attributes.dx.value*1+dx*1}}drawLib.common(node,attrib,svgDeCanvo,context,callBackFn)}else{callBack&&callBack()}};callBackFn()};utilLib.getSvgDimention=function(svg){var ret={width:0,height:0},node;node=svg.childNodes&&svg.childNodes[0]&&svg.childNodes[0].attributes;ret.width=Number(node.width&&node.width.value||0);ret.height=Number(node.height&&node.height.value||0);return ret};utilLib.storeImagesInArr=function(svgDeCanvo){var svg=svgDeCanvo.getSVG(),imgElem,imgUrl,imageArr,i;imageArr=svgDeCanvo._getStore(\"imageArr\");imgElem=svg.getElementsByTagName(\"image\");for(i in imgElem){if(!imgElem.hasOwnProperty(i)){continue}if(imgElem[i].attributes&&imgElem[i].attributes[\"xlink:href\"]){imgUrl=imgElem[i].attributes[\"xlink:href\"].value;if(!imageArr[imgUrl]){imageArr[imgUrl]=[];imageArr[imgUrl].status=\"progress\";imageArr[imgUrl].callback=null;imageArr[imgUrl].obj=new Image;imageArr[imgUrl].obj.onload=function(imgUrl){return function(){var callback=imageArr[imgUrl].callback;if(callback){imageArr[imgUrl].status=\"complete\";callback()}else{imageArr[imgUrl].status=\"complete\"}}}(imgUrl);imageArr[imgUrl].obj.onerror=function(imgUrl){return function(){var errCallback=imageArr[imgUrl].errCallback;if(errCallback){imageArr[imgUrl].status=\"error\";errCallback()}else{imageArr[imgUrl].status=\"error\"}}}(imgUrl);imageArr[imgUrl].obj.src=imgUrl}}}};utilLib.startTransform=function(data,context){var t=data.match(/[^\\s][a-z,0-9.\\-(\\s]+\\)/gi),args,i;for(i in t){if(!t.hasOwnProperty(i)){continue}if(t[i].indexOf(\"matrix\")>-1){args=utilLib.stringToArgs(t[i]);context.transform(args[0],args[1],args[2],args[3],args[4],args[5])}if(t[i].indexOf(\"translate\")>-1){args=utilLib.stringToArgs(t[i]);context.translate(args[0]||0,args[1]||0)}if(t[i].indexOf(\"rotate\")>-1){args=utilLib.stringToArgs(t[i]);if(args.length===3){context.translate(args[1],args[2]);context.rotate(args[0]*(Math.PI/180));context.translate(-args[1],-args[2])}else{context.rotate(args[0]*(Math.PI/180))}}if(t[i].indexOf(\"scale\")>-1){args=utilLib.stringToArgs(t[i]);if(args.length===1){context.scale(args[0]||1,args[0]||1)}else{context.scale(args[0]||1,args[1]||1)}}if(t[i].indexOf(\"skewX\")>-1){args=utilLib.stringToArgs(t[i]);context.transform(1,0,Math.tan(args[0]*(Math.PI/180)),1,0,0)}if(t[i].indexOf(\"skewY\")>-1){args=utilLib.stringToArgs(t[i]);context.transform(1,Math.tan(args[0]*(Math.PI/180)),0,1,0,0)}}};utilLib.resetTransform=function(context){context.setTransform(1,0,0,1,0,0)};utilLib.stringToArgs=function(data){var insideBracket=/\\(([^)]+)/.exec(data)[1];return utilLib.getArgsAsArray(insideBracket)};utilLib.getArgsAsArray=function(data){var i;data=data.trim().split(/[\\s,]+/);for(i=0;i<data.length;i++){data[i].trim();if(data[i].length===0){data.splice(i,1)}}return data};utilLib.applyFillEffect=function(elem,context,svgDeCanvo,bBox){var fillValue;if(elem.attributes[\"fill-opacity\"]&&elem.attributes[\"fill-opacity\"].value!==\"none\"){context.globalAlpha=elem.attributes[\"fill-opacity\"].value}else{context.globalAlpha=1}if(elem.attributes.fill&&elem.attributes.fill.value.indexOf(\"url(\")>-1){fillValue=utilLib.getFillStyleById(/url\\(.*#([^)'\"]+)/.exec(elem.attributes.fill.value)[1],context,svgDeCanvo,bBox);context.fillStyle=fillValue}else{if(elem.attributes.fill){context.fillStyle=elem.attributes.fill.value}else{context.fillStyle=\"#000000\"}}};utilLib.endFillEffect=function(elem,context){context.globalAlpha=1};utilLib.applyStrokeEffect=function(elem,context,svgDeCanvo,bBox){if(elem.attributes[\"stroke-opacity\"]&&elem.attributes[\"stroke-opacity\"].value!==\"none\"){context.globalAlpha=elem.attributes[\"stroke-opacity\"].value}if(elem.attributes[\"stroke-width\"]){context.lineWidth=elem.attributes[\"stroke-width\"].value;if(elem.attributes[\"stroke-width\"].value===\"0\"){context.globalAlpha=0}}if(elem.attributes[\"stroke-linecap\"]&&elem.attributes[\"stroke-linecap\"].value!==\"none\"){context.lineCap=elem.attributes[\"stroke-linecap\"].value}if(elem.attributes[\"stroke-linejoin\"]&&elem.attributes[\"stroke-linejoin\"].value!==\"none\"){context.lineJoin=elem.attributes[\"stroke-linejoin\"].value}if(elem.attributes[\"stroke-dasharray\"]&&elem.attributes[\"stroke-dasharray\"].value!==\"none\"&&context.setLineDash){context.setLineDash(utilLib.getArgsAsArray(elem.attributes[\"stroke-dasharray\"].value))}if(elem.attributes.stroke){context.strokeStyle=elem.attributes.stroke.value}else{context.strokeStyle=\"#000000\"}};utilLib.endStrokeEffect=function(elem,context){if(elem.attributes[\"stroke-opacity\"]&&elem.attributes[\"stroke-opacity\"].value!==\"none\"){context.globalAlpha=1;if(context.setLineDash){context.setLineDash([])}context.lineWidth=1}context.globalAlpha=1};utilLib.applyClip=function(id,context,svgDeCanvo){var svg=svgDeCanvo.getSVG(),elemId,elem,chldrn,a,fncName;if(id.indexOf(\"url(\")===-1){return}elemId=/url\\(.*#([^)'\"]+)/.exec(id)[1];elem=svg.getElementById(elemId);if(elem.attributes){context.save();if(elem.attributes.transform){utilLib.startTransform(elem.attributes.transform.value,context)}}chldrn=elem.childNodes;for(a in chldrn){if(!chldrn.hasOwnProperty(a)){continue}if(!chldrn[a].tagName){continue}if(chldrn[a].constructor!==Array){fncName=\"draw\"+chldrn[a].tagName;if(chldrn[a].attributes){context.save();if(chldrn[a].attributes.transform){utilLib.startTransform(chldrn[a].attributes.transform.value,context)}}if(drawLib[fncName]){drawLib[fncName](chldrn[a],context,svgDeCanvo,\"clip\");context.closePath()}if(chldrn[a].attributes){context.restore()}}}if(elem.attributes){context.restore()}context.clip()};utilLib.getFillStyleById=function(id,context,svgDeCanvo,bBox){var svg=svgDeCanvo.getSVG(),gradElem=svg.getElementById(id);if(gradElem.tagName===\"linearGradient\"){return utilLib.getLinearGradient(gradElem,context,bBox)}if(gradElem.tagName===\"radialGradient\"){return utilLib.getRadialGradient(gradElem,context,bBox)}return\"#FFFFFF\"};utilLib.getLinearGradient=function(element,context,bBox){var sx=element.attributes.x1?utilLib.getPercentValue(element.attributes.x1.value,bBox.xMax-bBox.xMin,bBox.xMin):0,sy=element.attributes.y1?utilLib.getPercentValue(element.attributes.y1.value,bBox.yMax-bBox.yMin,bBox.yMin):0,ex=element.attributes.x2?utilLib.getPercentValue(element.attributes.x2.value,bBox.xMax-bBox.xMin,bBox.xMin):0,ey=element.attributes.y2?utilLib.getPercentValue(element.attributes.y2.value,bBox.yMax-bBox.yMin,bBox.yMin):0,linGrad,children,a,color,opacity;linGrad=context.createLinearGradient(sx,sy,ex,ey);children=element.childNodes;for(a in children){if(!children.hasOwnProperty(a)){continue}if(children[a].attributes&&children[a].attributes[\"stop-color\"]){color=utilLib.toRGB(children[a].attributes[\"stop-color\"].value);opacity=children[a].attributes[\"stop-opacity\"]?children[a].attributes[\"stop-opacity\"].value:1;if(color.status){linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),\"rgba(\"+color.r+\",\"+color.g+\",\"+color.b+\",\"+Number(opacity)+\")\")}else{linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),children[a].attributes[\"stop-color\"].value)}}}return linGrad};utilLib.getRadialGradient=function(element,context,bBox){var cx=element.attributes.cx?utilLib.getPercentValue(element.attributes.cx.value,bBox.xMax-bBox.xMin,bBox.xMin):bBox.xMin+(bBox.xMax-bBox.xMin)*.5,cy=element.attributes.cy?utilLib.getPercentValue(element.attributes.cy.value,bBox.yMax-bBox.yMin,bBox.yMin):bBox.yMin+(bBox.yMax-bBox.yMin)*.5,fx=element.attributes.fx?utilLib.getPercentValue(element.attributes.fx.value,bBox.xMax-bBox.xMin,bBox.xMin):bBox.xMin+(bBox.xMax-bBox.xMin)*.5,fy=element.attributes.fy?utilLib.getPercentValue(element.attributes.fy.value,bBox.yMax-bBox.yMin,bBox.yMin):bBox.yMin+(bBox.yMax-bBox.yMin)*.5,r=element.attributes.r?utilLib.getPercentValue(element.attributes.r.value,(bBox.yMax-bBox.yMin+bBox.xMax-bBox.xMin)/2,0):utilLib.getPercentValue(\"50%\",(bBox.yMax-bBox.yMin+bBox.xMax-bBox.xMin)/2,0),radGrad,children,a,color,opacity;radGrad=context.createRadialGradient(fx,fy,0,cx,cy,r);children=element.childNodes;for(a in children){if(!children.hasOwnProperty(a)){continue}if(children[a].attributes&&children[a].attributes[\"stop-color\"]){color=utilLib.toRGB(children[a].attributes[\"stop-color\"].value);opacity=children[a].attributes[\"stop-opacity\"]?children[a].attributes[\"stop-opacity\"].value:1;if(color.status){radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),\"rgba(\"+color.r+\",\"+color.g+\",\"+color.b+\",\"+Number(opacity)+\")\")}else{radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),children[a].attributes[\"stop-color\"].value)}}}return radGrad};utilLib.getPercentValue=function(percent,value,correction){var mVal;if(percent.indexOf(\"%\")!==-1){mVal=/(\\d.*)%/.exec(percent)[1];if(mVal>100){mVal=100}return mVal*value/100+correction*1}else{if(percent>1){return percent}return percent*value+correction*1}};utilLib.bBoxFromPoint=function(xPointArr,yPointArr,bBox){if(typeof bBox.xMin!==\"undefined\"){xPointArr.push(bBox.xMin,bBox.xMax);yPointArr.push(bBox.yMin,bBox.yMax)}bBox.xMin=Math.min.apply(this,xPointArr);bBox.xMax=Math.max.apply(this,xPointArr);bBox.yMin=Math.min.apply(this,yPointArr);bBox.yMax=Math.max.apply(this,yPointArr)};utilLib.arcBBox=function(cx,cy,r,sa,ea,cc,transform,bBox){var rsa,rea,startArcX,endArcX,startArcY,endArcY,xMin,yMin,xMax,yMax,xArr,yArr,isBetween;if(transform instanceof Array){cx=cx*transform[0]+cx*transform[2]+transform[4];cy=cy*transform[1]+cy*transform[3]+transform[5]}isBetween=function isBetween(start,end,angle){start=(start+2*Math.PI)%(2*Math.PI);end=(end+2*Math.PI)%(2*Math.PI);if(start<=end){if(start<=angle&&angle<=end){return true}else{return false}}else if(start>=end){if(start>=angle&&angle>=end){return false}else{return true}}};rsa=sa%(2*Math.PI);rea=ea%(2*Math.PI);if(cc){rsa=ea%(2*Math.PI);rea=sa%(2*Math.PI)}startArcX=cx+r*Math.cos(rsa);startArcY=cy+r*Math.sin(rsa);endArcX=cx+r*Math.cos(rea);endArcY=cy+r*Math.sin(rea);xArr=[startArcX,endArcX];yArr=[startArcY,endArcY];if(isBetween(rsa,rea,0)){xArr.push(cx*1+r*1);yArr.push(cy)}if(isBetween(rsa,rea,.5*Math.PI)){xArr.push(cx);yArr.push(cy*1+r*1)}if(isBetween(rsa,rea,Math.PI)){xArr.push(cx-r*1);yArr.push(cy)}if(isBetween(rsa,rea,1.5*Math.PI)){xArr.push(cx);yArr.push(cy-r*1)}xMax=Math.max.apply(this,xArr);xMin=Math.min.apply(this,xArr);yMax=Math.max.apply(this,yArr);yMin=Math.min.apply(this,yArr);if(typeof bBox.xMin!==\"undefined\"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.qBezierBBox=function(sx,sy,cx,cy,ex,ey,bBox){var txd=sx*1-2*cx+ex*1,tyd=sy*1-2*cy+ey*1,tx,ty,xMin,yMin,xMax,yMax,curveX,curveY;if(txd===0||tyd===0){xMax=Math.max(sx,ex);xMin=Math.min(sx,ex);yMax=Math.max(sy,ey);yMin=Math.min(sy,ey)}else{tx=(sx-cx)/txd;ty=(sy-cy)/tyd;curveX=sx*Math.pow(1-tx,2)+2*cx*(1-tx)*tx+ex*Math.pow(tx,2);curveY=sy*Math.pow(1-ty,2)+2*cy*(1-ty)*ty+ey*Math.pow(ty,2);xMax=Math.max(sx,ex,curveX);xMin=Math.min(sx,ex,curveX);yMax=Math.max(sy,ey,curveY);yMin=Math.min(sy,ey,curveY)}if(typeof bBox.xMin!==\"undefined\"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.cBezierBBox=function(sx,sy,cx,cy,c1x,c1y,ex,ey,bBox){var xMin,xMax,yMin,yMax,a,b,c,root,t1,t2,calculateBound,xTemp,yTemp;if(c1x===null&&c1y===null){cx=sx+2/3*(cx-sx);c1x=sy+2/3*(cy-sy);cy=cx+1/3*(ex-sx);c1y=c1x+1/3*(ey-sy)}calculateBound=function calculateBound(a,b,c,d,t){return a*Math.pow(1-t,3)+3*b*t*Math.pow(1-t,2)+3*c*t*t*(1-t)+d*t*t*t};a=3*ex-9*c1x+9*cx-3*sx;b=6*sx-12*cx+6*c1x;c=3*cx-3*sx;root=Math.pow(b,2)-4*a*c;xMin=sx;xMax=sx;if(ex<xMin){xMin=ex}if(ex>xMax){xMax=ex}if(root>=0){t1=(-b+Math.sqrt(root))/(2*a);if(t1>0&&t1<1){xTemp=calculateBound(sx,cx,c1x,ex,t1);if(xTemp<xMin){xMin=xTemp}if(xTemp>xMax){xMax=xTemp}}t2=(-b-Math.sqrt(root))/(2*a);if(t2>0&&t2<1){xTemp=calculateBound(sx,cx,c1x,ex,t2);if(xTemp<xMin)xMin=xTemp;if(xTemp>xMax)xMax=xTemp}}a=3*ey-9*c1y+9*cy-3*sy;b=6*sy-12*cy+6*c1y;c=3*cy-3*sy;root=Math.pow(b,2)-4*a*c;yMin=sy;yMax=sy;if(ey<yMin)yMin=ey;if(ey>yMax)yMax=ey;if(root>=0){t1=(-b+Math.sqrt(root))/(2*a);if(t1>0&&t1<1){yTemp=calculateBound(sy,cy,c1y,ey,t1);if(yTemp<yMin){yMin=yTemp}if(yTemp>yMax){yMax=yTemp}}t2=(-b-Math.sqrt(root))/(2*a);if(t2>0&&t2<1){yTemp=calculateBound(sy,cy,c1y,ey,t2);if(yTemp<yMin){yMin=yTemp}if(yTemp>yMax){yMax=yTemp}}}if(typeof bBox.xMin!==\"undefined\"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.combineTransformMatrix=function(matrices){var mlast=matrices.length-1,i,resMatrix;if(mlast<=0){return matrices[0]}resMatrix=matrices[0];for(i=1;i<=mlast;i++){resMatrix[0]=resMatrix[0]*matrices[i][0]+resMatrix[1]*matrices[i][3];resMatrix[1]=resMatrix[0]*matrices[i][1]+resMatrix[1]*matrices[i][4];resMatrix[2]=resMatrix[0]*matrices[i][2]+resMatrix[1]*matrices[i][5]+resMatrix[2]*1;resMatrix[3]=resMatrix[3]*matrices[i][0]+resMatrix[4]*matrices[i][3];resMatrix[4]=resMatrix[3]*matrices[i][1]+resMatrix[4]*matrices[i][4];resMatrix[5]=resMatrix[3]*matrices[i][2]+resMatrix[4]*matrices[i][5]+resMatrix[5]*1}return resMatrix};utilLib.angleBetweenVectors=function(ux,uy,vx,vy){var sign=ux*vy<uy*vx?-1:1,dotProduct=ux*vx+uy*vy,uMagnitude=Math.sqrt(Math.pow(ux,2)+Math.pow(uy,2)),vMagnitude=Math.sqrt(Math.pow(vx,2)+Math.pow(vy,2));return sign*Math.acos(dotProduct/(uMagnitude*vMagnitude))};utilLib.toRGB=function(color){var rgb={r:0,g:0,b:0,status:0},tmpVar,prepareRGB,a;prepareRGB=function prepareRGB(arr){for(a in arr){if(!arr.hasOwnProperty(a)){continue}if(arr[a]<0||isNaN(arr[a])){arr[a]=0}else if(arr[a]>255){arr[a]=255}}rgb={r:arr[0],g:arr[1],b:arr[2],status:1};return rgb};color=color.trim();if(color.match(/^rgb\\(|^rgba\\(/i)){tmpVar=/\\(\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})/.exec(color);prepareRGB([parseInt(tmpVar[1]),parseInt(tmpVar[2]),parseInt(tmpVar[3])])}else if(color.match(/^#/)){tmpVar=/(\\w{2})(\\w{2})(\\w{2})/.exec(color);prepareRGB([parseInt(tmpVar[1],16),parseInt(tmpVar[2],16),parseInt(tmpVar[3],16)])}return rgb};utilLib.StrToDom=function(str){var parser,doc;if(win.DOMParser){parser=new DOMParser;doc=parser.parseFromString(str,\"text/xml\")}else{doc=new win.ActiveXObject(\"Microsoft.XMLDOM\");doc.async=false;doc.loadXML(str)}return doc};var _default=_SvgDeCanvo;exports.default=_default;"]},"metadata":{},"sourceType":"script"}