{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _index = _interopRequireDefault(require(\"./index.animation\"));\n\nvar mathMax = Math.max,\n    mathMin = Math.min,\n    mathCeil = Math.ceil,\n    PXSTRING = \"px\",\n    POSITION_RIGHT = \"right\",\n    POSITION_LEFT = \"left\",\n    POSITION_CENTER = \"center\",\n    POSITION_TOP = \"top\",\n    POSITION_BOTTOM = \"bottom\",\n    POSITION_MIDDLE = \"middle\",\n    POSITION_START = \"start\",\n    POSITION_END = \"end\";\n(0, _dependencyManager.addDep)({\n  name: \"captionAnimation\",\n  type: \"animationRule\",\n  extension: _index.default\n});\n\nvar Caption = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(Caption, _ComponentInterface);\n\n  function Caption() {\n    return _ComponentInterface.apply(this, arguments) || this;\n  }\n\n  var _proto = Caption.prototype;\n\n  _proto.getType = function getType() {\n    return \"caption\";\n  };\n\n  _proto.getName = function getName() {\n    return \"caption\";\n  };\n\n  _proto.configure = function configure() {\n    var iapi = this.getFromEnv(\"chart\"),\n        chartAttrs = iapi.getFromEnv(\"chart-attrib\"),\n        caption = this,\n        captionConfig = caption.config || {},\n        style = iapi.getFromEnv(\"style\"),\n        outCanfontFamily = style.outCanfontFamily,\n        outCancolor = style.outCancolor,\n        align = [\"top\", \"center\"];\n    caption.config.text = (0, _lib.parseUnsafeString)(chartAttrs.caption);\n    captionConfig.style = {\n      fontFamily: (0, _lib.pluck)(chartAttrs.captionfont, outCanfontFamily),\n      color: (0, _lib.convertColor)((0, _lib.pluck)(chartAttrs.captionfontcolor, outCancolor).replace(/^#? ([a-f0-9]+)/gi, \"#$1\")),\n      fontSize: (0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize), this.computeFontSize(style.fontSizeWithUnit) + 3) + PXSTRING,\n      fontWeight: (0, _lib.pluckNumber)(chartAttrs.captionfontbold) === 0 ? _lib.NORMAL : _lib.BOLD\n    };\n\n    if (!captionConfig.align) {\n      captionConfig.align = _lib.BLANKSTRING;\n    }\n\n    captionConfig.align = (0, _lib.pluck)(chartAttrs.captionposition, chartAttrs.captionalignment, POSITION_CENTER);\n\n    if (captionConfig.align) {\n      align = captionConfig.align.split(\"-\");\n      align[0] && (align[0] = align[0].toLowerCase());\n      align[1] && (align[1] = align[1].toLowerCase());\n\n      if (align.length < 2) {\n        align[1] = align[0];\n      }\n    }\n\n    switch (align[0]) {\n      case POSITION_TOP:\n        captionConfig.isOnTop = 1;\n        break;\n\n      case POSITION_BOTTOM:\n        captionConfig.isOnTop = 0;\n        break;\n\n      default:\n        captionConfig.isOnTop = (0, _lib.pluckNumber)(chartAttrs.captionontop, 1);\n    }\n\n    switch (align[1]) {\n      case POSITION_RIGHT:\n        captionConfig.align = POSITION_END;\n        break;\n\n      case POSITION_LEFT:\n        captionConfig.align = POSITION_START;\n        break;\n\n      default:\n        captionConfig.align = POSITION_MIDDLE;\n    }\n\n    captionConfig.isOnLeft = !(0, _lib.pluckNumber)(chartAttrs.captiononright, 0);\n    captionConfig.captionPosition = (0, _lib.getValidValue)(chartAttrs.captionposition, POSITION_TOP).toLowerCase();\n    captionConfig.alignWithCanvas = (0, _lib.pluckNumber)(chartAttrs.aligncaptionwithcanvas, iapi.config.alignCaptionWithCanvas, 1);\n    captionConfig.horizontalPadding = (0, _lib.pluckNumber)(chartAttrs.captionhorizontalpadding, captionConfig.alignWithCanvas ? 0 : 15);\n    captionConfig.drawCaption = true;\n    (0, _lib.setLineHeight)(captionConfig.style);\n  };\n\n  _proto.allocatePosition = function allocatePosition() {\n    var caption = this,\n        chart = caption.getFromEnv(\"chart\");\n\n    chart._manageCaptionPosition();\n  };\n\n  _proto.draw = function draw() {\n    var caption = this,\n        iapi = this.getFromEnv(\"chart\"),\n        chartConfig = iapi.config,\n        animationManager = iapi.getFromEnv(\"animationManager\"),\n        textDirection = iapi.config.textDirection,\n        captionGroup = iapi.getChildContainer().captionGroup,\n        smartLabel = iapi.getFromEnv(\"smartLabel\"),\n        captionElement = caption.getGraphicalElement(\"captionElement\"),\n        toolTipController = caption.getFromEnv(\"toolTipController\"),\n        captionConfig = caption.config,\n        captionStyle = captionConfig.style,\n        hasCaption = captionConfig.text,\n        captionX = captionConfig.x,\n        align = captionConfig.align,\n        captionAttrObj,\n        captionState;\n\n    if (hasCaption) {\n      captionAttrObj = {\n        text: captionConfig.text,\n        fill: captionStyle.color,\n        x: captionX,\n        y: captionConfig.y,\n        \"text-anchor\": align || POSITION_MIDDLE,\n        \"vertical-align\": captionConfig.verticalAlign || POSITION_TOP,\n        visibility: captionConfig.drawCaption ? _lib.visibleStr : _lib.hiddenStr,\n        direction: textDirection\n      };\n      captionElement = caption.addGraphicalElement(\"captionElement\", animationManager.setAnimation({\n        el: captionElement || \"text\",\n        attr: captionAttrObj,\n        container: captionGroup,\n        state: captionState,\n        component: caption,\n        label: \"text\"\n      }));\n      captionElement.css(captionStyle);\n\n      if (chartConfig.showtooltip) {\n        toolTipController.enableToolTip(captionElement, captionConfig.originalText);\n      } else {\n        toolTipController.disableToolTip(captionElement);\n      }\n\n      if (smartLabel) {\n        smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);\n        smartLabel.setStyle(captionStyle);\n      }\n    } else if (captionElement) {\n      animationManager.setAnimation({\n        el: captionElement,\n        component: caption,\n        callback: function callback() {\n          this.hide();\n        },\n        doNotRemove: true\n      });\n    }\n\n    chartConfig.savedCaption = captionElement;\n  };\n\n  _proto.manageSpace = function manageSpace(availableHeight, availableWidth) {\n    var iapi = this.getFromEnv(\"chart\"),\n        chartConfig = iapi.config,\n        caption = iapi.getChildren(\"caption\")[0],\n        subCaption = iapi.getChildren(\"subCaption\")[0],\n        style = iapi.getFromEnv(\"style\"),\n        fontSizeWithUnit = style.fontSizeWithUnit,\n        captionConfig = caption.config,\n        subCaptionConfig = subCaption.config,\n        captionStyle = captionConfig.style,\n        subCaptionStyle = subCaptionConfig.style,\n        chartAttrs = iapi.getFromEnv(\"dataSource\").chart,\n        SmartLabel = iapi.getFromEnv(\"smartLabel\"),\n        allowedHeight = availableHeight,\n        titleText = (0, _lib.parseUnsafeString)(chartAttrs.caption),\n        subTitleText = (0, _lib.parseUnsafeString)(chartAttrs.subcaption),\n        captionPadding = (0, _lib.pluckNumber)(chartAttrs.captionpadding, 10),\n        oriCapPadding = captionPadding,\n        isPaddingReduced = false,\n        captionObj,\n        subcaptionObj,\n        totalHeight = 0,\n        capStyle,\n        dimensions,\n        subCapStyle,\n        difference = 0,\n        extraSpace = 0,\n        captionLineHeight = 0,\n        subCaptionLineHeight = 0,\n        topGutterWidth = 5,\n        canvas = iapi.getChildren(\"canvas\"),\n        canvasBorderThickness = mathMax(canvas && canvas[0].config.canvasBorderThickness, 0),\n        captionWidth = 0,\n        subCaptionWidth = 0;\n    captionStyle.fontSize = (0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize), this.computeFontSize(fontSizeWithUnit) + 3) + PXSTRING;\n    (0, _lib.setLineHeight)(captionStyle);\n    subCaptionStyle.fontSize = (0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.subcaptionfontsize), (0, _lib.pluckNumber)(mathMax((0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize)) - 3, -1), this.computeFontSize(fontSizeWithUnit)) + (0, _lib.pluckNumber)(iapi.subTitleFontSizeExtender, 1)) + PXSTRING;\n    (0, _lib.setLineHeight)(subCaptionStyle);\n\n    if (allowedHeight > 3) {\n      if (captionPadding < canvasBorderThickness) {\n        captionPadding = canvasBorderThickness + 2;\n      }\n\n      if (titleText !== _lib.BLANKSTRING) {\n        capStyle = captionConfig.style;\n        captionLineHeight = mathCeil((0, _lib.pluckNumber)(parseFloat(capStyle.fontHeight, 10), parseFloat(capStyle.lineHeight, 10), 12));\n      }\n\n      if (subTitleText !== _lib.BLANKSTRING) {\n        subCapStyle = subCaptionConfig.style;\n        subCaptionLineHeight = (0, _lib.pluckNumber)(parseInt(subCapStyle.fontHeight, 10), parseInt(subCapStyle.lineHeight, 10), 12);\n      }\n\n      if (captionLineHeight > 0 || subCaptionLineHeight > 0) {\n        allowedHeight = mathMax(allowedHeight, 0);\n        totalHeight = captionLineHeight + subCaptionLineHeight + captionPadding;\n\n        if (totalHeight > allowedHeight) {\n          difference = totalHeight - allowedHeight;\n          isPaddingReduced = true;\n\n          if (difference < captionPadding) {\n            captionPadding = mathMax(difference, 5);\n          } else {\n            difference -= captionPadding;\n            captionPadding = 0;\n\n            if (subCaptionLineHeight > difference) {\n              extraSpace = subCaptionLineHeight - difference + 10;\n              subCaptionLineHeight = 0;\n              subCaptionConfig._originalText = subCaptionConfig.text;\n              subCaptionConfig.text = _lib.BLANKSTRING;\n            } else {\n              difference -= subCaptionLineHeight;\n              subCaptionLineHeight = 0;\n\n              if (captionLineHeight > difference) {\n                extraSpace = captionLineHeight - difference;\n              }\n            }\n          }\n        } else {\n          extraSpace = allowedHeight - totalHeight;\n        }\n\n        SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);\n\n        if (captionLineHeight > 0) {\n          SmartLabel.setStyle(capStyle);\n          captionLineHeight += extraSpace;\n          captionObj = SmartLabel.getSmartText(titleText, availableWidth, captionLineHeight);\n          extraSpace = captionLineHeight - captionObj.height;\n          captionConfig.height = captionLineHeight = captionObj.height;\n          captionConfig.text = captionObj.text;\n          captionConfig.originalText = captionObj.tooltext ? captionObj.tooltext : false;\n          captionWidth = captionObj.width;\n        }\n\n        if (subCaptionLineHeight > 0) {\n          SmartLabel.setStyle(subCapStyle);\n          subCaptionLineHeight += extraSpace;\n          subcaptionObj = SmartLabel.getSmartText(subTitleText, availableWidth, subCaptionLineHeight);\n          extraSpace = subCaptionLineHeight - subcaptionObj.height;\n          subCaptionLineHeight = subcaptionObj.height;\n          subCaptionConfig.text = subcaptionObj.text;\n          subCaptionConfig.height = subcaptionObj.height;\n          subCaptionConfig.originalText = subcaptionObj.tooltext ? subcaptionObj.tooltext : false;\n          subCaptionWidth = subcaptionObj.width;\n        }\n\n        if (isPaddingReduced && extraSpace > 0) {\n          captionPadding += mathMin(oriCapPadding - captionPadding, extraSpace);\n        }\n\n        captionConfig.captionPadding = captionPadding;\n        captionConfig.height = captionLineHeight;\n        captionConfig.width = captionWidth;\n        subCaptionConfig.width = subCaptionWidth;\n        subCaptionConfig.height = subCaptionLineHeight;\n        totalHeight = captionLineHeight + subCaptionLineHeight + captionPadding;\n      } else {\n        captionConfig.height = 0;\n        subCaptionConfig.height = 0;\n      }\n\n      if (totalHeight > chartConfig.canvasHeight) {\n        totalHeight = 0;\n        captionConfig.drawCaption = false;\n      } else {\n        captionConfig.drawCaption = true;\n      }\n\n      if (captionConfig.isOnTop) {\n        dimensions = {\n          top: totalHeight\n        };\n      } else {\n        dimensions = {\n          bottom: totalHeight,\n          top: topGutterWidth\n        };\n      }\n    } else {\n      dimensions = {\n        bottom: 0,\n        top: 0\n      };\n      captionConfig.drawCaption = false;\n    }\n\n    return dimensions;\n  };\n\n  _proto.setDimention = function setDimention(pos) {\n    var caption = this,\n        captionConfig = caption.config;\n    captionConfig.x = pos.x;\n    captionConfig.y = pos.y;\n  };\n\n  return Caption;\n}(_componentInterface.ComponentInterface);\n\nvar _default = Caption;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/charts/src/_internal/components/caption/index.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_lib","_componentInterface","_dependencyManager","_index","mathMax","Math","max","mathMin","min","mathCeil","ceil","PXSTRING","POSITION_RIGHT","POSITION_LEFT","POSITION_CENTER","POSITION_TOP","POSITION_BOTTOM","POSITION_MIDDLE","POSITION_START","POSITION_END","addDep","name","type","extension","Caption","_ComponentInterface","apply","arguments","_proto","prototype","getType","getName","configure","iapi","getFromEnv","chartAttrs","caption","captionConfig","config","style","outCanfontFamily","outCancolor","align","text","parseUnsafeString","fontFamily","pluck","captionfont","color","convertColor","captionfontcolor","replace","fontSize","pluckNumber","computeFontSize","captionfontsize","fontSizeWithUnit","fontWeight","captionfontbold","NORMAL","BOLD","BLANKSTRING","captionposition","captionalignment","split","toLowerCase","length","isOnTop","captionontop","isOnLeft","captiononright","captionPosition","getValidValue","alignWithCanvas","aligncaptionwithcanvas","alignCaptionWithCanvas","horizontalPadding","captionhorizontalpadding","drawCaption","setLineHeight","allocatePosition","chart","_manageCaptionPosition","draw","chartConfig","animationManager","textDirection","captionGroup","getChildContainer","smartLabel","captionElement","getGraphicalElement","toolTipController","captionStyle","hasCaption","captionX","x","captionAttrObj","captionState","fill","y","verticalAlign","visibility","visibleStr","hiddenStr","direction","addGraphicalElement","setAnimation","el","attr","container","state","component","label","css","showtooltip","enableToolTip","originalText","disableToolTip","useEllipsesOnOverflow","useEllipsesWhenOverflow","setStyle","callback","hide","doNotRemove","savedCaption","manageSpace","availableHeight","availableWidth","getChildren","subCaption","subCaptionConfig","subCaptionStyle","SmartLabel","allowedHeight","titleText","subTitleText","subcaption","captionPadding","captionpadding","oriCapPadding","isPaddingReduced","captionObj","subcaptionObj","totalHeight","capStyle","dimensions","subCapStyle","difference","extraSpace","captionLineHeight","subCaptionLineHeight","topGutterWidth","canvas","canvasBorderThickness","captionWidth","subCaptionWidth","subcaptionfontsize","subTitleFontSizeExtender","parseFloat","fontHeight","lineHeight","parseInt","_originalText","getSmartText","height","tooltext","width","canvasHeight","top","bottom","setDimention","pos","ComponentInterface","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _index=_interopRequireDefault(require(\"./index.animation\"));var mathMax=Math.max,mathMin=Math.min,mathCeil=Math.ceil,PXSTRING=\"px\",POSITION_RIGHT=\"right\",POSITION_LEFT=\"left\",POSITION_CENTER=\"center\",POSITION_TOP=\"top\",POSITION_BOTTOM=\"bottom\",POSITION_MIDDLE=\"middle\",POSITION_START=\"start\",POSITION_END=\"end\";(0,_dependencyManager.addDep)({name:\"captionAnimation\",type:\"animationRule\",extension:_index.default});var Caption=function(_ComponentInterface){(0,_inheritsLoose2.default)(Caption,_ComponentInterface);function Caption(){return _ComponentInterface.apply(this,arguments)||this}var _proto=Caption.prototype;_proto.getType=function getType(){return\"caption\"};_proto.getName=function getName(){return\"caption\"};_proto.configure=function configure(){var iapi=this.getFromEnv(\"chart\"),chartAttrs=iapi.getFromEnv(\"chart-attrib\"),caption=this,captionConfig=caption.config||{},style=iapi.getFromEnv(\"style\"),outCanfontFamily=style.outCanfontFamily,outCancolor=style.outCancolor,align=[\"top\",\"center\"];caption.config.text=(0,_lib.parseUnsafeString)(chartAttrs.caption);captionConfig.style={fontFamily:(0,_lib.pluck)(chartAttrs.captionfont,outCanfontFamily),color:(0,_lib.convertColor)((0,_lib.pluck)(chartAttrs.captionfontcolor,outCancolor).replace(/^#? ([a-f0-9]+)/gi,\"#$1\")),fontSize:(0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize),this.computeFontSize(style.fontSizeWithUnit)+3)+PXSTRING,fontWeight:(0,_lib.pluckNumber)(chartAttrs.captionfontbold)===0?_lib.NORMAL:_lib.BOLD};if(!captionConfig.align){captionConfig.align=_lib.BLANKSTRING}captionConfig.align=(0,_lib.pluck)(chartAttrs.captionposition,chartAttrs.captionalignment,POSITION_CENTER);if(captionConfig.align){align=captionConfig.align.split(\"-\");align[0]&&(align[0]=align[0].toLowerCase());align[1]&&(align[1]=align[1].toLowerCase());if(align.length<2){align[1]=align[0]}}switch(align[0]){case POSITION_TOP:captionConfig.isOnTop=1;break;case POSITION_BOTTOM:captionConfig.isOnTop=0;break;default:captionConfig.isOnTop=(0,_lib.pluckNumber)(chartAttrs.captionontop,1)}switch(align[1]){case POSITION_RIGHT:captionConfig.align=POSITION_END;break;case POSITION_LEFT:captionConfig.align=POSITION_START;break;default:captionConfig.align=POSITION_MIDDLE}captionConfig.isOnLeft=!(0,_lib.pluckNumber)(chartAttrs.captiononright,0);captionConfig.captionPosition=(0,_lib.getValidValue)(chartAttrs.captionposition,POSITION_TOP).toLowerCase();captionConfig.alignWithCanvas=(0,_lib.pluckNumber)(chartAttrs.aligncaptionwithcanvas,iapi.config.alignCaptionWithCanvas,1);captionConfig.horizontalPadding=(0,_lib.pluckNumber)(chartAttrs.captionhorizontalpadding,captionConfig.alignWithCanvas?0:15);captionConfig.drawCaption=true;(0,_lib.setLineHeight)(captionConfig.style)};_proto.allocatePosition=function allocatePosition(){var caption=this,chart=caption.getFromEnv(\"chart\");chart._manageCaptionPosition()};_proto.draw=function draw(){var caption=this,iapi=this.getFromEnv(\"chart\"),chartConfig=iapi.config,animationManager=iapi.getFromEnv(\"animationManager\"),textDirection=iapi.config.textDirection,captionGroup=iapi.getChildContainer().captionGroup,smartLabel=iapi.getFromEnv(\"smartLabel\"),captionElement=caption.getGraphicalElement(\"captionElement\"),toolTipController=caption.getFromEnv(\"toolTipController\"),captionConfig=caption.config,captionStyle=captionConfig.style,hasCaption=captionConfig.text,captionX=captionConfig.x,align=captionConfig.align,captionAttrObj,captionState;if(hasCaption){captionAttrObj={text:captionConfig.text,fill:captionStyle.color,x:captionX,y:captionConfig.y,\"text-anchor\":align||POSITION_MIDDLE,\"vertical-align\":captionConfig.verticalAlign||POSITION_TOP,visibility:captionConfig.drawCaption?_lib.visibleStr:_lib.hiddenStr,direction:textDirection};captionElement=caption.addGraphicalElement(\"captionElement\",animationManager.setAnimation({el:captionElement||\"text\",attr:captionAttrObj,container:captionGroup,state:captionState,component:caption,label:\"text\"}));captionElement.css(captionStyle);if(chartConfig.showtooltip){toolTipController.enableToolTip(captionElement,captionConfig.originalText)}else{toolTipController.disableToolTip(captionElement)}if(smartLabel){smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle(captionStyle)}}else if(captionElement){animationManager.setAnimation({el:captionElement,component:caption,callback:function callback(){this.hide()},doNotRemove:true})}chartConfig.savedCaption=captionElement};_proto.manageSpace=function manageSpace(availableHeight,availableWidth){var iapi=this.getFromEnv(\"chart\"),chartConfig=iapi.config,caption=iapi.getChildren(\"caption\")[0],subCaption=iapi.getChildren(\"subCaption\")[0],style=iapi.getFromEnv(\"style\"),fontSizeWithUnit=style.fontSizeWithUnit,captionConfig=caption.config,subCaptionConfig=subCaption.config,captionStyle=captionConfig.style,subCaptionStyle=subCaptionConfig.style,chartAttrs=iapi.getFromEnv(\"dataSource\").chart,SmartLabel=iapi.getFromEnv(\"smartLabel\"),allowedHeight=availableHeight,titleText=(0,_lib.parseUnsafeString)(chartAttrs.caption),subTitleText=(0,_lib.parseUnsafeString)(chartAttrs.subcaption),captionPadding=(0,_lib.pluckNumber)(chartAttrs.captionpadding,10),oriCapPadding=captionPadding,isPaddingReduced=false,captionObj,subcaptionObj,totalHeight=0,capStyle,dimensions,subCapStyle,difference=0,extraSpace=0,captionLineHeight=0,subCaptionLineHeight=0,topGutterWidth=5,canvas=iapi.getChildren(\"canvas\"),canvasBorderThickness=mathMax(canvas&&canvas[0].config.canvasBorderThickness,0),captionWidth=0,subCaptionWidth=0;captionStyle.fontSize=(0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize),this.computeFontSize(fontSizeWithUnit)+3)+PXSTRING;(0,_lib.setLineHeight)(captionStyle);subCaptionStyle.fontSize=(0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.subcaptionfontsize),(0,_lib.pluckNumber)(mathMax((0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize))-3,-1),this.computeFontSize(fontSizeWithUnit))+(0,_lib.pluckNumber)(iapi.subTitleFontSizeExtender,1))+PXSTRING;(0,_lib.setLineHeight)(subCaptionStyle);if(allowedHeight>3){if(captionPadding<canvasBorderThickness){captionPadding=canvasBorderThickness+2}if(titleText!==_lib.BLANKSTRING){capStyle=captionConfig.style;captionLineHeight=mathCeil((0,_lib.pluckNumber)(parseFloat(capStyle.fontHeight,10),parseFloat(capStyle.lineHeight,10),12))}if(subTitleText!==_lib.BLANKSTRING){subCapStyle=subCaptionConfig.style;subCaptionLineHeight=(0,_lib.pluckNumber)(parseInt(subCapStyle.fontHeight,10),parseInt(subCapStyle.lineHeight,10),12)}if(captionLineHeight>0||subCaptionLineHeight>0){allowedHeight=mathMax(allowedHeight,0);totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding;if(totalHeight>allowedHeight){difference=totalHeight-allowedHeight;isPaddingReduced=true;if(difference<captionPadding){captionPadding=mathMax(difference,5)}else{difference-=captionPadding;captionPadding=0;if(subCaptionLineHeight>difference){extraSpace=subCaptionLineHeight-difference+10;subCaptionLineHeight=0;subCaptionConfig._originalText=subCaptionConfig.text;subCaptionConfig.text=_lib.BLANKSTRING}else{difference-=subCaptionLineHeight;subCaptionLineHeight=0;if(captionLineHeight>difference){extraSpace=captionLineHeight-difference}}}}else{extraSpace=allowedHeight-totalHeight}SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);if(captionLineHeight>0){SmartLabel.setStyle(capStyle);captionLineHeight+=extraSpace;captionObj=SmartLabel.getSmartText(titleText,availableWidth,captionLineHeight);extraSpace=captionLineHeight-captionObj.height;captionConfig.height=captionLineHeight=captionObj.height;captionConfig.text=captionObj.text;captionConfig.originalText=captionObj.tooltext?captionObj.tooltext:false;captionWidth=captionObj.width}if(subCaptionLineHeight>0){SmartLabel.setStyle(subCapStyle);subCaptionLineHeight+=extraSpace;subcaptionObj=SmartLabel.getSmartText(subTitleText,availableWidth,subCaptionLineHeight);extraSpace=subCaptionLineHeight-subcaptionObj.height;subCaptionLineHeight=subcaptionObj.height;subCaptionConfig.text=subcaptionObj.text;subCaptionConfig.height=subcaptionObj.height;subCaptionConfig.originalText=subcaptionObj.tooltext?subcaptionObj.tooltext:false;subCaptionWidth=subcaptionObj.width}if(isPaddingReduced&&extraSpace>0){captionPadding+=mathMin(oriCapPadding-captionPadding,extraSpace)}captionConfig.captionPadding=captionPadding;captionConfig.height=captionLineHeight;captionConfig.width=captionWidth;subCaptionConfig.width=subCaptionWidth;subCaptionConfig.height=subCaptionLineHeight;totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding}else{captionConfig.height=0;subCaptionConfig.height=0}if(totalHeight>chartConfig.canvasHeight){totalHeight=0;captionConfig.drawCaption=false}else{captionConfig.drawCaption=true}if(captionConfig.isOnTop){dimensions={top:totalHeight}}else{dimensions={bottom:totalHeight,top:topGutterWidth}}}else{dimensions={bottom:0,top:0};captionConfig.drawCaption=false}return dimensions};_proto.setDimention=function setDimention(pos){var caption=this,captionConfig=caption.config;captionConfig.x=pos.x;captionConfig.y=pos.y};return Caption}(_componentInterface.ComponentInterface);var _default=Caption;exports.default=_default;"]},"metadata":{},"sourceType":"script"}