{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\OneDrive\\\\Desktop\\\\16_05_2021\\\\henaknowledge\\\\frontend v3\\\\henaknowledgefrontend\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport \"./style.css\";\nimport jwt_decode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Welcome = props => {\n  _s();\n\n  const loginState = useSelector(state => state.auth.isLoggedin);\n  const [user, setuser] = useState({});\n  const [isLoading, SetisLoading] = useState(false);\n\n  if (localStorage.getItem(\"jwt\") !== null) {\n    var token = localStorage.getItem(\"jwt\");\n    var decoded = jwt_decode(token);\n    console.log(decoded);\n  }\n\n  let Url;\n\n  if (localStorage.getItem(\"userType\") === \"Teacher\") {\n    Url = `http://localhost:8080/Teacher/getTeacher?username=`;\n  } else if (localStorage.getItem(\"userType\") === \"Student\") {\n    Url = `http://localhost:8080/Student/getStudent?username=`;\n  } else if (localStorage.getItem(\"userType\") === \"Admin\") {\n    Url = `http://localhost:8080/Admin/getAdmin?username=`;\n  }\n\n  useEffect(() => {\n    SetisLoading(true);\n    axios.get(`${Url}${localStorage.getItem(\"username\")}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(res => {\n      SetisLoading(false);\n      setuser(res.data);\n    }).catch(error => {\n      SetisLoading(false);\n      console.log(error.response);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movingtext\",\n    children: [\"Welcome \", loginState ? user.firstName + \" \" + user.lastName : \"user\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Welcome, \"HSEe7y3TztsGlcK3aiMNIC+02F4=\", false, function () {\n  return [useSelector];\n});\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/16_05_2021/henaknowledge/frontend v3/henaknowledgefrontend/src/Components/Welcome/Welcome.js"],"names":["React","useState","useEffect","axios","useSelector","jwt_decode","Welcome","props","loginState","state","auth","isLoggedin","user","setuser","isLoading","SetisLoading","localStorage","getItem","token","decoded","console","log","Url","get","headers","Authorization","then","res","data","catch","error","response","firstName","lastName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAO,aAAP;AACA,OAAOC,UAAP,MAAuB,YAAvB;;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAMC,UAAU,GAAGJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWC,UAAvB,CAA9B;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;;AAEA,MAAIe,YAAY,CAACC,OAAb,CAAqB,KAArB,MAAgC,IAApC,EAA0C;AACxC,QAAIC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ;AACA,QAAIE,OAAO,GAAGd,UAAU,CAACa,KAAD,CAAxB;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACD;;AAED,MAAIG,GAAJ;;AACA,MAAIN,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,SAAzC,EAAoD;AAClDK,IAAAA,GAAG,GAAI,oDAAP;AACD,GAFD,MAEO,IAAIN,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,SAAzC,EAAoD;AACzDK,IAAAA,GAAG,GAAI,oDAAP;AACD,GAFM,MAEA,IAAIN,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,OAAzC,EAAkD;AACvDK,IAAAA,GAAG,GAAI,gDAAP;AACD;;AACDpB,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAZ,IAAAA,KAAK,CACFoB,GADH,CACQ,GAAED,GAAI,GAAEN,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,EADjD,EACoD;AAChDO,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAAST,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B;AAD9C;AADuC,KADpD,EAMGS,IANH,CAMSC,GAAD,IAAS;AACbZ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,MAAAA,OAAO,CAACc,GAAG,CAACC,IAAL,CAAP;AACD,KATH,EAUGC,KAVH,CAUUC,KAAD,IAAW;AAChBf,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYS,KAAK,CAACC,QAAlB;AACD,KAbH;AAcD,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,2BACWvB,UAAU,GAAGI,IAAI,CAACoB,SAAL,GAAiB,GAAjB,GAAuBpB,IAAI,CAACqB,QAA/B,GAA0C,MAD/D;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CA5CD;;GAAM3B,O;UACeF,W;;;KADfE,O;AA8CN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./style.css\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst Welcome = (props) => {\r\n  const loginState = useSelector((state) => state.auth.isLoggedin);\r\n\r\n  const [user, setuser] = useState({});\r\n  const [isLoading, SetisLoading] = useState(false);\r\n\r\n  if (localStorage.getItem(\"jwt\") !== null) {\r\n    var token = localStorage.getItem(\"jwt\");\r\n    var decoded = jwt_decode(token);\r\n\r\n    console.log(decoded);\r\n  }\r\n\r\n  let Url;\r\n  if (localStorage.getItem(\"userType\") === \"Teacher\") {\r\n    Url = `http://localhost:8080/Teacher/getTeacher?username=`;\r\n  } else if (localStorage.getItem(\"userType\") === \"Student\") {\r\n    Url = `http://localhost:8080/Student/getStudent?username=`;\r\n  } else if (localStorage.getItem(\"userType\") === \"Admin\") {\r\n    Url = `http://localhost:8080/Admin/getAdmin?username=`;\r\n  }\r\n  useEffect(() => {\r\n    SetisLoading(true);\r\n    axios\r\n      .get(`${Url}${localStorage.getItem(\"username\")}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        SetisLoading(false);\r\n        setuser(res.data);\r\n      })\r\n      .catch((error) => {\r\n        SetisLoading(false);\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"movingtext\">\r\n      Welcome {loginState ? user.firstName + \" \" + user.lastName : \"user\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n"]},"metadata":{},"sourceType":"module"}