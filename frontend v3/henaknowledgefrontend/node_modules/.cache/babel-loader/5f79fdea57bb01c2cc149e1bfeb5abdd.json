{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar setterGetter = function setterGetter(keyLabel, value) {\n  var key = keyLabel;\n  key = \"comp_\" + key;\n  value && (this.config[key] = value);\n  return (value || !this.config[key]) && this || this.config[key];\n},\n    _getTranslationString = function _getTranslationString(scaleX, scaleY) {\n  return [\"T\", scaleX, \",\", scaleY].join(\"\");\n},\n    _getTranslation = function _getTranslation(axis) {\n  return -axis.getTranslation();\n},\n    calculateTranslation = function calculateTranslation(axes) {\n  return _getTranslationString(_getTranslation(axes.h), _getTranslation(axes.v));\n},\n    getHVOb = function getHVOb(h, v) {\n  return {\n    h: h,\n    v: v\n  };\n},\n    groupsArr = [\"columnShadowVcanvasGroup\", \"columnVcanvasGroup\", \"areaShadowVcanvasGroup\", \"areaVcanvasGroup\", \"lineShadowVcanvasGroup\", \"lineVcanvasGroup\", \"defaultShadowVcanvasGroup\", \"defaultVcanvasGroup\", \"sumLabelsLayer\", \"vcanvasLabelGroup\"],\n    createGroup = function createGroup(groupName, parentContainer, vCanvas) {\n  var animationManager = vCanvas.getFromEnv(\"animationManager\");\n  return animationManager.setAnimation({\n    el: \"group\",\n    attr: {\n      name: groupName\n    },\n    container: parentContainer,\n    state: \"appearing\",\n    component: vCanvas,\n    label: \"group\"\n  });\n},\n    UNDEF,\n    limitToBeUpdated = function limitToBeUpdated(axis) {\n  return !/category/i.test(axis.getName());\n};\n\nvar VISIBLE = \"visible\",\n    REMOVED = \"removed\",\n    DATASET = \"dataset\";\n\nvar VirtualCanvas = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(VirtualCanvas, _ComponentInterface);\n\n  function VirtualCanvas() {\n    return _ComponentInterface.apply(this, arguments) || this;\n  }\n\n  var _proto = VirtualCanvas.prototype;\n\n  _proto.getName = function getName() {\n    return \"virtualCanvas\";\n  };\n\n  _proto.getType = function getType() {\n    return \"canvas\";\n  };\n\n  _proto.xAxis = function xAxis(_xAxis) {\n    var axis = setterGetter.call(this, \"xAxis\", _xAxis);\n    _xAxis && this.listenToAxis(_xAxis);\n    _xAxis && this.addToEnv(\"xAxis\", _xAxis);\n    return axis;\n  };\n\n  _proto.yAxis = function yAxis(_yAxis) {\n    var axis = setterGetter.call(this, \"yAxis\", _yAxis);\n    _yAxis && this.listenToAxis(_yAxis);\n    _yAxis && this.addToEnv(\"yAxis\", _yAxis);\n    return axis;\n  };\n\n  _proto.paper = function paper(_paper) {\n    return setterGetter.call(this, \"paper\", _paper);\n  };\n\n  _proto.canvas = function canvas(_canvas) {\n    return setterGetter.call(this, \"canvas\", _canvas);\n  };\n\n  _proto.configure = function configure(conf) {\n    if (conf === void 0) {\n      conf = {};\n    }\n\n    var vCanvas = this,\n        chartConfig = vCanvas.getFromEnv(\"chartConfig\"),\n        config = vCanvas.config;\n    Object.assign(config, conf);\n    config.transposeAxis = chartConfig.transposeAxis;\n\n    this._mapChildren(function (child) {\n      if (child.getState(REMOVED) || child.getType() === DATASET) {\n        return;\n      }\n\n      child.configure && child.configure();\n    });\n  };\n\n  _proto.getHorizontalVerticalAxes = function getHorizontalVerticalAxes() {\n    var vcanvas = this,\n        xAxis = vcanvas.xAxis(),\n        yAxis = vcanvas.yAxis();\n    return yAxis.config.isVertical ? getHVOb(xAxis, yAxis) : getHVOb(yAxis, xAxis);\n  };\n\n  _proto.preDraw = function preDraw() {\n    this._mapChildren(function (child) {\n      if (child.getState(\"removed\") || child.getType() === \"dataset\") {\n        return;\n      }\n\n      child.setVisibility && child.setVisibility();\n    });\n\n    var transposeAxis = this.config.transposeAxis,\n        limit,\n        chart = this.getFromEnv(\"chart\"),\n        _this$getAxisValuePad = this.getAxisValuePadding(),\n        left = _this$getAxisValuePad.left,\n        right = _this$getAxisValuePad.right,\n        top = _this$getAxisValuePad.top,\n        bottom = _this$getAxisValuePad.bottom;\n\n    limit = this.getDataLimits(!transposeAxis);\n\n    if (limit.min !== Infinity || limit.max !== -Infinity) {\n      this._setYAxisLimits(limit.min, limit.max);\n\n      chart._storeIntialLimit && chart._storeIntialLimit(limit.min, limit.max);\n    } else {\n      this._setYAxisLimits(UNDEF, UNDEF);\n\n      chart._storeIntialLimit && chart._storeIntialLimit(UNDEF, UNDEF);\n    }\n\n    this._setXAxisLimits(limit.xMin, limit.xMax);\n\n    this._setAxisValuePadding(left, right, top, bottom);\n  };\n\n  _proto.childChanged = function childChanged(updateInfo) {\n    if (updateInfo === void 0) {\n      updateInfo = {};\n    }\n\n    var vCanvas = this,\n        config = vCanvas.config,\n        transposeAxis = config.transposeAxis,\n        range;\n\n    if (updateInfo.dataLimitChanged !== false) {\n      range = vCanvas.getDataLimits(!transposeAxis);\n\n      if (transposeAxis && (range.min !== config.range.min || range.max !== config.range.max)) {\n        config.range.min = range.min;\n        config.range.max = range.max;\n        this.getFromEnv(\"yAxis\").resetStoredLimits();\n        range.min !== Infinity || range.max !== -Infinity ? vCanvas._setYAxisLimits(range.min, range.max) : vCanvas._setYAxisLimits(UNDEF, UNDEF);\n      }\n\n      if (range.xMin !== config.range.xMin || range.xMax !== config.range.xMax) {\n        config.range.xMin = range.xMin;\n        config.range.xMax = range.xMax;\n        this.getFromEnv(\"xAxis\").resetStoredLimits();\n\n        vCanvas._setXAxisLimits(range.xMin, range.xMax);\n      }\n    }\n\n    vCanvas.asyncDraw();\n  };\n\n  _proto._setAxisValuePadding = function _setAxisValuePadding(left, right, top, bottom) {\n    this.getFromEnv(\"xAxis\").setAxisPadding(left, right);\n    top && bottom && this.getFromEnv(\"yAxis\").setAxisPadding(left, right);\n  };\n\n  _proto.getAxisValuePadding = function getAxisValuePadding() {\n    var paddingObj = {},\n        axisPaddingLeft = -Infinity,\n        axisPaddingRight = -Infinity,\n        axisPaddingTop = -Infinity,\n        axisPaddingBottom = -Infinity;\n\n    this._mapChildren(function (child) {\n      if (child.getState(REMOVED)) {\n        return;\n      }\n\n      paddingObj = child.getAxisValuePadding && child.getAxisValuePadding() || {};\n      axisPaddingLeft = Math.max(axisPaddingLeft, paddingObj.left || -Infinity);\n      axisPaddingRight = Math.max(axisPaddingRight, paddingObj.right || -Infinity);\n      axisPaddingTop = Math.max(axisPaddingTop, paddingObj.top || -Infinity);\n      axisPaddingBottom = Math.max(axisPaddingBottom, paddingObj.bottom || -Infinity);\n    });\n\n    if (axisPaddingLeft === -Infinity) {\n      axisPaddingLeft = 0;\n    }\n\n    if (axisPaddingRight === -Infinity) {\n      axisPaddingRight = 0;\n    }\n\n    if (axisPaddingTop === -Infinity) {\n      axisPaddingTop = 0;\n    }\n\n    if (axisPaddingBottom === -Infinity) {\n      axisPaddingBottom = 0;\n    }\n\n    if (!this.config.padding) {\n      this.config.padding = {};\n      this.config.padding.left = axisPaddingLeft;\n      this.config.padding.right = axisPaddingRight;\n      this.config.padding.top = axisPaddingTop;\n      this.config.padding.bottom = axisPaddingBottom;\n    }\n\n    return {\n      left: axisPaddingLeft,\n      right: axisPaddingRight,\n      top: axisPaddingTop,\n      bottom: axisPaddingBottom\n    };\n  };\n\n  _proto._setYAxisLimits = function _setYAxisLimits(min, max) {\n    var yAxis = this.getFromEnv(\"yAxis\");\n    limitToBeUpdated(yAxis) && yAxis.setDataLimit(max, min);\n  };\n\n  _proto._setXAxisLimits = function _setXAxisLimits(xMin, xMax) {\n    var xAxis = this.getFromEnv(\"xAxis\");\n\n    if (limitToBeUpdated(xAxis)) {\n      xMax !== -Infinity || xMin !== +Infinity ? xAxis.setDataLimit(xMax, xMin) : xAxis.setDataLimit(UNDEF, UNDEF);\n    }\n  };\n\n  _proto.getDataLimits = function getDataLimits(allVisible) {\n    var vcanvas = this,\n        chart = vcanvas.getFromEnv(\"chart\"),\n        infMin = -Infinity,\n        infMax = +Infinity,\n        max = infMin,\n        min = infMax,\n        xMin = infMax,\n        xMax = infMin,\n        maxminObj,\n        xMaxValue,\n        xMinValue,\n        getMaxMin = function getMaxMin(_maxminObj) {\n      xMaxValue = (0, _lib.pluck)(_maxminObj.xMax, infMin);\n      xMinValue = (0, _lib.pluck)(_maxminObj.xMin, infMax);\n      max = Math.max(max, _maxminObj.max);\n      min = Math.min(min, _maxminObj.min);\n      xMax = Math.max(xMax, xMaxValue);\n      xMin = Math.min(xMin, xMinValue);\n    };\n\n    vcanvas._mapChildren(function (child) {\n      if (!child.getDataLimits || child.getState(REMOVED) || !allVisible && !child.getState(VISIBLE)) {\n        return;\n      }\n\n      maxminObj = child.getDataLimits(allVisible);\n      getMaxMin(maxminObj);\n    });\n\n    if (!this.config.range) {\n      this.config.range = {};\n      this.config.range.min = min;\n      this.config.range.max = max;\n      this.config.range.xMin = xMin;\n      this.config.range.xMax = xMax;\n    }\n\n    chart.config.yMax = max;\n    chart.config.yMin = min;\n    return {\n      min: min,\n      max: max,\n      xMin: xMin,\n      xMax: xMax\n    };\n  };\n\n  _proto.listenToAxis = function listenToAxis(axis) {\n    var vcanvas = this,\n        axisScrollFn;\n\n    axisScrollFn = function axisScrollFn() {\n      if (vcanvas.getState(\"drawn\")) {\n        vcanvas.asyncDraw();\n      }\n    };\n\n    if (!this.getState(\"visiblerangeset\" + axis.getId())) {\n      this.setState(\"visiblerangeset\" + axis.getId(), true);\n      vcanvas.addExtEventListener(\"visiblerangeset\", axisScrollFn, axis);\n    }\n  };\n\n  _proto.createContainer = function createContainer() {\n    var vcanvas = this,\n        canvas = vcanvas.getLinkedParent();\n    !vcanvas.getChildContainer(\"columnShadowVcanvasGroup\") && vcanvas.addChildContainer(\"columnShadowVcanvasGroup\", createGroup(\"vcanvas-column-shadow\", canvas.getChildContainer(\"columnShadowGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"columnVcanvasGroup\") && vcanvas.addChildContainer(\"columnVcanvasGroup\", createGroup(\"vcanvas-column-plot\", canvas.getChildContainer(\"columnGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"areaShadowVcanvasGroup\") && vcanvas.addChildContainer(\"areaShadowVcanvasGroup\", createGroup(\"vcanvas-area-shadow\", canvas.getChildContainer(\"areaShadowGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"areaVcanvasGroup\") && vcanvas.addChildContainer(\"areaVcanvasGroup\", createGroup(\"vcanvas-area-plot\", canvas.getChildContainer(\"areaGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"lineShadowVcanvasGroup\") && vcanvas.addChildContainer(\"lineShadowVcanvasGroup\", createGroup(\"vcanvas-line-shadow\", canvas.getChildContainer(\"lineShadowGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"lineVcanvasGroup\") && vcanvas.addChildContainer(\"lineVcanvasGroup\", createGroup(\"vcanvas-line-plot\", canvas.getChildContainer(\"lineGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"defaultShadowVcanvasGroup\") && vcanvas.addChildContainer(\"defaultShadowVcanvasGroup\", createGroup(\"vcanvas-default-shadow\", canvas.getChildContainer(\"defaultShadowGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"defaultVcanvasGroup\") && vcanvas.addChildContainer(\"defaultVcanvasGroup\", createGroup(\"vcanvas-default-plot\", canvas.getChildContainer(\"defaultGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"vcanvasLabelGroup\") && vcanvas.addChildContainer(\"vcanvasLabelGroup\", createGroup(\"vcanvas-label\", canvas.getChildContainer(\"datalabelsGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"columnTrendGroup\") && vcanvas.addChildContainer(\"columnTrendGroup\", createGroup(\"columnTrendGroup\", vcanvas.getChildContainer(\"columnVcanvasGroup\"), vcanvas));\n    !vcanvas.getChildContainer(\"sumLabelsLayer\") && vcanvas.addChildContainer(\"sumLabelsLayer\", createGroup(\"vcanvas-sumLabelsLayer\", canvas.getChildContainer(\"sumLabelsLayer\"), vcanvas));\n  };\n\n  _proto.applyTranslation = function applyTranslation() {\n    var vcanvas = this,\n        axes = vcanvas.getHorizontalVerticalAxes(),\n        translation = calculateTranslation(axes),\n        pushAnimData = function pushAnimData(elem) {\n      var el = elem;\n      el = vcanvas.getChildContainer(el);\n      el.attr({\n        transform: translation\n      });\n    };\n\n    vcanvas.createContainer();\n    groupsArr.forEach(function (val) {\n      pushAnimData(val);\n    });\n  };\n\n  _proto.draw = function draw() {\n    this.applyTranslation();\n    this.setState(\"drawn\", true);\n  };\n\n  _proto.getCanvasPadding = function getCanvasPadding() {\n    var iapi = this,\n        dim,\n        key,\n        returnDimension = {\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 0\n    };\n\n    iapi._mapChildren(function (child) {\n      if (!child.getCanvasPadding || child.getState(REMOVED) || !child.getState(VISIBLE)) {\n        return;\n      }\n\n      dim = child.getCanvasPadding() || {};\n\n      for (key in dim) {\n        if (dim.hasOwnProperty(key)) {\n          returnDimension[key] = Math.max(dim[key], returnDimension[key]);\n        }\n      }\n    });\n\n    return returnDimension;\n  };\n\n  _proto.rtShiftAnim = function rtShiftAnim(m, n) {\n    var vcanvas = this,\n        x = m,\n        y = n,\n        translateString,\n        xAxis = vcanvas.getFromEnv(\"xAxis\"),\n        yAxis = vcanvas.getFromEnv(\"yAxis\"),\n        xDiff = xAxis.getPixel(1) - xAxis.getPixel(0),\n        yDiff = yAxis.getPixel(1) - yAxis.getPixel(0),\n        animationManager = vcanvas.getFromEnv(\"animationManager\");\n    x = (x || 0) * xDiff;\n    y = (y || 0) * yDiff;\n    translateString = _getTranslationString(x, y);\n    groupsArr.forEach(function (val) {\n      vcanvas.getChildContainer(val).attr({\n        transform: translateString\n      });\n      animationManager.setAnimation({\n        el: vcanvas.getChildContainer(val),\n        attrs: {\n          transform: \"T0,0\"\n        }\n      });\n    });\n  };\n\n  return VirtualCanvas;\n}(_componentInterface.ComponentInterface);\n\nvar _default = VirtualCanvas;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/charts/src/_internal/components/canvases/vcanvas.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_componentInterface","_lib","setterGetter","keyLabel","value","key","config","_getTranslationString","scaleX","scaleY","join","_getTranslation","axis","getTranslation","calculateTranslation","axes","h","v","getHVOb","groupsArr","createGroup","groupName","parentContainer","vCanvas","animationManager","getFromEnv","setAnimation","el","attr","name","container","state","component","label","UNDEF","limitToBeUpdated","test","getName","VISIBLE","REMOVED","DATASET","VirtualCanvas","_ComponentInterface","apply","arguments","_proto","prototype","getType","xAxis","_xAxis","call","listenToAxis","addToEnv","yAxis","_yAxis","paper","_paper","canvas","_canvas","configure","conf","chartConfig","Object","assign","transposeAxis","_mapChildren","child","getState","getHorizontalVerticalAxes","vcanvas","isVertical","preDraw","setVisibility","limit","chart","_this$getAxisValuePad","getAxisValuePadding","left","right","top","bottom","getDataLimits","min","Infinity","max","_setYAxisLimits","_storeIntialLimit","_setXAxisLimits","xMin","xMax","_setAxisValuePadding","childChanged","updateInfo","range","dataLimitChanged","resetStoredLimits","asyncDraw","setAxisPadding","paddingObj","axisPaddingLeft","axisPaddingRight","axisPaddingTop","axisPaddingBottom","Math","padding","setDataLimit","allVisible","infMin","infMax","maxminObj","xMaxValue","xMinValue","getMaxMin","_maxminObj","pluck","yMax","yMin","axisScrollFn","getId","setState","addExtEventListener","createContainer","getLinkedParent","getChildContainer","addChildContainer","applyTranslation","translation","pushAnimData","elem","transform","forEach","val","draw","getCanvasPadding","iapi","dim","returnDimension","paddingLeft","paddingRight","paddingTop","paddingBottom","hasOwnProperty","rtShiftAnim","m","n","x","y","translateString","xDiff","getPixel","yDiff","attrs","ComponentInterface","_default"],"mappings":"AAAA;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,8CAAD,CAAlC;;AAAmFC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,eAAe,GAACL,sBAAsB,CAACC,OAAO,CAAC,sCAAD,CAAR,CAA1C;;AAA4F,IAAIK,mBAAmB,GAACL,OAAO,CAAC,4CAAD,CAA/B;;AAA8E,IAAIM,IAAI,GAACN,OAAO,CAAC,4BAAD,CAAhB;;AAA+C,IAAIO,YAAY,GAAC,SAASA,YAAT,CAAsBC,QAAtB,EAA+BC,KAA/B,EAAqC;AAAC,MAAIC,GAAG,GAACF,QAAR;AAAiBE,EAAAA,GAAG,GAAC,UAAQA,GAAZ;AAAgBD,EAAAA,KAAK,KAAG,KAAKE,MAAL,CAAYD,GAAZ,IAAiBD,KAApB,CAAL;AAAgC,SAAM,CAACA,KAAK,IAAE,CAAC,KAAKE,MAAL,CAAYD,GAAZ,CAAT,KAA4B,IAA5B,IAAkC,KAAKC,MAAL,CAAYD,GAAZ,CAAxC;AAAyD,CAAjL;AAAA,IAAkLE,qBAAqB,GAAC,SAASA,qBAAT,CAA+BC,MAA/B,EAAsCC,MAAtC,EAA6C;AAAC,SAAM,CAAC,GAAD,EAAKD,MAAL,EAAY,GAAZ,EAAgBC,MAAhB,EAAwBC,IAAxB,CAA6B,EAA7B,CAAN;AAAuC,CAA7R;AAAA,IAA8RC,eAAe,GAAC,SAASA,eAAT,CAAyBC,IAAzB,EAA8B;AAAC,SAAM,CAACA,IAAI,CAACC,cAAL,EAAP;AAA6B,CAA1W;AAAA,IAA2WC,oBAAoB,GAAC,SAASA,oBAAT,CAA8BC,IAA9B,EAAmC;AAAC,SAAOR,qBAAqB,CAACI,eAAe,CAACI,IAAI,CAACC,CAAN,CAAhB,EAAyBL,eAAe,CAACI,IAAI,CAACE,CAAN,CAAxC,CAA5B;AAA8E,CAAlf;AAAA,IAAmfC,OAAO,GAAC,SAASA,OAAT,CAAiBF,CAAjB,EAAmBC,CAAnB,EAAqB;AAAC,SAAM;AAACD,IAAAA,CAAC,EAACA,CAAH;AAAKC,IAAAA,CAAC,EAACA;AAAP,GAAN;AAAgB,CAAjiB;AAAA,IAAkiBE,SAAS,GAAC,CAAC,0BAAD,EAA4B,oBAA5B,EAAiD,wBAAjD,EAA0E,kBAA1E,EAA6F,wBAA7F,EAAsH,kBAAtH,EAAyI,2BAAzI,EAAqK,qBAArK,EAA2L,gBAA3L,EAA4M,mBAA5M,CAA5iB;AAAA,IAA6wBC,WAAW,GAAC,SAASA,WAAT,CAAqBC,SAArB,EAA+BC,eAA/B,EAA+CC,OAA/C,EAAuD;AAAC,MAAIC,gBAAgB,GAACD,OAAO,CAACE,UAAR,CAAmB,kBAAnB,CAArB;AAA4D,SAAOD,gBAAgB,CAACE,YAAjB,CAA8B;AAACC,IAAAA,EAAE,EAAC,OAAJ;AAAYC,IAAAA,IAAI,EAAC;AAACC,MAAAA,IAAI,EAACR;AAAN,KAAjB;AAAkCS,IAAAA,SAAS,EAACR,eAA5C;AAA4DS,IAAAA,KAAK,EAAC,WAAlE;AAA8EC,IAAAA,SAAS,EAACT,OAAxF;AAAgGU,IAAAA,KAAK,EAAC;AAAtG,GAA9B,CAAP;AAAqJ,CAAliC;AAAA,IAAmiCC,KAAniC;AAAA,IAAyiCC,gBAAgB,GAAC,SAASA,gBAAT,CAA0BvB,IAA1B,EAA+B;AAAC,SAAM,CAAC,YAAYwB,IAAZ,CAAiBxB,IAAI,CAACyB,OAAL,EAAjB,CAAP;AAAwC,CAAloC;;AAAmoC,IAAIC,OAAO,GAAC,SAAZ;AAAA,IAAsBC,OAAO,GAAC,SAA9B;AAAA,IAAwCC,OAAO,GAAC,SAAhD;;AAA0D,IAAIC,aAAa,GAAC,UAASC,mBAAT,EAA6B;AAAC,GAAC,GAAE3C,eAAe,CAACD,OAAnB,EAA4B2C,aAA5B,EAA0CC,mBAA1C;;AAA+D,WAASD,aAAT,GAAwB;AAAC,WAAOC,mBAAmB,CAACC,KAApB,CAA0B,IAA1B,EAA+BC,SAA/B,KAA2C,IAAlD;AAAuD;;AAAA,MAAIC,MAAM,GAACJ,aAAa,CAACK,SAAzB;;AAAmCD,EAAAA,MAAM,CAACR,OAAP,GAAe,SAASA,OAAT,GAAkB;AAAC,WAAM,eAAN;AAAsB,GAAxD;;AAAyDQ,EAAAA,MAAM,CAACE,OAAP,GAAe,SAASA,OAAT,GAAkB;AAAC,WAAM,QAAN;AAAe,GAAjD;;AAAkDF,EAAAA,MAAM,CAACG,KAAP,GAAa,SAASA,KAAT,CAAeC,MAAf,EAAsB;AAAC,QAAIrC,IAAI,GAACV,YAAY,CAACgD,IAAb,CAAkB,IAAlB,EAAuB,OAAvB,EAA+BD,MAA/B,CAAT;AAAgDA,IAAAA,MAAM,IAAE,KAAKE,YAAL,CAAkBF,MAAlB,CAAR;AAAkCA,IAAAA,MAAM,IAAE,KAAKG,QAAL,CAAc,OAAd,EAAsBH,MAAtB,CAAR;AAAsC,WAAOrC,IAAP;AAAY,GAAxK;;AAAyKiC,EAAAA,MAAM,CAACQ,KAAP,GAAa,SAASA,KAAT,CAAeC,MAAf,EAAsB;AAAC,QAAI1C,IAAI,GAACV,YAAY,CAACgD,IAAb,CAAkB,IAAlB,EAAuB,OAAvB,EAA+BI,MAA/B,CAAT;AAAgDA,IAAAA,MAAM,IAAE,KAAKH,YAAL,CAAkBG,MAAlB,CAAR;AAAkCA,IAAAA,MAAM,IAAE,KAAKF,QAAL,CAAc,OAAd,EAAsBE,MAAtB,CAAR;AAAsC,WAAO1C,IAAP;AAAY,GAAxK;;AAAyKiC,EAAAA,MAAM,CAACU,KAAP,GAAa,SAASA,KAAT,CAAeC,MAAf,EAAsB;AAAC,WAAOtD,YAAY,CAACgD,IAAb,CAAkB,IAAlB,EAAuB,OAAvB,EAA+BM,MAA/B,CAAP;AAA8C,GAAlF;;AAAmFX,EAAAA,MAAM,CAACY,MAAP,GAAc,SAASA,MAAT,CAAgBC,OAAhB,EAAwB;AAAC,WAAOxD,YAAY,CAACgD,IAAb,CAAkB,IAAlB,EAAuB,QAAvB,EAAgCQ,OAAhC,CAAP;AAAgD,GAAvF;;AAAwFb,EAAAA,MAAM,CAACc,SAAP,GAAiB,SAASA,SAAT,CAAmBC,IAAnB,EAAwB;AAAC,QAAGA,IAAI,KAAG,KAAK,CAAf,EAAiB;AAACA,MAAAA,IAAI,GAAC,EAAL;AAAQ;;AAAA,QAAIrC,OAAO,GAAC,IAAZ;AAAA,QAAiBsC,WAAW,GAACtC,OAAO,CAACE,UAAR,CAAmB,aAAnB,CAA7B;AAAA,QAA+DnB,MAAM,GAACiB,OAAO,CAACjB,MAA9E;AAAqFwD,IAAAA,MAAM,CAACC,MAAP,CAAczD,MAAd,EAAqBsD,IAArB;AAA2BtD,IAAAA,MAAM,CAAC0D,aAAP,GAAqBH,WAAW,CAACG,aAAjC;;AAA+C,SAAKC,YAAL,CAAmB,UAASC,KAAT,EAAe;AAAC,UAAGA,KAAK,CAACC,QAAN,CAAe5B,OAAf,KAAyB2B,KAAK,CAACnB,OAAN,OAAkBP,OAA9C,EAAsD;AAAC;AAAO;;AAAA0B,MAAAA,KAAK,CAACP,SAAN,IAAiBO,KAAK,CAACP,SAAN,EAAjB;AAAmC,KAApI;AAAuI,GAA1W;;AAA2Wd,EAAAA,MAAM,CAACuB,yBAAP,GAAiC,SAASA,yBAAT,GAAoC;AAAC,QAAIC,OAAO,GAAC,IAAZ;AAAA,QAAiBrB,KAAK,GAACqB,OAAO,CAACrB,KAAR,EAAvB;AAAA,QAAuCK,KAAK,GAACgB,OAAO,CAAChB,KAAR,EAA7C;AAA6D,WAAOA,KAAK,CAAC/C,MAAN,CAAagE,UAAb,GAAwBpD,OAAO,CAAC8B,KAAD,EAAOK,KAAP,CAA/B,GAA6CnC,OAAO,CAACmC,KAAD,EAAOL,KAAP,CAA3D;AAAyE,GAA5M;;AAA6MH,EAAAA,MAAM,CAAC0B,OAAP,GAAe,SAASA,OAAT,GAAkB;AAAC,SAAKN,YAAL,CAAmB,UAASC,KAAT,EAAe;AAAC,UAAGA,KAAK,CAACC,QAAN,CAAe,SAAf,KAA2BD,KAAK,CAACnB,OAAN,OAAkB,SAAhD,EAA0D;AAAC;AAAO;;AAAAmB,MAAAA,KAAK,CAACM,aAAN,IAAqBN,KAAK,CAACM,aAAN,EAArB;AAA2C,KAAhJ;;AAAmJ,QAAIR,aAAa,GAAC,KAAK1D,MAAL,CAAY0D,aAA9B;AAAA,QAA4CS,KAA5C;AAAA,QAAkDC,KAAK,GAAC,KAAKjD,UAAL,CAAgB,OAAhB,CAAxD;AAAA,QAAiFkD,qBAAqB,GAAC,KAAKC,mBAAL,EAAvG;AAAA,QAAkIC,IAAI,GAACF,qBAAqB,CAACE,IAA7J;AAAA,QAAkKC,KAAK,GAACH,qBAAqB,CAACG,KAA9L;AAAA,QAAoMC,GAAG,GAACJ,qBAAqB,CAACI,GAA9N;AAAA,QAAkOC,MAAM,GAACL,qBAAqB,CAACK,MAA/P;;AAAsQP,IAAAA,KAAK,GAAC,KAAKQ,aAAL,CAAmB,CAACjB,aAApB,CAAN;;AAAyC,QAAGS,KAAK,CAACS,GAAN,KAAYC,QAAZ,IAAsBV,KAAK,CAACW,GAAN,KAAY,CAACD,QAAtC,EAA+C;AAAC,WAAKE,eAAL,CAAqBZ,KAAK,CAACS,GAA3B,EAA+BT,KAAK,CAACW,GAArC;;AAA0CV,MAAAA,KAAK,CAACY,iBAAN,IAAyBZ,KAAK,CAACY,iBAAN,CAAwBb,KAAK,CAACS,GAA9B,EAAkCT,KAAK,CAACW,GAAxC,CAAzB;AAAsE,KAAhK,MAAoK;AAAC,WAAKC,eAAL,CAAqBnD,KAArB,EAA2BA,KAA3B;;AAAkCwC,MAAAA,KAAK,CAACY,iBAAN,IAAyBZ,KAAK,CAACY,iBAAN,CAAwBpD,KAAxB,EAA8BA,KAA9B,CAAzB;AAA8D;;AAAA,SAAKqD,eAAL,CAAqBd,KAAK,CAACe,IAA3B,EAAgCf,KAAK,CAACgB,IAAtC;;AAA4C,SAAKC,oBAAL,CAA0Bb,IAA1B,EAA+BC,KAA/B,EAAqCC,GAArC,EAAyCC,MAAzC;AAAiD,GAAt0B;;AAAu0BnC,EAAAA,MAAM,CAAC8C,YAAP,GAAoB,SAASA,YAAT,CAAsBC,UAAtB,EAAiC;AAAC,QAAGA,UAAU,KAAG,KAAK,CAArB,EAAuB;AAACA,MAAAA,UAAU,GAAC,EAAX;AAAc;;AAAA,QAAIrE,OAAO,GAAC,IAAZ;AAAA,QAAiBjB,MAAM,GAACiB,OAAO,CAACjB,MAAhC;AAAA,QAAuC0D,aAAa,GAAC1D,MAAM,CAAC0D,aAA5D;AAAA,QAA0E6B,KAA1E;;AAAgF,QAAGD,UAAU,CAACE,gBAAX,KAA8B,KAAjC,EAAuC;AAACD,MAAAA,KAAK,GAACtE,OAAO,CAAC0D,aAAR,CAAsB,CAACjB,aAAvB,CAAN;;AAA4C,UAAGA,aAAa,KAAG6B,KAAK,CAACX,GAAN,KAAY5E,MAAM,CAACuF,KAAP,CAAaX,GAAzB,IAA8BW,KAAK,CAACT,GAAN,KAAY9E,MAAM,CAACuF,KAAP,CAAaT,GAA1D,CAAhB,EAA+E;AAAC9E,QAAAA,MAAM,CAACuF,KAAP,CAAaX,GAAb,GAAiBW,KAAK,CAACX,GAAvB;AAA2B5E,QAAAA,MAAM,CAACuF,KAAP,CAAaT,GAAb,GAAiBS,KAAK,CAACT,GAAvB;AAA2B,aAAK3D,UAAL,CAAgB,OAAhB,EAAyBsE,iBAAzB;AAA6CF,QAAAA,KAAK,CAACX,GAAN,KAAYC,QAAZ,IAAsBU,KAAK,CAACT,GAAN,KAAY,CAACD,QAAnC,GAA4C5D,OAAO,CAAC8D,eAAR,CAAwBQ,KAAK,CAACX,GAA9B,EAAkCW,KAAK,CAACT,GAAxC,CAA5C,GAAyF7D,OAAO,CAAC8D,eAAR,CAAwBnD,KAAxB,EAA8BA,KAA9B,CAAzF;AAA8H;;AAAA,UAAG2D,KAAK,CAACL,IAAN,KAAalF,MAAM,CAACuF,KAAP,CAAaL,IAA1B,IAAgCK,KAAK,CAACJ,IAAN,KAAanF,MAAM,CAACuF,KAAP,CAAaJ,IAA7D,EAAkE;AAACnF,QAAAA,MAAM,CAACuF,KAAP,CAAaL,IAAb,GAAkBK,KAAK,CAACL,IAAxB;AAA6BlF,QAAAA,MAAM,CAACuF,KAAP,CAAaJ,IAAb,GAAkBI,KAAK,CAACJ,IAAxB;AAA6B,aAAKhE,UAAL,CAAgB,OAAhB,EAAyBsE,iBAAzB;;AAA6CxE,QAAAA,OAAO,CAACgE,eAAR,CAAwBM,KAAK,CAACL,IAA9B,EAAmCK,KAAK,CAACJ,IAAzC;AAA+C;AAAC;;AAAAlE,IAAAA,OAAO,CAACyE,SAAR;AAAoB,GAA/xB;;AAAgyBnD,EAAAA,MAAM,CAAC6C,oBAAP,GAA4B,SAASA,oBAAT,CAA8Bb,IAA9B,EAAmCC,KAAnC,EAAyCC,GAAzC,EAA6CC,MAA7C,EAAoD;AAAC,SAAKvD,UAAL,CAAgB,OAAhB,EAAyBwE,cAAzB,CAAwCpB,IAAxC,EAA6CC,KAA7C;AAAoDC,IAAAA,GAAG,IAAEC,MAAL,IAAa,KAAKvD,UAAL,CAAgB,OAAhB,EAAyBwE,cAAzB,CAAwCpB,IAAxC,EAA6CC,KAA7C,CAAb;AAAiE,GAAtM;;AAAuMjC,EAAAA,MAAM,CAAC+B,mBAAP,GAA2B,SAASA,mBAAT,GAA8B;AAAC,QAAIsB,UAAU,GAAC,EAAf;AAAA,QAAkBC,eAAe,GAAC,CAAChB,QAAnC;AAAA,QAA4CiB,gBAAgB,GAAC,CAACjB,QAA9D;AAAA,QAAuEkB,cAAc,GAAC,CAAClB,QAAvF;AAAA,QAAgGmB,iBAAiB,GAAC,CAACnB,QAAnH;;AAA4H,SAAKlB,YAAL,CAAmB,UAASC,KAAT,EAAe;AAAC,UAAGA,KAAK,CAACC,QAAN,CAAe5B,OAAf,CAAH,EAA2B;AAAC;AAAO;;AAAA2D,MAAAA,UAAU,GAAChC,KAAK,CAACU,mBAAN,IAA2BV,KAAK,CAACU,mBAAN,EAA3B,IAAwD,EAAnE;AAAsEuB,MAAAA,eAAe,GAACI,IAAI,CAACnB,GAAL,CAASe,eAAT,EAAyBD,UAAU,CAACrB,IAAX,IAAiB,CAACM,QAA3C,CAAhB;AAAqEiB,MAAAA,gBAAgB,GAACG,IAAI,CAACnB,GAAL,CAASgB,gBAAT,EAA0BF,UAAU,CAACpB,KAAX,IAAkB,CAACK,QAA7C,CAAjB;AAAwEkB,MAAAA,cAAc,GAACE,IAAI,CAACnB,GAAL,CAASiB,cAAT,EAAwBH,UAAU,CAACnB,GAAX,IAAgB,CAACI,QAAzC,CAAf;AAAkEmB,MAAAA,iBAAiB,GAACC,IAAI,CAACnB,GAAL,CAASkB,iBAAT,EAA2BJ,UAAU,CAAClB,MAAX,IAAmB,CAACG,QAA/C,CAAlB;AAA2E,KAAta;;AAAya,QAAGgB,eAAe,KAAG,CAAChB,QAAtB,EAA+B;AAACgB,MAAAA,eAAe,GAAC,CAAhB;AAAkB;;AAAA,QAAGC,gBAAgB,KAAG,CAACjB,QAAvB,EAAgC;AAACiB,MAAAA,gBAAgB,GAAC,CAAjB;AAAmB;;AAAA,QAAGC,cAAc,KAAG,CAAClB,QAArB,EAA8B;AAACkB,MAAAA,cAAc,GAAC,CAAf;AAAiB;;AAAA,QAAGC,iBAAiB,KAAG,CAACnB,QAAxB,EAAiC;AAACmB,MAAAA,iBAAiB,GAAC,CAAlB;AAAoB;;AAAA,QAAG,CAAC,KAAKhG,MAAL,CAAYkG,OAAhB,EAAwB;AAAC,WAAKlG,MAAL,CAAYkG,OAAZ,GAAoB,EAApB;AAAuB,WAAKlG,MAAL,CAAYkG,OAAZ,CAAoB3B,IAApB,GAAyBsB,eAAzB;AAAyC,WAAK7F,MAAL,CAAYkG,OAAZ,CAAoB1B,KAApB,GAA0BsB,gBAA1B;AAA2C,WAAK9F,MAAL,CAAYkG,OAAZ,CAAoBzB,GAApB,GAAwBsB,cAAxB;AAAuC,WAAK/F,MAAL,CAAYkG,OAAZ,CAAoBxB,MAApB,GAA2BsB,iBAA3B;AAA6C;;AAAA,WAAM;AAACzB,MAAAA,IAAI,EAACsB,eAAN;AAAsBrB,MAAAA,KAAK,EAACsB,gBAA5B;AAA6CrB,MAAAA,GAAG,EAACsB,cAAjD;AAAgErB,MAAAA,MAAM,EAACsB;AAAvE,KAAN;AAAgG,GAAnmC;;AAAomCzD,EAAAA,MAAM,CAACwC,eAAP,GAAuB,SAASA,eAAT,CAAyBH,GAAzB,EAA6BE,GAA7B,EAAiC;AAAC,QAAI/B,KAAK,GAAC,KAAK5B,UAAL,CAAgB,OAAhB,CAAV;AAAmCU,IAAAA,gBAAgB,CAACkB,KAAD,CAAhB,IAAyBA,KAAK,CAACoD,YAAN,CAAmBrB,GAAnB,EAAuBF,GAAvB,CAAzB;AAAqD,GAAjJ;;AAAkJrC,EAAAA,MAAM,CAAC0C,eAAP,GAAuB,SAASA,eAAT,CAAyBC,IAAzB,EAA8BC,IAA9B,EAAmC;AAAC,QAAIzC,KAAK,GAAC,KAAKvB,UAAL,CAAgB,OAAhB,CAAV;;AAAmC,QAAGU,gBAAgB,CAACa,KAAD,CAAnB,EAA2B;AAACyC,MAAAA,IAAI,KAAG,CAACN,QAAR,IAAkBK,IAAI,KAAG,CAACL,QAA1B,GAAmCnC,KAAK,CAACyD,YAAN,CAAmBhB,IAAnB,EAAwBD,IAAxB,CAAnC,GAAiExC,KAAK,CAACyD,YAAN,CAAmBvE,KAAnB,EAAyBA,KAAzB,CAAjE;AAAiG;AAAC,GAA5N;;AAA6NW,EAAAA,MAAM,CAACoC,aAAP,GAAqB,SAASA,aAAT,CAAuByB,UAAvB,EAAkC;AAAC,QAAIrC,OAAO,GAAC,IAAZ;AAAA,QAAiBK,KAAK,GAACL,OAAO,CAAC5C,UAAR,CAAmB,OAAnB,CAAvB;AAAA,QAAmDkF,MAAM,GAAC,CAACxB,QAA3D;AAAA,QAAoEyB,MAAM,GAAC,CAACzB,QAA5E;AAAA,QAAqFC,GAAG,GAACuB,MAAzF;AAAA,QAAgGzB,GAAG,GAAC0B,MAApG;AAAA,QAA2GpB,IAAI,GAACoB,MAAhH;AAAA,QAAuHnB,IAAI,GAACkB,MAA5H;AAAA,QAAmIE,SAAnI;AAAA,QAA6IC,SAA7I;AAAA,QAAuJC,SAAvJ;AAAA,QAAiKC,SAAS,GAAC,SAASA,SAAT,CAAmBC,UAAnB,EAA8B;AAACH,MAAAA,SAAS,GAAC,CAAC,GAAE7G,IAAI,CAACiH,KAAR,EAAeD,UAAU,CAACxB,IAA1B,EAA+BkB,MAA/B,CAAV;AAAiDI,MAAAA,SAAS,GAAC,CAAC,GAAE9G,IAAI,CAACiH,KAAR,EAAeD,UAAU,CAACzB,IAA1B,EAA+BoB,MAA/B,CAAV;AAAiDxB,MAAAA,GAAG,GAACmB,IAAI,CAACnB,GAAL,CAASA,GAAT,EAAa6B,UAAU,CAAC7B,GAAxB,CAAJ;AAAiCF,MAAAA,GAAG,GAACqB,IAAI,CAACrB,GAAL,CAASA,GAAT,EAAa+B,UAAU,CAAC/B,GAAxB,CAAJ;AAAiCO,MAAAA,IAAI,GAACc,IAAI,CAACnB,GAAL,CAASK,IAAT,EAAcqB,SAAd,CAAL;AAA8BtB,MAAAA,IAAI,GAACe,IAAI,CAACrB,GAAL,CAASM,IAAT,EAAcuB,SAAd,CAAL;AAA8B,KAA1a;;AAA2a1C,IAAAA,OAAO,CAACJ,YAAR,CAAsB,UAASC,KAAT,EAAe;AAAC,UAAG,CAACA,KAAK,CAACe,aAAP,IAAsBf,KAAK,CAACC,QAAN,CAAe5B,OAAf,CAAtB,IAA+C,CAACmE,UAAD,IAAa,CAACxC,KAAK,CAACC,QAAN,CAAe7B,OAAf,CAAhE,EAAwF;AAAC;AAAO;;AAAAuE,MAAAA,SAAS,GAAC3C,KAAK,CAACe,aAAN,CAAoByB,UAApB,CAAV;AAA0CM,MAAAA,SAAS,CAACH,SAAD,CAAT;AAAqB,KAArM;;AAAwM,QAAG,CAAC,KAAKvG,MAAL,CAAYuF,KAAhB,EAAsB;AAAC,WAAKvF,MAAL,CAAYuF,KAAZ,GAAkB,EAAlB;AAAqB,WAAKvF,MAAL,CAAYuF,KAAZ,CAAkBX,GAAlB,GAAsBA,GAAtB;AAA0B,WAAK5E,MAAL,CAAYuF,KAAZ,CAAkBT,GAAlB,GAAsBA,GAAtB;AAA0B,WAAK9E,MAAL,CAAYuF,KAAZ,CAAkBL,IAAlB,GAAuBA,IAAvB;AAA4B,WAAKlF,MAAL,CAAYuF,KAAZ,CAAkBJ,IAAlB,GAAuBA,IAAvB;AAA4B;;AAAAf,IAAAA,KAAK,CAACpE,MAAN,CAAa6G,IAAb,GAAkB/B,GAAlB;AAAsBV,IAAAA,KAAK,CAACpE,MAAN,CAAa8G,IAAb,GAAkBlC,GAAlB;AAAsB,WAAM;AAACA,MAAAA,GAAG,EAACA,GAAL;AAASE,MAAAA,GAAG,EAACA,GAAb;AAAiBI,MAAAA,IAAI,EAACA,IAAtB;AAA2BC,MAAAA,IAAI,EAACA;AAAhC,KAAN;AAA4C,GAA35B;;AAA45B5C,EAAAA,MAAM,CAACM,YAAP,GAAoB,SAASA,YAAT,CAAsBvC,IAAtB,EAA2B;AAAC,QAAIyD,OAAO,GAAC,IAAZ;AAAA,QAAiBgD,YAAjB;;AAA8BA,IAAAA,YAAY,GAAC,SAASA,YAAT,GAAuB;AAAC,UAAGhD,OAAO,CAACF,QAAR,CAAiB,OAAjB,CAAH,EAA6B;AAACE,QAAAA,OAAO,CAAC2B,SAAR;AAAoB;AAAC,KAAxF;;AAAyF,QAAG,CAAC,KAAK7B,QAAL,CAAc,oBAAkBvD,IAAI,CAAC0G,KAAL,EAAhC,CAAJ,EAAkD;AAAC,WAAKC,QAAL,CAAc,oBAAkB3G,IAAI,CAAC0G,KAAL,EAAhC,EAA6C,IAA7C;AAAmDjD,MAAAA,OAAO,CAACmD,mBAAR,CAA4B,iBAA5B,EAA8CH,YAA9C,EAA2DzG,IAA3D;AAAiE;AAAC,GAA/U;;AAAgViC,EAAAA,MAAM,CAAC4E,eAAP,GAAuB,SAASA,eAAT,GAA0B;AAAC,QAAIpD,OAAO,GAAC,IAAZ;AAAA,QAAiBZ,MAAM,GAACY,OAAO,CAACqD,eAAR,EAAxB;AAAkD,KAACrD,OAAO,CAACsD,iBAAR,CAA0B,0BAA1B,CAAD,IAAwDtD,OAAO,CAACuD,iBAAR,CAA0B,0BAA1B,EAAqDxG,WAAW,CAAC,uBAAD,EAAyBqC,MAAM,CAACkE,iBAAP,CAAyB,mBAAzB,CAAzB,EAAuEtD,OAAvE,CAAhE,CAAxD;AAAyM,KAACA,OAAO,CAACsD,iBAAR,CAA0B,oBAA1B,CAAD,IAAkDtD,OAAO,CAACuD,iBAAR,CAA0B,oBAA1B,EAA+CxG,WAAW,CAAC,qBAAD,EAAuBqC,MAAM,CAACkE,iBAAP,CAAyB,aAAzB,CAAvB,EAA+DtD,OAA/D,CAA1D,CAAlD;AAAqL,KAACA,OAAO,CAACsD,iBAAR,CAA0B,wBAA1B,CAAD,IAAsDtD,OAAO,CAACuD,iBAAR,CAA0B,wBAA1B,EAAmDxG,WAAW,CAAC,qBAAD,EAAuBqC,MAAM,CAACkE,iBAAP,CAAyB,iBAAzB,CAAvB,EAAmEtD,OAAnE,CAA9D,CAAtD;AAAiM,KAACA,OAAO,CAACsD,iBAAR,CAA0B,kBAA1B,CAAD,IAAgDtD,OAAO,CAACuD,iBAAR,CAA0B,kBAA1B,EAA6CxG,WAAW,CAAC,mBAAD,EAAqBqC,MAAM,CAACkE,iBAAP,CAAyB,WAAzB,CAArB,EAA2DtD,OAA3D,CAAxD,CAAhD;AAA6K,KAACA,OAAO,CAACsD,iBAAR,CAA0B,wBAA1B,CAAD,IAAsDtD,OAAO,CAACuD,iBAAR,CAA0B,wBAA1B,EAAmDxG,WAAW,CAAC,qBAAD,EAAuBqC,MAAM,CAACkE,iBAAP,CAAyB,iBAAzB,CAAvB,EAAmEtD,OAAnE,CAA9D,CAAtD;AAAiM,KAACA,OAAO,CAACsD,iBAAR,CAA0B,kBAA1B,CAAD,IAAgDtD,OAAO,CAACuD,iBAAR,CAA0B,kBAA1B,EAA6CxG,WAAW,CAAC,mBAAD,EAAqBqC,MAAM,CAACkE,iBAAP,CAAyB,WAAzB,CAArB,EAA2DtD,OAA3D,CAAxD,CAAhD;AAA6K,KAACA,OAAO,CAACsD,iBAAR,CAA0B,2BAA1B,CAAD,IAAyDtD,OAAO,CAACuD,iBAAR,CAA0B,2BAA1B,EAAsDxG,WAAW,CAAC,wBAAD,EAA0BqC,MAAM,CAACkE,iBAAP,CAAyB,oBAAzB,CAA1B,EAAyEtD,OAAzE,CAAjE,CAAzD;AAA6M,KAACA,OAAO,CAACsD,iBAAR,CAA0B,qBAA1B,CAAD,IAAmDtD,OAAO,CAACuD,iBAAR,CAA0B,qBAA1B,EAAgDxG,WAAW,CAAC,sBAAD,EAAwBqC,MAAM,CAACkE,iBAAP,CAAyB,cAAzB,CAAxB,EAAiEtD,OAAjE,CAA3D,CAAnD;AAAyL,KAACA,OAAO,CAACsD,iBAAR,CAA0B,mBAA1B,CAAD,IAAiDtD,OAAO,CAACuD,iBAAR,CAA0B,mBAA1B,EAA8CxG,WAAW,CAAC,eAAD,EAAiBqC,MAAM,CAACkE,iBAAP,CAAyB,iBAAzB,CAAjB,EAA6DtD,OAA7D,CAAzD,CAAjD;AAAiL,KAACA,OAAO,CAACsD,iBAAR,CAA0B,kBAA1B,CAAD,IAAgDtD,OAAO,CAACuD,iBAAR,CAA0B,kBAA1B,EAA6CxG,WAAW,CAAC,kBAAD,EAAoBiD,OAAO,CAACsD,iBAAR,CAA0B,oBAA1B,CAApB,EAAoEtD,OAApE,CAAxD,CAAhD;AAAsL,KAACA,OAAO,CAACsD,iBAAR,CAA0B,gBAA1B,CAAD,IAA8CtD,OAAO,CAACuD,iBAAR,CAA0B,gBAA1B,EAA2CxG,WAAW,CAAC,wBAAD,EAA0BqC,MAAM,CAACkE,iBAAP,CAAyB,gBAAzB,CAA1B,EAAqEtD,OAArE,CAAtD,CAA9C;AAAmL,GAA9lE;;AAA+lExB,EAAAA,MAAM,CAACgF,gBAAP,GAAwB,SAASA,gBAAT,GAA2B;AAAC,QAAIxD,OAAO,GAAC,IAAZ;AAAA,QAAiBtD,IAAI,GAACsD,OAAO,CAACD,yBAAR,EAAtB;AAAA,QAA0D0D,WAAW,GAAChH,oBAAoB,CAACC,IAAD,CAA1F;AAAA,QAAiGgH,YAAY,GAAC,SAASA,YAAT,CAAsBC,IAAtB,EAA2B;AAAC,UAAIrG,EAAE,GAACqG,IAAP;AAAYrG,MAAAA,EAAE,GAAC0C,OAAO,CAACsD,iBAAR,CAA0BhG,EAA1B,CAAH;AAAiCA,MAAAA,EAAE,CAACC,IAAH,CAAQ;AAACqG,QAAAA,SAAS,EAACH;AAAX,OAAR;AAAiC,KAAxN;;AAAyNzD,IAAAA,OAAO,CAACoD,eAAR;AAA0BtG,IAAAA,SAAS,CAAC+G,OAAV,CAAmB,UAASC,GAAT,EAAa;AAACJ,MAAAA,YAAY,CAACI,GAAD,CAAZ;AAAkB,KAAnD;AAAsD,GAA7V;;AAA8VtF,EAAAA,MAAM,CAACuF,IAAP,GAAY,SAASA,IAAT,GAAe;AAAC,SAAKP,gBAAL;AAAwB,SAAKN,QAAL,CAAc,OAAd,EAAsB,IAAtB;AAA4B,GAAhF;;AAAiF1E,EAAAA,MAAM,CAACwF,gBAAP,GAAwB,SAASA,gBAAT,GAA2B;AAAC,QAAIC,IAAI,GAAC,IAAT;AAAA,QAAcC,GAAd;AAAA,QAAkBlI,GAAlB;AAAA,QAAsBmI,eAAe,GAAC;AAACC,MAAAA,WAAW,EAAC,CAAb;AAAeC,MAAAA,YAAY,EAAC,CAA5B;AAA8BC,MAAAA,UAAU,EAAC,CAAzC;AAA2CC,MAAAA,aAAa,EAAC;AAAzD,KAAtC;;AAAkGN,IAAAA,IAAI,CAACrE,YAAL,CAAmB,UAASC,KAAT,EAAe;AAAC,UAAG,CAACA,KAAK,CAACmE,gBAAP,IAAyBnE,KAAK,CAACC,QAAN,CAAe5B,OAAf,CAAzB,IAAkD,CAAC2B,KAAK,CAACC,QAAN,CAAe7B,OAAf,CAAtD,EAA8E;AAAC;AAAO;;AAAAiG,MAAAA,GAAG,GAACrE,KAAK,CAACmE,gBAAN,MAA0B,EAA9B;;AAAiC,WAAIhI,GAAJ,IAAWkI,GAAX,EAAe;AAAC,YAAGA,GAAG,CAACM,cAAJ,CAAmBxI,GAAnB,CAAH,EAA2B;AAACmI,UAAAA,eAAe,CAACnI,GAAD,CAAf,GAAqBkG,IAAI,CAACnB,GAAL,CAASmD,GAAG,CAAClI,GAAD,CAAZ,EAAkBmI,eAAe,CAACnI,GAAD,CAAjC,CAArB;AAA6D;AAAC;AAAC,KAArQ;;AAAwQ,WAAOmI,eAAP;AAAuB,GAArb;;AAAsb3F,EAAAA,MAAM,CAACiG,WAAP,GAAmB,SAASA,WAAT,CAAqBC,CAArB,EAAuBC,CAAvB,EAAyB;AAAC,QAAI3E,OAAO,GAAC,IAAZ;AAAA,QAAiB4E,CAAC,GAACF,CAAnB;AAAA,QAAqBG,CAAC,GAACF,CAAvB;AAAA,QAAyBG,eAAzB;AAAA,QAAyCnG,KAAK,GAACqB,OAAO,CAAC5C,UAAR,CAAmB,OAAnB,CAA/C;AAAA,QAA2E4B,KAAK,GAACgB,OAAO,CAAC5C,UAAR,CAAmB,OAAnB,CAAjF;AAAA,QAA6G2H,KAAK,GAACpG,KAAK,CAACqG,QAAN,CAAe,CAAf,IAAkBrG,KAAK,CAACqG,QAAN,CAAe,CAAf,CAArI;AAAA,QAAuJC,KAAK,GAACjG,KAAK,CAACgG,QAAN,CAAe,CAAf,IAAkBhG,KAAK,CAACgG,QAAN,CAAe,CAAf,CAA/K;AAAA,QAAiM7H,gBAAgB,GAAC6C,OAAO,CAAC5C,UAAR,CAAmB,kBAAnB,CAAlN;AAAyPwH,IAAAA,CAAC,GAAC,CAACA,CAAC,IAAE,CAAJ,IAAOG,KAAT;AAAeF,IAAAA,CAAC,GAAC,CAACA,CAAC,IAAE,CAAJ,IAAOI,KAAT;AAAeH,IAAAA,eAAe,GAAC5I,qBAAqB,CAAC0I,CAAD,EAAGC,CAAH,CAArC;AAA2C/H,IAAAA,SAAS,CAAC+G,OAAV,CAAmB,UAASC,GAAT,EAAa;AAAC9D,MAAAA,OAAO,CAACsD,iBAAR,CAA0BQ,GAA1B,EAA+BvG,IAA/B,CAAoC;AAACqG,QAAAA,SAAS,EAACkB;AAAX,OAApC;AAAiE3H,MAAAA,gBAAgB,CAACE,YAAjB,CAA8B;AAACC,QAAAA,EAAE,EAAC0C,OAAO,CAACsD,iBAAR,CAA0BQ,GAA1B,CAAJ;AAAmCoB,QAAAA,KAAK,EAAC;AAACtB,UAAAA,SAAS,EAAC;AAAX;AAAzC,OAA9B;AAA4F,KAA9L;AAAiM,GAAhjB;;AAAijB,SAAOxF,aAAP;AAAqB,CAAv2S,CAAw2SzC,mBAAmB,CAACwJ,kBAA53S,CAAlB;;AAAk6S,IAAIC,QAAQ,GAAChH,aAAb;AAA2B7C,OAAO,CAACE,OAAR,GAAgB2J,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _lib=require(\"@fusioncharts/core/src/lib\");var setterGetter=function setterGetter(keyLabel,value){var key=keyLabel;key=\"comp_\"+key;value&&(this.config[key]=value);return(value||!this.config[key])&&this||this.config[key]},_getTranslationString=function _getTranslationString(scaleX,scaleY){return[\"T\",scaleX,\",\",scaleY].join(\"\")},_getTranslation=function _getTranslation(axis){return-axis.getTranslation()},calculateTranslation=function calculateTranslation(axes){return _getTranslationString(_getTranslation(axes.h),_getTranslation(axes.v))},getHVOb=function getHVOb(h,v){return{h:h,v:v}},groupsArr=[\"columnShadowVcanvasGroup\",\"columnVcanvasGroup\",\"areaShadowVcanvasGroup\",\"areaVcanvasGroup\",\"lineShadowVcanvasGroup\",\"lineVcanvasGroup\",\"defaultShadowVcanvasGroup\",\"defaultVcanvasGroup\",\"sumLabelsLayer\",\"vcanvasLabelGroup\"],createGroup=function createGroup(groupName,parentContainer,vCanvas){var animationManager=vCanvas.getFromEnv(\"animationManager\");return animationManager.setAnimation({el:\"group\",attr:{name:groupName},container:parentContainer,state:\"appearing\",component:vCanvas,label:\"group\"})},UNDEF,limitToBeUpdated=function limitToBeUpdated(axis){return!/category/i.test(axis.getName())};var VISIBLE=\"visible\",REMOVED=\"removed\",DATASET=\"dataset\";var VirtualCanvas=function(_ComponentInterface){(0,_inheritsLoose2.default)(VirtualCanvas,_ComponentInterface);function VirtualCanvas(){return _ComponentInterface.apply(this,arguments)||this}var _proto=VirtualCanvas.prototype;_proto.getName=function getName(){return\"virtualCanvas\"};_proto.getType=function getType(){return\"canvas\"};_proto.xAxis=function xAxis(_xAxis){var axis=setterGetter.call(this,\"xAxis\",_xAxis);_xAxis&&this.listenToAxis(_xAxis);_xAxis&&this.addToEnv(\"xAxis\",_xAxis);return axis};_proto.yAxis=function yAxis(_yAxis){var axis=setterGetter.call(this,\"yAxis\",_yAxis);_yAxis&&this.listenToAxis(_yAxis);_yAxis&&this.addToEnv(\"yAxis\",_yAxis);return axis};_proto.paper=function paper(_paper){return setterGetter.call(this,\"paper\",_paper)};_proto.canvas=function canvas(_canvas){return setterGetter.call(this,\"canvas\",_canvas)};_proto.configure=function configure(conf){if(conf===void 0){conf={}}var vCanvas=this,chartConfig=vCanvas.getFromEnv(\"chartConfig\"),config=vCanvas.config;Object.assign(config,conf);config.transposeAxis=chartConfig.transposeAxis;this._mapChildren((function(child){if(child.getState(REMOVED)||child.getType()===DATASET){return}child.configure&&child.configure()}))};_proto.getHorizontalVerticalAxes=function getHorizontalVerticalAxes(){var vcanvas=this,xAxis=vcanvas.xAxis(),yAxis=vcanvas.yAxis();return yAxis.config.isVertical?getHVOb(xAxis,yAxis):getHVOb(yAxis,xAxis)};_proto.preDraw=function preDraw(){this._mapChildren((function(child){if(child.getState(\"removed\")||child.getType()===\"dataset\"){return}child.setVisibility&&child.setVisibility()}));var transposeAxis=this.config.transposeAxis,limit,chart=this.getFromEnv(\"chart\"),_this$getAxisValuePad=this.getAxisValuePadding(),left=_this$getAxisValuePad.left,right=_this$getAxisValuePad.right,top=_this$getAxisValuePad.top,bottom=_this$getAxisValuePad.bottom;limit=this.getDataLimits(!transposeAxis);if(limit.min!==Infinity||limit.max!==-Infinity){this._setYAxisLimits(limit.min,limit.max);chart._storeIntialLimit&&chart._storeIntialLimit(limit.min,limit.max)}else{this._setYAxisLimits(UNDEF,UNDEF);chart._storeIntialLimit&&chart._storeIntialLimit(UNDEF,UNDEF)}this._setXAxisLimits(limit.xMin,limit.xMax);this._setAxisValuePadding(left,right,top,bottom)};_proto.childChanged=function childChanged(updateInfo){if(updateInfo===void 0){updateInfo={}}var vCanvas=this,config=vCanvas.config,transposeAxis=config.transposeAxis,range;if(updateInfo.dataLimitChanged!==false){range=vCanvas.getDataLimits(!transposeAxis);if(transposeAxis&&(range.min!==config.range.min||range.max!==config.range.max)){config.range.min=range.min;config.range.max=range.max;this.getFromEnv(\"yAxis\").resetStoredLimits();range.min!==Infinity||range.max!==-Infinity?vCanvas._setYAxisLimits(range.min,range.max):vCanvas._setYAxisLimits(UNDEF,UNDEF)}if(range.xMin!==config.range.xMin||range.xMax!==config.range.xMax){config.range.xMin=range.xMin;config.range.xMax=range.xMax;this.getFromEnv(\"xAxis\").resetStoredLimits();vCanvas._setXAxisLimits(range.xMin,range.xMax)}}vCanvas.asyncDraw()};_proto._setAxisValuePadding=function _setAxisValuePadding(left,right,top,bottom){this.getFromEnv(\"xAxis\").setAxisPadding(left,right);top&&bottom&&this.getFromEnv(\"yAxis\").setAxisPadding(left,right)};_proto.getAxisValuePadding=function getAxisValuePadding(){var paddingObj={},axisPaddingLeft=-Infinity,axisPaddingRight=-Infinity,axisPaddingTop=-Infinity,axisPaddingBottom=-Infinity;this._mapChildren((function(child){if(child.getState(REMOVED)){return}paddingObj=child.getAxisValuePadding&&child.getAxisValuePadding()||{};axisPaddingLeft=Math.max(axisPaddingLeft,paddingObj.left||-Infinity);axisPaddingRight=Math.max(axisPaddingRight,paddingObj.right||-Infinity);axisPaddingTop=Math.max(axisPaddingTop,paddingObj.top||-Infinity);axisPaddingBottom=Math.max(axisPaddingBottom,paddingObj.bottom||-Infinity)}));if(axisPaddingLeft===-Infinity){axisPaddingLeft=0}if(axisPaddingRight===-Infinity){axisPaddingRight=0}if(axisPaddingTop===-Infinity){axisPaddingTop=0}if(axisPaddingBottom===-Infinity){axisPaddingBottom=0}if(!this.config.padding){this.config.padding={};this.config.padding.left=axisPaddingLeft;this.config.padding.right=axisPaddingRight;this.config.padding.top=axisPaddingTop;this.config.padding.bottom=axisPaddingBottom}return{left:axisPaddingLeft,right:axisPaddingRight,top:axisPaddingTop,bottom:axisPaddingBottom}};_proto._setYAxisLimits=function _setYAxisLimits(min,max){var yAxis=this.getFromEnv(\"yAxis\");limitToBeUpdated(yAxis)&&yAxis.setDataLimit(max,min)};_proto._setXAxisLimits=function _setXAxisLimits(xMin,xMax){var xAxis=this.getFromEnv(\"xAxis\");if(limitToBeUpdated(xAxis)){xMax!==-Infinity||xMin!==+Infinity?xAxis.setDataLimit(xMax,xMin):xAxis.setDataLimit(UNDEF,UNDEF)}};_proto.getDataLimits=function getDataLimits(allVisible){var vcanvas=this,chart=vcanvas.getFromEnv(\"chart\"),infMin=-Infinity,infMax=+Infinity,max=infMin,min=infMax,xMin=infMax,xMax=infMin,maxminObj,xMaxValue,xMinValue,getMaxMin=function getMaxMin(_maxminObj){xMaxValue=(0,_lib.pluck)(_maxminObj.xMax,infMin);xMinValue=(0,_lib.pluck)(_maxminObj.xMin,infMax);max=Math.max(max,_maxminObj.max);min=Math.min(min,_maxminObj.min);xMax=Math.max(xMax,xMaxValue);xMin=Math.min(xMin,xMinValue)};vcanvas._mapChildren((function(child){if(!child.getDataLimits||child.getState(REMOVED)||!allVisible&&!child.getState(VISIBLE)){return}maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)}));if(!this.config.range){this.config.range={};this.config.range.min=min;this.config.range.max=max;this.config.range.xMin=xMin;this.config.range.xMax=xMax}chart.config.yMax=max;chart.config.yMin=min;return{min:min,max:max,xMin:xMin,xMax:xMax}};_proto.listenToAxis=function listenToAxis(axis){var vcanvas=this,axisScrollFn;axisScrollFn=function axisScrollFn(){if(vcanvas.getState(\"drawn\")){vcanvas.asyncDraw()}};if(!this.getState(\"visiblerangeset\"+axis.getId())){this.setState(\"visiblerangeset\"+axis.getId(),true);vcanvas.addExtEventListener(\"visiblerangeset\",axisScrollFn,axis)}};_proto.createContainer=function createContainer(){var vcanvas=this,canvas=vcanvas.getLinkedParent();!vcanvas.getChildContainer(\"columnShadowVcanvasGroup\")&&vcanvas.addChildContainer(\"columnShadowVcanvasGroup\",createGroup(\"vcanvas-column-shadow\",canvas.getChildContainer(\"columnShadowGroup\"),vcanvas));!vcanvas.getChildContainer(\"columnVcanvasGroup\")&&vcanvas.addChildContainer(\"columnVcanvasGroup\",createGroup(\"vcanvas-column-plot\",canvas.getChildContainer(\"columnGroup\"),vcanvas));!vcanvas.getChildContainer(\"areaShadowVcanvasGroup\")&&vcanvas.addChildContainer(\"areaShadowVcanvasGroup\",createGroup(\"vcanvas-area-shadow\",canvas.getChildContainer(\"areaShadowGroup\"),vcanvas));!vcanvas.getChildContainer(\"areaVcanvasGroup\")&&vcanvas.addChildContainer(\"areaVcanvasGroup\",createGroup(\"vcanvas-area-plot\",canvas.getChildContainer(\"areaGroup\"),vcanvas));!vcanvas.getChildContainer(\"lineShadowVcanvasGroup\")&&vcanvas.addChildContainer(\"lineShadowVcanvasGroup\",createGroup(\"vcanvas-line-shadow\",canvas.getChildContainer(\"lineShadowGroup\"),vcanvas));!vcanvas.getChildContainer(\"lineVcanvasGroup\")&&vcanvas.addChildContainer(\"lineVcanvasGroup\",createGroup(\"vcanvas-line-plot\",canvas.getChildContainer(\"lineGroup\"),vcanvas));!vcanvas.getChildContainer(\"defaultShadowVcanvasGroup\")&&vcanvas.addChildContainer(\"defaultShadowVcanvasGroup\",createGroup(\"vcanvas-default-shadow\",canvas.getChildContainer(\"defaultShadowGroup\"),vcanvas));!vcanvas.getChildContainer(\"defaultVcanvasGroup\")&&vcanvas.addChildContainer(\"defaultVcanvasGroup\",createGroup(\"vcanvas-default-plot\",canvas.getChildContainer(\"defaultGroup\"),vcanvas));!vcanvas.getChildContainer(\"vcanvasLabelGroup\")&&vcanvas.addChildContainer(\"vcanvasLabelGroup\",createGroup(\"vcanvas-label\",canvas.getChildContainer(\"datalabelsGroup\"),vcanvas));!vcanvas.getChildContainer(\"columnTrendGroup\")&&vcanvas.addChildContainer(\"columnTrendGroup\",createGroup(\"columnTrendGroup\",vcanvas.getChildContainer(\"columnVcanvasGroup\"),vcanvas));!vcanvas.getChildContainer(\"sumLabelsLayer\")&&vcanvas.addChildContainer(\"sumLabelsLayer\",createGroup(\"vcanvas-sumLabelsLayer\",canvas.getChildContainer(\"sumLabelsLayer\"),vcanvas))};_proto.applyTranslation=function applyTranslation(){var vcanvas=this,axes=vcanvas.getHorizontalVerticalAxes(),translation=calculateTranslation(axes),pushAnimData=function pushAnimData(elem){var el=elem;el=vcanvas.getChildContainer(el);el.attr({transform:translation})};vcanvas.createContainer();groupsArr.forEach((function(val){pushAnimData(val)}))};_proto.draw=function draw(){this.applyTranslation();this.setState(\"drawn\",true)};_proto.getCanvasPadding=function getCanvasPadding(){var iapi=this,dim,key,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};iapi._mapChildren((function(child){if(!child.getCanvasPadding||child.getState(REMOVED)||!child.getState(VISIBLE)){return}dim=child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=Math.max(dim[key],returnDimension[key])}}}));return returnDimension};_proto.rtShiftAnim=function rtShiftAnim(m,n){var vcanvas=this,x=m,y=n,translateString,xAxis=vcanvas.getFromEnv(\"xAxis\"),yAxis=vcanvas.getFromEnv(\"yAxis\"),xDiff=xAxis.getPixel(1)-xAxis.getPixel(0),yDiff=yAxis.getPixel(1)-yAxis.getPixel(0),animationManager=vcanvas.getFromEnv(\"animationManager\");x=(x||0)*xDiff;y=(y||0)*yDiff;translateString=_getTranslationString(x,y);groupsArr.forEach((function(val){vcanvas.getChildContainer(val).attr({transform:translateString});animationManager.setAnimation({el:vcanvas.getChildContainer(val),attrs:{transform:\"T0,0\"}})}))};return VirtualCanvas}(_componentInterface.ComponentInterface);var _default=VirtualCanvas;exports.default=_default;"]},"metadata":{},"sourceType":"script"}