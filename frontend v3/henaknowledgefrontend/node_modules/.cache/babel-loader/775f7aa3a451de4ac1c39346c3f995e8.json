{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _legendItem = _interopRequireDefault(require(\"./legend-item\"));\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _toolbox = require(\"@fusioncharts/core/src/toolbox\");\n\nvar _index = _interopRequireDefault(require(\"./index.animation\"));\n\nvar _schedular = require(\"@fusioncharts/core/src/schedular\");\n\nvar _faber = require(\"@fusioncharts/core/src/_internal/vendors/faberjs/src/faber\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar UNDEF,\n    TEXT_ANCHOR_MAP = {\n  left: _lib.POSITION_START,\n  right: _lib.POSITION_END,\n  center: _lib.POSITION_MIDDLE\n},\n    math = Math,\n    mathMin = math.min,\n    mathMax = math.max,\n    mathFloor = math.floor,\n    mathCeil = math.ceil,\n    INHERIT_STR = \"inherit\",\n    COMMA = \",\",\n    NONE = \"none\",\n    COLOR_WHITE = \"#ffffff\",\n    PXSTRING = \"px\",\n    ZERO_STR = \"0,\",\n    NORMAL = _lib.preDefStr.NORMAL,\n    BOLD = _lib.preDefStr.BOLD,\n    noneStr = _lib.preDefStr.noneStr,\n    styleValueMap = {\n  fontWeight: {\n    1: BOLD,\n    0: NORMAL\n  },\n  fontStyle: {\n    1: \"italic\",\n    0: NORMAL\n  },\n  textDecoration: {\n    1: \"underline\",\n    0: noneStr\n  }\n},\n    handlers = function handlers(legend) {\n  var dragInitX, dragInitY;\n  return {\n    dragstart: function dragstart() {\n      dragInitX = legend.config.xL || legend.config.xPos;\n      dragInitY = legend.config.yL || legend.config.yPos;\n    },\n    dragmove: function dragmove(e) {\n      var dx = e.originalEvent.data[0],\n          dy = e.originalEvent.data[1],\n          config = legend.config,\n          chartConfig = legend.getFromEnv(\"chartConfig\"),\n          translationLimit = (config.borderWidth || 0 * .5) + 2,\n          dragOffsetX,\n          dragOffsetY;\n      dragOffsetX = mathMin(mathMax(dragInitX + dx, translationLimit), chartConfig.width - config.width - translationLimit);\n      dragOffsetY = mathMin(mathMax(dragInitY + dy, translationLimit), chartConfig.height - config.height - translationLimit);\n      config.xPos = config.xL = dragOffsetX;\n      config.yPos = config.yL = dragOffsetY;\n      legend.addJob(\"draw\", legend.dragDraw, _schedular.priorityList && _schedular.priorityList.draw);\n    }\n  };\n};\n\n(0, _dependencyManager.addDep)({\n  name: \"legendAnimation\",\n  type: \"animationRule\",\n  extension: _index.default\n});\n\nvar emptyArrayCreator = function emptyArrayCreator(n) {\n  return Array(n).fill();\n};\n\nvar Legend = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(Legend, _ComponentInterface);\n\n  function Legend() {\n    var _this;\n\n    _this = _ComponentInterface.call(this) || this;\n    var legend = (0, _assertThisInitialized2.default)(_this);\n    legend._stateCosmetics = {};\n    legend._legendState = [];\n\n    legend.dragDraw = function () {\n      legend.draw();\n    };\n\n    legend.drawScroll = function () {\n      legend.createItemGroup();\n      legend.createCaptionGroup();\n    };\n\n    legend.config.handlers = handlers(legend);\n    return _this;\n  }\n\n  var _proto = Legend.prototype;\n\n  _proto.createItem = function createItem(owner) {\n    var legend = this,\n        legendItem;\n    legendItem = new _legendItem.default();\n    legend.attachChild(legendItem, \"legendItem\");\n    legendItem.setLinkedItem(\"owner\", owner);\n    legendItem.addEventListener(\"mouseover\", function () {\n      legendItem.setLegendState(\"hover\", true);\n    });\n    legendItem.addEventListener(\"mouseout\", function () {\n      legendItem.removeLegendState(\"hover\");\n    });\n    return legendItem.getId();\n  };\n\n  _proto.getItem = function getItem(id) {\n    var legend = this,\n        items = legend.getChildren().legendItem;\n\n    if (id !== UNDEF) {\n      if (items) {\n        for (var i = 0; i < items.length; i++) {\n          if (items[i].getId() === id) {\n            return items[i];\n          }\n        }\n      }\n    } else {\n      return false;\n    }\n  };\n\n  _proto.getSortedLegendItems = function getSortedLegendItems() {\n    var legend = this,\n        items = legend.getChildren(\"legendItem\") || [],\n        reverselegend = legend.config.reverselegend,\n        map = {},\n        sortedItems = [],\n        i,\n        len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n      if (items[i].config.index === UNDEF) {\n        map[len + i] = items[i];\n      } else {\n        map[items[i].config.index] = items[i];\n      }\n    }\n\n    Object.keys(map).sort(function (index1, index2) {\n      if (reverselegend) {\n        return index2 - index1;\n      }\n\n      return index1 - index2;\n    }).forEach(function (index) {\n      sortedItems.push(map[index]);\n    });\n    return sortedItems;\n  };\n\n  _proto.disposeItem = function disposeItem(id) {\n    var legend = this,\n        legendItem = legend.getItem(id);\n    legendItem && legendItem.remove();\n  };\n\n  _proto.getName = function getName() {\n    return \"legend\";\n  };\n\n  _proto.getType = function getType() {\n    return \"legend\";\n  };\n\n  _proto.__setDefaultConfig = function __setDefaultConfig() {\n    _ComponentInterface.prototype.__setDefaultConfig.call(this);\n\n    var config = this.config;\n    config.enabled = true;\n    config.symbolWidth = 12;\n    config.borderRadius = 1;\n    config.lastScrollPos = 0;\n    config.oriSymbolPadding = 3;\n    config.textPadding = 4;\n    config.scrollY = 0;\n    config.scrollX = 0;\n    config.backgroundColor = COLOR_WHITE;\n    config.initialItemX = 0;\n    config.title = {\n      text: _lib.BLANKSTRING,\n      x: 0,\n      y: 0,\n      padding: 2\n    };\n    config.scroll = {};\n    config.horizontalScroll = {};\n    config.itemStyle = {};\n  };\n\n  _proto.createLegendGroup = function createLegendGroup() {\n    var legend = this,\n        config = legend.config,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        animationManager = legend.getFromEnv(\"animationManager\"),\n        translationLimit = (config.borderWidth || 0) * .5 + 2,\n        legendGroup,\n        legendGroupCheck = legend.getContainer(\"legendGroup\");\n    config.xL && (config.xL = mathMin(mathMax(config.xL, translationLimit), chartConfig.width - config.width - translationLimit));\n    config.yL && (config.yL = mathMin(mathMax(config.yL, translationLimit), chartConfig.height - config.height - translationLimit));\n    legendGroup = animationManager.setAnimation({\n      el: legendGroupCheck || \"group\",\n      attr: {\n        name: \"legendGroup\",\n        transform: [\"T\", config.xL || config.xPos, config.yL || config.yPos]\n      },\n      container: chart.getChildContainer(\"legendGroup\"),\n      component: legend\n    });\n\n    if (!legendGroupCheck) {\n      legend.addContainer(\"legendGroup\", legendGroup);\n    }\n  };\n\n  _proto.drawDualScrollRect = function drawDualScrollRect() {\n    var rect = this.getGraphicalElement(\"dualScrollRect\"),\n        scrollbarContainer = this.getGraphicalElement(\"scrollbarContainer\"),\n        animationManager = this.getFromEnv(\"animationManager\");\n\n    if (this.config.scroll.enabled && this.config.horizontalScroll.enabled) {\n      rect = animationManager.setAnimation({\n        el: rect || \"rect\",\n        attr: {\n          x: this.config.width - 12,\n          y: this.config.height - 12,\n          height: 12,\n          width: 12,\n          fill: this.config.legendScrollBgColor,\n          stroke: \"none\"\n        },\n        component: this,\n        container: scrollbarContainer\n      });\n      rect = this.addGraphicalElement(\"dualScrollRect\", rect);\n    } else if (rect) {\n      rect.remove();\n    }\n  };\n\n  _proto.draw = function draw() {\n    this.createLegendGroup();\n    this.drawLegendBox();\n    this.createItemGroup();\n    this.createCaptionGroup();\n    this.drawCaption();\n    this.createScrollGroup();\n    this.decideScroll();\n    this.drawDualScrollRect();\n  };\n\n  _proto.decideScroll = function decideScroll() {\n    var legend = this,\n        legendConf = legend.config,\n        scrollEnabled = legendConf.scroll.enabled,\n        horizontalScrollEnabled = legendConf.horizontalScroll.enabled;\n\n    if (scrollEnabled) {\n      this.createScrollBar();\n    } else if (legendConf.hasScroll) {\n      legend.getChildren(\"legendScrollBar\")[0].remove();\n      legendConf.hasScroll = false;\n    }\n\n    if (horizontalScrollEnabled) {\n      this.createScrollBar(horizontalScrollEnabled);\n    } else if (legendConf.hasHorizontalScroll) {\n      legend.getChildren(\"legendHorizontalScrollBar\")[0].remove();\n      legendConf.hasHorizontalScroll = false;\n    }\n  };\n\n  _proto.createCaptionGroup = function createCaptionGroup() {\n    var captionGroupCheck = this.getChildContainer(\"captionGroup\"),\n        animationManager = this.getFromEnv(\"animationManager\"),\n        legendGroup = this.getContainer(\"legendGroup\"),\n        captionGroup,\n        padding = (0, _lib.pluckNumber)(this.config.padding, 4),\n        halfPad = padding * .5,\n        clipSTR1 = ZERO_STR,\n        clipH = mathMax(this.config.height - padding, 0),\n        clipV = mathMax(this.config.width - padding, 0),\n        clipSTR2 = COMMA + (this.config.horizontalScroll.enabled ? clipV : this.config.width) + COMMA + (this.config.scroll.enabled ? clipH : this.config.height);\n\n    if (this.config.horizontalScroll.enabled) {\n      captionGroup = this.addChildContainer(\"captionGroup\", animationManager.setAnimation({\n        el: captionGroupCheck && captionGroupCheck[0] !== null ? captionGroupCheck : \"group\",\n        attr: {\n          name: \"captionGroup\",\n          transform: [\"T\", 0, this.config.scrollY || 0]\n        },\n        container: legendGroup,\n        component: this\n      }));\n\n      if (this.config.scroll.enabled) {\n        captionGroup.attr({\n          \"clip-rect\": clipSTR1 + halfPad + clipSTR2\n        });\n      } else {\n        captionGroup.attr({\n          \"clip-rect\": null\n        });\n      }\n    } else if (captionGroupCheck) {\n      captionGroupCheck.remove();\n    }\n  };\n\n  _proto.createItemGroup = function createItemGroup() {\n    var legend = this,\n        animationManager = legend.getFromEnv(\"animationManager\"),\n        legendGroup = legend.getContainer(\"legendGroup\"),\n        itemGroup,\n        itemGroupCheck = legend.getChildContainer(\"itemGroup\"),\n        padding = (0, _lib.pluckNumber)(legend.config.padding, 4),\n        halfPad = padding * .5,\n        clipSTR1 = ZERO_STR,\n        clipH = mathMax(legend.config.height - padding, 0),\n        clipV = mathMax(legend.config.width - padding, 0),\n        clipSTR2 = COMMA + (legend.config.horizontalScroll.enabled ? clipV : legend.config.width) + COMMA + (legend.config.scroll.enabled ? clipH : legend.config.height);\n    itemGroup = animationManager.setAnimation({\n      el: itemGroupCheck || \"group\",\n      attr: {\n        name: \"item\",\n        transform: [\"T\", legend.config.scrollX || 0, legend.config.scrollY || 0]\n      },\n      container: legendGroup,\n      component: legend\n    });\n\n    if (!itemGroupCheck) {\n      legend.addChildContainer(\"itemGroup\", itemGroup);\n    }\n\n    if (legend.config.scroll.enabled || legend.config.horizontalScroll.enabled) {\n      itemGroup.attr({\n        \"clip-rect\": clipSTR1 + halfPad + clipSTR2\n      });\n    } else {\n      itemGroup.attr({\n        \"clip-rect\": null\n      });\n    }\n\n    return itemGroup;\n  };\n\n  _proto.createScrollGroup = function createScrollGroup() {\n    var legend = this,\n        animationManager = legend.getFromEnv(\"animationManager\"),\n        scrollGroupCheck = legend.getChildContainer(\"scrollGroup\"),\n        legendGroup = legend.getContainer(\"legendGroup\");\n\n    if ((legend.config.scroll.enabled || legend.config.horizontalScroll.enabled) && !legend.getGraphicalElement(\"scrollbarContainer\")) {\n      legend.addGraphicalElement(\"scrollbarContainer\", animationManager.setAnimation({\n        el: scrollGroupCheck || \"group\",\n        attr: {\n          name: \"scrollGroup\"\n        },\n        container: legendGroup,\n        component: legend,\n        label: \"scrollbar\"\n      }));\n    }\n  };\n\n  _proto.createScrollBar = function createScrollBar(isHorizontal) {\n    if (isHorizontal === void 0) {\n      isHorizontal = false;\n    }\n\n    var legend = this,\n        config = legend.config,\n        scrollItem,\n        chartAttr = legend.getFromEnv(\"chart-attrib\"),\n        childName = isHorizontal ? \"legendHorizontalScrollBar\" : \"legendScrollBar\",\n        legendScrollBar = legend.getChildren(childName) && legend.getChildren(childName)[0],\n        borderWidth = config.borderWidth || 0,\n        semiBorder = borderWidth * .5,\n        padding = (0, _lib.pluckNumber)(config.padding, 4),\n        scrollConfig,\n        clipH,\n        clipV,\n        width = config.width,\n        height = config.height,\n        x,\n        y,\n        h,\n        w;\n    scrollItem = {\n      conf: {\n        isHorizontal: isHorizontal\n      },\n      handler: {\n        scroll: function scroll(pos) {\n          config.lastScrollPos = pos;\n\n          if (isHorizontal) {\n            config.scrollX = (clipV - config.totalWidth) * pos;\n          } else {\n            config.scrollY = (clipH - config.totalHeight) * pos;\n          }\n\n          legend.addJob(\"scrollDraw\", legend.drawScroll, _schedular.priorityList && _schedular.priorityList.draw);\n        },\n        mousedown: function mousedown(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n    };\n\n    if (chartAttr.legendscrollbgcolor) {\n      scrollItem.conf.color = (0, _lib.convertColor)(chartAttr.legendscrollbgcolor);\n    }\n\n    if (!legendScrollBar) {\n      legendScrollBar = legend.attachChild(new _toolbox.ScrollBar(), childName);\n\n      if (isHorizontal) {\n        this.config.hasHorizontalScroll = true;\n      } else {\n        this.config.hasScroll = true;\n      }\n    }\n\n    legendScrollBar.configure(scrollItem.conf);\n    legendScrollBar.attachEventHandlers(scrollItem.handler);\n    scrollConfig = legendScrollBar.config;\n\n    if (isHorizontal) {\n      x = semiBorder;\n      y = height - legendScrollBar.getLogicalSpace().height - borderWidth + padding * .5;\n      w = width - borderWidth;\n\n      if (this.config.scroll.enabled && this.config.horizontalScroll.enabled) {\n        w -= 12;\n      }\n\n      w = mathMax(w, 0);\n      clipV = mathMax(width - padding, 0);\n      scrollConfig.scrollRatio = (clipV + padding) / config.totalWidth;\n    } else {\n      clipH = mathMax(height - padding, 0);\n      x = width - legendScrollBar.getLogicalSpace().width - borderWidth + padding * .5;\n      y = semiBorder;\n      h = height - borderWidth;\n\n      if (this.config.scroll.enabled && this.config.horizontalScroll.enabled) {\n        h -= 12;\n      }\n\n      h = mathMax(h, 0);\n      scrollConfig.scrollRatio = (clipH + padding) / config.totalHeight;\n    }\n\n    scrollConfig.startPercent = 0;\n    scrollConfig.scrollPosition = config.lastScrollPos;\n    scrollConfig.parentLayer = legend.getChildContainer(\"scrollGroup\");\n    legendScrollBar.setDimension({\n      x: x,\n      y: y,\n      height: h,\n      width: w\n    });\n  };\n\n  _proto.drawCaption = function drawCaption() {\n    var legend = this,\n        caption = legend.getGraphicalElement(\"caption\"),\n        itemGroup = legend.config.horizontalScroll.enabled ? legend.getChildContainer(\"captionGroup\") : legend.getChildContainer(\"itemGroup\"),\n        animationManager = this.getFromEnv(\"animationManager\"),\n        config = this.config,\n        attrObj,\n        titleStyle,\n        captionX,\n        padding = (0, _lib.pluckNumber)(config.padding, 4),\n        captionCss,\n        scrollEnabled = config.scroll.enabled,\n        scrollbarWidth = 10,\n        width = config.width;\n\n    if (config.title && config.title.text !== _lib.BLANKSTRING && config.validLegendItem) {\n      switch (config.title.align) {\n        case _lib.POSITION_START:\n          captionX = padding;\n          break;\n\n        case _lib.POSITION_END:\n          captionX = width - padding - (scrollEnabled ? scrollbarWidth : 0);\n          break;\n\n        default:\n          captionX = width * .5;\n      }\n\n      titleStyle = config.title.style;\n      attrObj = {\n        text: config.title.text,\n        title: config.title.originalText || _lib.BLANKSTRING,\n        x: captionX,\n        y: padding,\n        fill: config.title.style.color,\n        direction: config.textDirection,\n        \"line-height\": titleStyle.lineHeight,\n        \"vertical-align\": _lib.POSITION_TOP,\n        \"text-anchor\": config.title.align,\n        opacity: 1\n      };\n      captionCss = {\n        \"font-weight\": titleStyle.fontWeight,\n        \"font-style\": titleStyle.fontStyle,\n        \"font-family\": titleStyle.fontFamily,\n        \"font-size\": titleStyle.fontSize\n      };\n      caption && caption.show();\n\n      if (!caption || !caption[0]) {\n        caption = animationManager.setAnimation({\n          el: \"text\",\n          attr: attrObj,\n          component: legend,\n          container: itemGroup,\n          css: captionCss\n        });\n        caption = this.addGraphicalElement(\"caption\", caption);\n      } else {\n        animationManager.setAnimation({\n          el: caption,\n          attr: attrObj,\n          component: legend,\n          container: itemGroup,\n          css: captionCss\n        });\n      }\n\n      legend.getFromEnv(\"toolTipController\").enableToolTip(caption, config.title.originalText);\n    } else {\n      if (caption) {\n        animationManager.setAnimation({\n          el: caption,\n          component: legend,\n          doNotRemove: true,\n          callback: function callback() {\n            caption.hide();\n          }\n        });\n      }\n    }\n  };\n\n  _proto.drawLegendBox = function drawLegendBox() {\n    var legend = this,\n        animationManager = this.getFromEnv(\"animationManager\"),\n        config = legend.config,\n        box,\n        legendGroup = legend.getContainer(\"legendGroup\"),\n        width = config.width,\n        boxCheck = legend.getGraphicalElement(\"box\"),\n        height = config.height,\n        r = config.borderRadius,\n        backgroundColor = config.backgroundColor,\n        borderColor = config.borderColor,\n        borderAlpha = config.borderAlpha,\n        backgroundAlpha = config.backgroundAlpha,\n        borderWidth = config.borderWidth || 0;\n    box = animationManager.setAnimation({\n      el: boxCheck || \"rect\",\n      attr: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height,\n        r: r,\n        stroke: borderColor,\n        \"stroke-width\": borderWidth,\n        fill: backgroundColor || NONE,\n        \"stroke-opacity\": borderAlpha / 100,\n        \"fill-opacity\": backgroundAlpha / 100,\n        cursor: config.legendAllowDrag ? \"move\" : \"default\"\n      },\n      container: legendGroup,\n      component: legend,\n      label: \"legendGroup\"\n    });\n\n    if (!boxCheck) {\n      legend.addGraphicalElement(\"box\", box);\n      box.shadow(config.shadow);\n    }\n\n    return box;\n  };\n\n  _proto._calculateTopPosition = function _calculateTopPosition(y) {\n    var legend = this,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        yPos = y,\n        caption = chart.getChildren(\"caption\") && chart.getChildren(\"caption\")[0],\n        subCaption = chart.getChildren(\"subCaption\") && chart.getChildren(\"subCaption\")[0],\n        toolbar = chart.getChildren(\"chartMenuBar\") && chart.getChildren(\"chartMenuBar\")[0],\n        oriCanvasTop = chartConfig.oriTopSpace;\n\n    if (!chartConfig.toolbarY && toolbar && toolbar.props && toolbar.props.height) {\n      if (!(oriCanvasTop > toolbar.props.height + toolbar.props.y)) {\n        yPos = toolbar.props.y + toolbar.props.height;\n      }\n    }\n\n    if (caption && caption.config && caption.config.text && caption.config.text !== _lib.BLANKSTRING && caption.config.height && caption.config.isOnTop === 1) {\n      yPos = caption.config.height + caption.config.y + caption.config.captionPadding;\n    }\n\n    if (subCaption && subCaption.config && subCaption.config.height && subCaption.config.isOnTop === 1) {\n      yPos = subCaption.config.y + subCaption.config.height + (caption && caption.config && caption.config.captionPadding || 0);\n    }\n\n    return mathMax(yPos, y);\n  };\n\n  _proto.getPosition = function getPosition() {\n    var legend = this,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        xPos,\n        yPos,\n        xLim,\n        yLim,\n        config = legend.config,\n        canvas = chart.getChildren(\"canvas\"),\n        canvasBottom = canvas && canvas.length > 1 ? chartConfig.height - canvas[0].config.canvasBottom : chartConfig.height - chartConfig.canvasBottom,\n        canvasLeft = chartConfig.canvasLeft,\n        canvasRight = chartConfig.canvasRight,\n        canvasWidth = chartConfig.canvasWidth,\n        marginLeft = config.chartMarginLeft || 0,\n        marginRight = config.chartMarginRight || 0,\n        marginTop = config.chartMarginTop || 0,\n        marginBottom = config.chartMarginBottom || 0,\n        actionBarHeight = chartConfig.actionBarHeight || 0,\n        canvasMarginLeft = config.actualCanvasMarginLeft || 0,\n        canvasMarginTop = chartConfig.actualCanvasMarginTop || 0,\n        canvasMarginBottom = chartConfig.actualCanvasMarginBottom || 0,\n        canvasMarginRight = chartConfig.actualCanvasMarginRight || 0,\n        alignLegendWithCanvas = config.alignLegendWithCanvas,\n        chartHeight = chartConfig.height,\n        canvasTop = chartConfig.canvasTop,\n        width = config.width || 0,\n        height = config.height || 0,\n        chartBorderWidth = chartConfig.borderWidth,\n        oriCanvasLeft = chartConfig.oriCanvasLeft,\n        oriCanvasRight = chartConfig.oriCanvasRight,\n        oriCanvasTop = chartConfig.oriTopSpace,\n        oriCanvasBottom = chartConfig.oriBottomSpace,\n        topSpace = 0,\n        bottomSpace = 0,\n        xLeft,\n        xRight,\n        spaceLeftByChart,\n        spaceRightLeft,\n        borderWidth = config.borderWidth || 0,\n        isVertical,\n        legendPos = config.legendPos ? config.legendPos.split(\"-\") : [],\n        caption = chart.getChildren(\"caption\") && chart.getChildren(\"caption\")[0],\n        subCaption = chart.getChildren(\"subCaption\") && chart.getChildren(\"subCaption\")[0],\n        remSpace;\n\n    if (legendPos[0] === _lib.POSITION_LEFT || legendPos[0] === _lib.POSITION_RIGHT) {\n      config.align = legendPos[0];\n      config.verticalAlign = _lib.POSITION_MIDDLE;\n      isVertical = config.layout = \"vertical\";\n    }\n\n    if (legendPos[0] === _lib.POSITION_ABSOLUTE) {\n      xPos = config.legendXPosition;\n      yPos = config.legendYPosition;\n      xLim = chartConfig.width - width - chartBorderWidth;\n      yLim = chartConfig.height - height - chartBorderWidth;\n\n      if (xPos > xLim) {\n        xPos = xLim;\n      }\n\n      if (yPos > yLim) {\n        yPos = yLim;\n      }\n    } else if (isVertical) {\n      if (legendPos[0] === _lib.POSITION_LEFT) {\n        xPos = marginLeft + canvasMarginLeft + chartBorderWidth;\n      } else if (legendPos[0] === _lib.POSITION_RIGHT) {\n        xPos = chartConfig.width - marginRight - canvasMarginRight - width - chartBorderWidth;\n      }\n\n      topSpace = (0, _lib.pluckNumber)(oriCanvasTop, canvasTop);\n      bottomSpace = (0, _lib.pluckNumber)(oriCanvasBottom, canvasBottom);\n\n      if (legendPos[1] === _lib.POSITION_TOP) {\n        yPos = topSpace + (config.y || 0);\n        yPos = this._calculateTopPosition(yPos);\n      } else if (legendPos[1] === _lib.POSITION_BOTTOM) {\n        yPos = chartHeight - bottomSpace - height + (config.y || 0);\n        remSpace = bottomSpace - (chartBorderWidth + marginBottom + actionBarHeight + (caption && caption.config.isOnTop === 0 && caption.config.height ? caption.config.height + caption.config.captionPadding : 0) + (subCaption && caption.config.isOnTop === 0 ? subCaption.config.height : 0));\n\n        if (remSpace < 0) {\n          yPos += remSpace;\n        }\n      } else {\n        yPos = topSpace + (chartHeight - bottomSpace - topSpace - height) * .5 + (config.y || 0);\n      }\n    } else {\n      spaceLeftByChart = chartConfig.width - (marginLeft + canvasMarginLeft + (marginRight + canvasMarginRight));\n      spaceRightLeft = alignLegendWithCanvas ? canvasWidth - width : spaceLeftByChart - width;\n      xLeft = alignLegendWithCanvas ? (0, _lib.pluckNumber)(oriCanvasLeft, canvasLeft) : marginLeft + canvasMarginLeft;\n      xRight = alignLegendWithCanvas ? chartConfig.width - (0, _lib.pluckNumber)(oriCanvasRight, canvasRight) : marginRight + canvasMarginRight;\n\n      if (legendPos[1] === _lib.POSITION_LEFT) {\n        xPos = xLeft;\n      } else if (legendPos[1] === _lib.POSITION_RIGHT) {\n        xPos = chartConfig.width - (width + xRight);\n      } else {\n        xPos = xLeft + spaceRightLeft / 2;\n      }\n\n      if (legendPos[0] === _lib.POSITION_TOP) {\n        yPos = marginTop + canvasMarginTop;\n        yPos = this._calculateTopPosition(yPos);\n      } else {\n        yPos = chartHeight - height - canvasMarginBottom - marginBottom - actionBarHeight;\n      }\n    }\n\n    return (0, _lib.crispBound)(xPos, yPos, width, height, borderWidth);\n  };\n\n  _proto.setTranslation = function setTranslation(x, y) {\n    var legend = this,\n        config = legend.config;\n    config._translateX = x;\n    config._translateY = y;\n    config.translate = \"t\" + x + \",\" + y;\n  };\n\n  _proto.allocatePosition = function allocatePosition() {\n    var legend = this,\n        legendConfig = legend.config,\n        dim;\n\n    if (legendConfig.translate) {\n      dim = (0, _lib.crispBound)(legendConfig._translateX, legendConfig._translateY, legendConfig.width, legendConfig.height, legendConfig.borderWidth);\n    } else {\n      dim = legend.getPosition();\n    }\n\n    legendConfig.xPos = dim.x;\n    legendConfig.yPos = dim.y;\n    legendConfig.width = dim.width;\n    legendConfig.height = dim.height;\n  };\n\n  _proto._manageLegendPosition = function _manageLegendPosition(allottedSpace) {\n    var legend = this,\n        config = legend.config,\n        legendPosition = config.legendPos ? config.legendPos.split(\"-\") : [],\n        spaceTakenByLegend,\n        dim = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    config.padding = 4;\n    config.textPadding = 4;\n\n    if (legendPosition[0] === _lib.POSITION_ABSOLUTE) {\n      spaceTakenByLegend = legend._placeLegendBlockBottom(allottedSpace, .6);\n    } else if (legendPosition[0] === _lib.POSITION_LEFT || legendPosition[0] === _lib.POSITION_RIGHT) {\n      spaceTakenByLegend = legend._placeLegendBlockRight(allottedSpace);\n    } else {\n      spaceTakenByLegend = legend._placeLegendBlockBottom(allottedSpace);\n    }\n\n    if (legendPosition[0] === _lib.POSITION_LEFT) {\n      dim.left = spaceTakenByLegend && spaceTakenByLegend.right || 0;\n    } else if (legendPosition[0] === _lib.POSITION_RIGHT) {\n      dim.right = spaceTakenByLegend && spaceTakenByLegend.right || 0;\n    } else if (legendPosition[0] === _lib.POSITION_TOP) {\n      dim.top = spaceTakenByLegend && spaceTakenByLegend.bottom || 0;\n    } else if (legendPosition[0] !== _lib.POSITION_ABSOLUTE) {\n      dim.bottom = spaceTakenByLegend && spaceTakenByLegend.bottom || 0;\n      dim.right = spaceTakenByLegend && spaceTakenByLegend.right || 0;\n    }\n\n    return dim;\n  };\n\n  _proto.setDimension = function setDimension(dim) {\n    var legend = this,\n        config = this.config,\n        itemArr = legend.getSortedLegendItems(),\n        len = itemArr.length,\n        availableWidth = dim.width,\n        availableHeight = dim.height,\n        allowedMaxHeight = availableHeight,\n        itemConfig,\n        userConfig,\n        name,\n        item,\n        maxWidth = 0,\n        totalWidth = 0,\n        totalNumber = 0,\n        averageWidth = 0,\n        perItemWidth = 0,\n        maxHeight = 0,\n        legendCaptionHeight = 0,\n        tempTableStructure = [],\n        padding = config.padding,\n        textPadding = config.textPadding,\n        SmartLabel = legend.getFromEnv(\"smartLabel\"),\n        itemStyle = legend.getStateCosmetics(\"default\"),\n        legendFontSize = this.computeFontSize(config.legendFontSizeWithUnit),\n        legendLineHeight = parseInt((0, _lib.setLineHeight)({\n      fontSize: legendFontSize + PXSTRING\n    }), 10),\n        itemFontSize = parseInt(itemStyle.text[\"font-size\"], 10) || 10,\n        nonItemWidth,\n        rowHeight,\n        usedHeight,\n        textWidth,\n        legendCaption = config.title,\n        captionPadding = legendCaption.padding,\n        captionWidth = 0,\n        minimiseWrappingInLegend = config.minimiseWrappingInLegend,\n        legendPadding = config.legendPadding,\n        legendScale = config.legendScale,\n        alignLegendWithCanvas = config.alignLegendWithCanvas,\n        legendnumcolumns = config.numColumns,\n        legendnumrows = config.numRows,\n        symbolPadding = config.oriSymbolPadding,\n        legendHeight,\n        symbolWidthSpace,\n        dimensions,\n        i,\n        k,\n        itemWidth,\n        itemHeight = Number.MAX_SAFE_INTEGER,\n        parent,\n        children,\n        childLegends,\n        legendSpace,\n        numRows,\n        validLegendItem,\n        smartText,\n        scroll,\n        horizontalScroll,\n        originalAvailableWidth = availableWidth,\n        nonTextElemWidth,\n        hasLegendCaption = false,\n        hasUserGivenLegendNumRows = !!legendnumrows,\n        shiftRows,\n        shiftColumns,\n        insertionState = 0;\n    dimensions = {\n      width: 2 * padding,\n      height: 2 * padding\n    };\n    legend.setStateCosmetics(\"default\", {\n      text: {\n        fill: itemStyle.text.fill,\n        \"font-family\": itemStyle.text[\"font-family\"],\n        cursor: itemStyle.text.cursor,\n        \"font-size\": legendFontSize,\n        \"line-height\": legendLineHeight,\n        \"vertical-align\": _lib.POSITION_TOP,\n        \"text-anchor\": _lib.POSITION_START,\n        direction: itemStyle.text.direction,\n        \"font-weight\": itemStyle.text[\"font-weight\"]\n      },\n      symbol: {\n        bgColor: itemStyle.symbol.bgColor,\n        cursor: itemStyle.symbol.cursor,\n        borderColor: itemStyle.symbol.borderColor,\n        bgAlpha: itemStyle.symbol.bgAlpha,\n        borderAlpha: itemStyle.symbol.borderAlpha,\n        borderThickness: itemStyle.symbol.borderThickness,\n        startAngle: itemStyle.symbol.startAngle,\n        sides: itemStyle.symbol.sides\n      }\n    });\n    symbolWidthSpace = itemFontSize + 1;\n\n    if (symbolWidthSpace <= 0) {\n      symbolWidthSpace = 1;\n    }\n\n    availableWidth = Math.max(availableWidth - 2 * padding, 0);\n    symbolWidthSpace *= legendScale;\n    symbolPadding *= legendScale;\n    symbolWidthSpace = mathMin(symbolWidthSpace, availableWidth);\n\n    if (symbolWidthSpace <= 0) {\n      symbolPadding = symbolWidthSpace = 0;\n    }\n\n    config.symbolWidth = symbolWidthSpace;\n    config.textPadding = 4;\n    config.legendHeight = legendHeight = symbolWidthSpace + 2 * symbolPadding;\n    config.rowHeight = rowHeight = mathMax(parseInt(itemStyle.text[\"line-height\"], 10) || 12, legendHeight);\n    nonItemWidth = textPadding + symbolPadding + padding;\n    SmartLabel.setStyle((0, _lib.extend2)({}, itemStyle.text));\n    usedHeight = legendPadding + config.borderWidth / 2 + 1;\n    usedHeight = mathMax(mathMin(usedHeight, availableHeight - legendLineHeight - 8), 0);\n    legendPadding = rowHeight * .05;\n    config.initialItemY = 0;\n    config.initialItemX = 0;\n    nonTextElemWidth = legendHeight + legendPadding + textPadding + symbolPadding + 2 * padding;\n\n    for (i = 0; i < len; i += 1) {\n      item = itemArr[i];\n      itemConfig = item.config || (item.config = {});\n      userConfig = itemConfig;\n      name = itemConfig.name = (0, _lib.parseUnsafeString)(userConfig.label);\n\n      if (name === _lib.BLANKSTRING || userConfig.enabled === 0 || userConfig.enabled === false || item.getState(\"removed\")) {\n        itemConfig.enabled = 0;\n        continue;\n      } else {\n        itemConfig.enabled = 1;\n      }\n\n      totalNumber += 1;\n      validLegendItem = true;\n      smartText = SmartLabel.getOriSize(name);\n      maxWidth = mathMax(maxWidth, mathMin(smartText.width, availableWidth - nonTextElemWidth));\n      maxHeight = mathMax(maxHeight, mathMin(smartText.height, allowedMaxHeight));\n      itemConfig._selfTotalWidth = smartText.width + nonTextElemWidth;\n      totalWidth += smartText.width;\n    }\n\n    config.validLegendItem = validLegendItem;\n    averageWidth = totalWidth / totalNumber;\n    totalWidth += nonTextElemWidth * totalNumber;\n    config.x = !alignLegendWithCanvas && totalWidth > originalAvailableWidth ? 0 : config.x;\n\n    if (validLegendItem) {\n      averageWidth += nonTextElemWidth;\n      maxWidth += nonTextElemWidth;\n\n      if (legendCaption.oriText !== _lib.BLANKSTRING) {\n        hasLegendCaption = true;\n        SmartLabel.setStyle(legendCaption.style);\n        smartText = SmartLabel.getSmartText(legendCaption.oriText, availableWidth - 2 * padding);\n        legendCaption.text = smartText.text;\n        smartText.tooltext && (legendCaption.originalText = smartText.tooltext);\n        captionWidth = smartText.width + 2 * padding;\n        legendCaptionHeight = smartText.height + captionPadding;\n      }\n\n      itemWidth = maxWidth;\n\n      if (!legendnumrows) {\n        if (totalWidth <= availableWidth) {\n          legendnumcolumns = !legendnumcolumns ? totalNumber : legendnumcolumns;\n          legendnumrows = mathCeil(totalNumber / legendnumcolumns);\n          itemWidth = legendnumrows === 1 ? totalWidth / totalNumber : maxWidth;\n        } else if (!legendnumcolumns && availableWidth > maxWidth && (minimiseWrappingInLegend || averageWidth * 1.5 > maxWidth)) {\n          legendnumcolumns = mathFloor(availableWidth / maxWidth);\n\n          if (totalNumber < legendnumcolumns) {\n            legendnumcolumns = totalNumber;\n          }\n\n          itemWidth = maxWidth;\n        } else if (legendnumcolumns && availableWidth / legendnumcolumns > averageWidth) {\n          itemWidth = availableWidth / legendnumcolumns;\n\n          if (itemWidth > maxWidth) {\n            itemWidth = maxWidth;\n          }\n        } else if (!legendnumcolumns && availableWidth >= 2 * averageWidth) {\n          legendnumcolumns = mathFloor(availableWidth / averageWidth);\n\n          if (totalNumber < legendnumcolumns) {\n            legendnumcolumns = totalNumber;\n          }\n\n          itemWidth = mathFloor(availableWidth / legendnumcolumns);\n\n          if (itemWidth > maxWidth) {\n            itemWidth = maxWidth;\n          }\n        } else if (!legendnumcolumns) {\n          legendnumcolumns = 1;\n          itemWidth = availableWidth;\n        }\n      } else if (!legendnumcolumns && legendnumrows) {\n        insertionState = 1;\n\n        if (totalNumber < legendnumrows) {\n          legendnumrows = totalNumber;\n        }\n\n        legendnumcolumns = mathCeil(totalNumber / legendnumrows);\n      } else if (mathCeil(totalNumber / legendnumcolumns) < legendnumrows && mathCeil(totalNumber / legendnumrows) < legendnumcolumns || totalNumber > legendnumcolumns * legendnumrows) {\n        legendnumrows = mathCeil(totalNumber / legendnumcolumns);\n      } else if (legendnumcolumns === mathCeil(totalNumber / legendnumrows)) {\n        insertionState = 1;\n      }\n\n      perItemWidth = hasUserGivenLegendNumRows ? maxWidth : itemWidth;\n\n      if (!hasUserGivenLegendNumRows && averageWidth * 1.5 < maxWidth) {\n        itemWidth = averageWidth;\n      }\n\n      if (legendnumrows && !minimiseWrappingInLegend) {\n        var newNumRows,\n            newNumCols,\n            newItemWidth = perItemWidth;\n\n        if (maxWidth > averageWidth * 1.5) {\n          newItemWidth = averageWidth;\n        }\n\n        newNumCols = mathMin(totalNumber, mathFloor(availableWidth / newItemWidth));\n        newNumRows = mathCeil(totalNumber / newNumCols);\n\n        if (!(config.numRows && newNumRows !== legendnumrows || config.numColumns && newNumCols !== legendnumcolumns) && !(legendnumrows === 1 && newNumRows !== 1)) {\n          perItemWidth = newItemWidth;\n          legendnumcolumns = newNumCols;\n          legendnumrows = newNumRows;\n        }\n      }\n\n      SmartLabel.setStyle((0, _lib.extend2)({}, itemStyle.text));\n\n      for (i = 0; i < len; i++) {\n        itemConfig = itemArr[i].config;\n\n        if (legendnumrows === 1) {\n          perItemWidth = maxWidth > averageWidth * 2.5 ? averageWidth : itemConfig._selfTotalWidth;\n        }\n\n        textWidth = Math.ceil(perItemWidth - nonTextElemWidth);\n\n        if (textWidth === 0) {\n          itemConfig.name = _lib.BLANKSTRING;\n          itemConfig._totalWidth = symbolWidthSpace + symbolPadding;\n          itemConfig._selfTotalWidth = itemConfig._totalWidth;\n          itemConfig._selfTotalHeight = rowHeight;\n        } else {\n          smartText = SmartLabel.getSmartText(itemConfig.name, textWidth < itemConfig._selfTotalWidth - nonTextElemWidth ? textWidth + textPadding : UNDEF);\n          itemConfig.name = smartText.text;\n          itemConfig._textHeight = smartText.height;\n          smartText.tooltext && (itemConfig.originalText = smartText.tooltext);\n          itemConfig._selfTotalHeight = smartText.height + textPadding > rowHeight ? textPadding + smartText.height : rowHeight;\n          itemConfig._totalWidth = symbolWidthSpace + nonItemWidth + smartText.width;\n          itemConfig._selfTotalWidth = nonTextElemWidth + smartText.width;\n          itemConfig._legendTestY = rowHeight > smartText.height ? (rowHeight - smartText.height) / 2 : 0;\n          maxHeight = mathMax(maxHeight, itemConfig._textHeight);\n          itemHeight = mathMax(1, mathMin(itemHeight, itemConfig._textHeight));\n        }\n      }\n\n      parent = {\n        style: {\n          display: \"grid\",\n          justifyItems: \"center\",\n          alignItems: \"start\"\n        }\n      };\n      children = [];\n\n      if (hasLegendCaption) {\n        children.push({\n          style: {\n            width: captionWidth,\n            height: legendCaptionHeight,\n            gridRowStart: 1,\n            gridRowEnd: 2,\n            gridColumnStart: 1,\n            gridColumnEnd: 2\n          }\n        });\n      }\n\n      children.push({\n        style: {\n          display: \"grid\",\n          justifyItems: \"start\",\n          alignItems: \"start\",\n          width: mathMin(totalWidth, availableWidth, perItemWidth * legendnumcolumns),\n          paddingEnd: padding,\n          paddingTop: padding,\n          gridRowStart: children.length + 1,\n          gridRowEnd: children.length + 2,\n          gridColumnStart: 1,\n          gridColumnEnd: 2\n        }\n      });\n      childLegends = [];\n\n      if (hasUserGivenLegendNumRows || legendnumrows === 1) {\n        for (k = 0, i = 1; k < len; k++) {\n          item = itemArr[k];\n          itemConfig = item.config;\n\n          if (itemConfig.enabled === 1) {\n            if (insertionState === 0) {\n              shiftRows = mathCeil(i / legendnumcolumns);\n              shiftColumns = i % legendnumcolumns === 0 ? legendnumcolumns : i % legendnumcolumns;\n            } else {\n              shiftRows = i % legendnumrows === 0 ? legendnumrows : i % legendnumrows;\n              shiftColumns = mathCeil(i / legendnumrows);\n            }\n\n            childLegends.push({\n              style: {\n                width: legendnumrows === 1 ? itemConfig._selfTotalWidth : shiftColumns === legendnumcolumns ? itemConfig._selfTotalWidth : perItemWidth,\n                height: itemConfig._selfTotalHeight,\n                gridRowStart: shiftRows,\n                gridRowEnd: shiftRows + 1,\n                gridColumnStart: shiftColumns,\n                gridColumnEnd: shiftColumns + 1\n              }\n            });\n            i += 1;\n          }\n        }\n      } else {\n        legendnumrows = 0;\n        itemHeight = mathMax(itemHeight, rowHeight);\n\n        for (k = 0; k < len; k++) {\n          item = itemArr[k];\n          itemConfig = item.config;\n\n          if (itemConfig.enabled === 1) {\n            legendnumrows += Math.ceil(itemConfig._selfTotalHeight / itemHeight);\n          }\n        }\n\n        legendnumrows === 0 && (legendnumrows = Math.max(1, Math.ceil(totalNumber / legendnumcolumns)));\n        tempTableStructure = emptyArrayCreator(legendnumrows).map(function () {\n          return emptyArrayCreator(legendnumcolumns);\n        });\n        var m = 0,\n            n = 0,\n            endRow;\n\n        for (k = 0, i = 1; k < len; k++) {\n          item = itemArr[k];\n          itemConfig = item.config;\n\n          if (itemConfig.enabled === 1) {\n            while (m < legendnumrows) {\n              while (n < legendnumcolumns) {\n                if (tempTableStructure[m][n] === UNDEF) {\n                  shiftColumns = n + 1;\n                  shiftRows = m + 1;\n                  endRow = legendnumcolumns === 1 ? 1 : +(itemConfig._selfTotalHeight / itemHeight).toFixed(0);\n                  tempTableStructure[m][n] = true;\n\n                  for (var p = m; p < m + endRow; p++) {\n                    tempTableStructure[p][n] = true;\n                  }\n                }\n\n                n++;\n\n                if (tempTableStructure[m][n - 1]) {\n                  break;\n                }\n              }\n\n              if (n >= legendnumcolumns) {\n                n = 0;\n                m++;\n              }\n\n              if (endRow) {\n                break;\n              }\n            }\n\n            childLegends.push({\n              style: {\n                width: shiftColumns === legendnumcolumns ? itemConfig._selfTotalWidth : itemWidth,\n                height: itemConfig._selfTotalHeight,\n                gridRowStart: shiftRows,\n                gridRowEnd: shiftRows + endRow,\n                gridColumnStart: shiftColumns,\n                gridColumnEnd: shiftColumns + 1\n              }\n            });\n            i += 1;\n            endRow = UNDEF;\n          }\n        }\n\n        legendnumrows = 0;\n\n        for (i = legendnumrows; i < tempTableStructure.length; i++) {\n          for (k = 0; k < legendnumcolumns; k++) {\n            if (tempTableStructure[i][k]) {\n              legendnumrows++;\n              break;\n            }\n          }\n        }\n\n        if (legendnumcolumns > 1) {\n          children[children.length - 1].style.gridTemplateRows = (itemHeight + \" \").repeat(legendnumrows).slice(0, -1);\n        }\n      }\n\n      children[children.length - 1].children = childLegends;\n      legendSpace = (0, _faber.computeLayout)(_objectSpread(_objectSpread({}, parent), {}, {\n        children: children\n      }));\n      config.itemWidth = perItemWidth;\n      textWidth = mathCeil(perItemWidth - nonTextElemWidth);\n\n      if (textWidth < 0) {\n        symbolPadding = textWidth = textPadding = 0;\n      }\n\n      config.symbolPadding = symbolPadding;\n      config.textPadding = textPadding;\n      config.width = config.totalWidth = mathMax(legendSpace.layout.width, legendSpace.children[legendSpace.children.length - 1].layout.width);\n      SmartLabel.setStyle((0, _lib.extend2)({}, itemStyle.text));\n\n      for (k = 0, i = 0; k < len; k++) {\n        item = itemArr[k];\n        itemConfig = item.config;\n\n        if (legendnumrows === 1) {\n          textWidth = itemConfig._selfTotalWidth;\n\n          if (textWidth < 0) {\n            symbolPadding = textWidth = textPadding = 0;\n          }\n        }\n\n        if (itemConfig.enabled === 1) {\n          if (textWidth === 0) {\n            itemConfig.name = _lib.BLANKSTRING;\n            itemConfig._totalWidth = symbolWidthSpace + symbolPadding;\n          }\n\n          itemConfig._legendX = legendSpace.children[legendSpace.children.length - 1].children[i].layout.x;\n          itemConfig._legendY = legendSpace.children[legendSpace.children.length - 1].children[i].layout.y;\n          itemConfig._legendH = legendSpace.children[legendSpace.children.length - 1].children[i].layout.height;\n          i += 1;\n        }\n      }\n\n      numRows = legendnumrows;\n      dimensions.height += numRows * rowHeight + legendCaptionHeight;\n      config.height = config.totalHeight = legendSpace.layout.height + 2 * padding;\n      config.rowHeight = rowHeight;\n      config.legendNumColumns = legendnumcolumns;\n      config.initialItemX = hasLegendCaption && captionWidth > legendSpace.children[legendSpace.children.length - 1].layout.width && availableWidth > config.width ? legendSpace.children[legendSpace.children.length - 1].layout.x : 0;\n      config.initialItemY = legendSpace.children[legendSpace.children.length - 1].layout.y;\n\n      if (config.height - 2 * symbolPadding > availableHeight) {\n        config.height = availableHeight;\n        scroll = config.scroll || (config.scroll = {});\n        scroll.enabled = true;\n        scroll.flatScrollBars = config.flatScrollBars;\n        scroll.scrollBar3DLighting = config.scrollBar3DLighting;\n        config.width = config.width + 12 > availableWidth ? config.width : config.width + 12;\n      } else {\n        config.scroll.enabled = false;\n      }\n\n      if (config.width > availableWidth) {\n        config.width = availableWidth;\n        horizontalScroll = config.horizontalScroll || (config.horizontalScroll = {});\n        horizontalScroll.enabled = true;\n        horizontalScroll.flatScrollBars = config.flatScrollBars;\n        horizontalScroll.scrollBar3DLighting = config.scrollBar3DLighting;\n\n        if (config.height + 12 <= availableHeight) {\n          config.height = config.height + 12;\n        } else {\n          config.height = availableHeight;\n          config.totalHeight += 4;\n          scroll = config.scroll || (config.scroll = {});\n          scroll.enabled = true;\n          scroll.flatScrollBars = config.flatScrollBars;\n          scroll.scrollBar3DLighting = config.scrollBar3DLighting;\n          config.scroll.enabled = true;\n        }\n      } else {\n        config.horizontalScroll.enabled = false;\n      }\n\n      if (config.totalWidth > config.width && config.totalWidth - config.width <= 4) {\n        for (k = 0, i = 0; k < len; k++) {\n          item = itemArr[k];\n          itemConfig = item.config;\n\n          if (itemConfig.enabled === 1) {\n            if (legendSpace.children[legendSpace.children.length - 1].children[i].style.gridColumnStart % legendnumcolumns !== 1) {\n              itemConfig._legendX += 4;\n\n              if (legendSpace.children[legendSpace.children.length - 1].children[i].style.gridRowStart === 1) {\n                config.totalWidth += 4;\n              }\n            }\n\n            i += 1;\n          }\n        }\n\n        config.totalHeight += 4;\n      }\n\n      usedHeight += config.height;\n      config.isActive = true;\n      config.enabled = true;\n    } else {\n      config.enabled = false;\n      config.width = 0;\n      usedHeight = 0;\n    }\n\n    return {\n      width: config.width,\n      height: usedHeight\n    };\n  };\n\n  _proto._placeLegendBlockBottom = function _placeLegendBlockBottom(availableHeight, widthFraction) {\n    if (widthFraction === void 0) {\n      widthFraction = 1;\n    }\n\n    var legend = this,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        origRenderWidth = chart.getFromEnv(\"chartWidth\"),\n        origRenderHeight = chart.getFromEnv(\"chartHeight\"),\n        spacingLeft = chartConfig.canvasLeft,\n        spacingRight = chartConfig.width - (chartConfig.canvasRight || 0),\n        SmartLabel = chart.getFromEnv(\"smartLabel\"),\n        config = legend.config,\n        marginLeft = config.chartMarginLeft,\n        marginRight = config.chartMarginRight,\n        marginTop = config.chartMarginTop,\n        alignLegendWithCanvas = config.alignLegendWithCanvas,\n        itemArr = legend.getSortedLegendItems(),\n        len = itemArr.length,\n        legendPadding = config.legendPadding,\n        canvasMarginRight = chartConfig.canvasMarginRight,\n        canvasMarginLeft = chartConfig.canvasMarginLeft,\n        yAxis = chart.getChildren(\"yAxis\"),\n        verticalAxis = yAxis && yAxis[0].config.isVertical ? yAxis : chart.getChildren(\"xAxis\"),\n        axis1Obj = verticalAxis && verticalAxis[0],\n        axis2Obj = verticalAxis && verticalAxis[1],\n        axis1 = axis1Obj && axis1Obj.config || {},\n        axis2 = axis2Obj && axis2Obj.config || {},\n        title1Width = axis1.nameMaxW,\n        title2Width = axis2.nameMaxW,\n        axis1NameStyle = axis1.name && axis1.name.style || {},\n        axis2NameStyle = axis2.name && axis2.name.style || {},\n        axis1Title = axis1.axisName || _lib.BLANKSTRING,\n        axis2Title = axis2.axisName || _lib.BLANKSTRING,\n        usedHeight,\n        availableWidth = chartConfig.canvasWidth - chartConfig.canvasMarginLeft - chartConfig.canvasMarginRight,\n        widthLimit = chartConfig.width,\n        heightLimit = chartConfig.height,\n        yAxisTitleHeight,\n        yAxisTitleWidth,\n        title1,\n        title2,\n        legendPos = config.legendPos ? config.legendPos.split(\"-\") : [];\n    config.paddingBottom = chartConfig.height - chartConfig.canvasBottom;\n    SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);\n    SmartLabel.setStyle(axis1NameStyle);\n    title1 = SmartLabel.getOriSize(axis1Title);\n    SmartLabel.setStyle(axis2NameStyle);\n    title2 = SmartLabel.getOriSize(axis2Title);\n\n    if (availableWidth < legendPadding) {\n      config.padding = legendPadding = availableWidth = 0;\n    }\n\n    if (title1 || title2) {\n      yAxisTitleHeight = (0, _lib.pluckNumber)(title1.height, 0) > (0, _lib.pluckNumber)(title2.height, 0) ? (yAxisTitleWidth = title1Width) && title1.width : (yAxisTitleWidth = title2Width) && title2.width;\n    }\n\n    availableWidth = alignLegendWithCanvas ? availableWidth : origRenderWidth - (yAxisTitleHeight + marginTop > origRenderHeight - availableHeight ? 2 * yAxisTitleWidth + marginRight + marginLeft + canvasMarginRight + canvasMarginLeft : marginRight + marginLeft + canvasMarginLeft + canvasMarginRight);\n\n    if (legendPos[0] === _lib.POSITION_ABSOLUTE) {\n      availableWidth = widthLimit;\n\n      if (config.legendMaxWidth < widthLimit) {\n        availableWidth = config.legendMaxWidth;\n      } else {\n        availableWidth *= widthFraction;\n      }\n    }\n\n    if (!config.showLegend || len === 0) {\n      usedHeight = 0;\n      config.height = 0;\n      config.width = 0;\n    } else {\n      config.x = (spacingLeft - marginLeft - spacingRight + marginRight) / 2;\n      usedHeight = legend.setDimension({\n        width: availableWidth,\n        height: legendPos[0] === _lib.POSITION_ABSOLUTE ? config.legendMaxHeight < heightLimit ? config.legendMaxHeight : heightLimit : availableHeight\n      }).height;\n    }\n\n    return {\n      bottom: usedHeight,\n      right: 0\n    };\n  };\n\n  _proto._placeLegendBlockRight = function _placeLegendBlockRight(availWidth) {\n    var legend = this,\n        availableWidth = availWidth,\n        legendConf = legend.config,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConf = chart.config,\n        SmartLabel = chart.getFromEnv(\"smartLabel\"),\n        legendPadding = legendConf.legendPadding,\n        itemStyle = legend.getStateCosmetics(\"default\"),\n        availableHeight = chartConf.canvasHeight,\n        dimensions = {},\n        itemArr = legend.getSortedLegendItems(),\n        len = itemArr.length,\n        usedWidth,\n        gutterWidth = 10;\n\n    if (availableWidth < legendPadding) {\n      legendConf.padding = legendPadding = availableWidth = 0;\n    }\n\n    SmartLabel.useEllipsesOnOverflow(chartConf.useEllipsesWhenOverflow);\n    SmartLabel.setStyle((0, _lib.extend2)({}, itemStyle.text));\n\n    if (!legendConf.numColumns && !legendConf.numRows) {\n      legendConf.numColumns = 1;\n    }\n\n    if (!legendConf.showLegend || len === 0) {\n      dimensions.right = 0;\n      legendConf.height = 0;\n      legendConf.width = 0;\n    } else {\n      usedWidth = legend.setDimension({\n        width: availableWidth - legendPadding,\n        height: availableHeight\n      }).width;\n      dimensions.right = usedWidth + legendPadding;\n\n      if (dimensions.right + gutterWidth <= availableWidth) {\n        dimensions.right += gutterWidth;\n      }\n    }\n\n    return dimensions;\n  };\n\n  _proto.postSpaceManager = function postSpaceManager() {\n    var legend = this,\n        legendConf = legend.config,\n        legendPosition = legendConf.legendPos ? legendConf.legendPos.split(\"-\") : [],\n        chart = legend.getFromEnv(\"chart\"),\n        availableHeight = chart.config.canvasHeight;\n\n    if (legendPosition[0] === _lib.POSITION_RIGHT || legendPosition[0] === _lib.POSITION_LEFT) {\n      if (legendConf.totalHeight > availableHeight) {\n        if (legendConf.totalHeight <= legendConf.height) {\n          legendConf.scroll.enabled = true;\n          legendConf.scroll.flatScrollBars = legendConf.flatScrollBars;\n          legendConf.scroll.scrollBar3DLighting = legendConf.scrollBar3DLighting;\n          legendConf.width += (legendConf.scroll.scrollBarWidth = 10) + (legendConf.scroll.scrollBarPadding = 2);\n        }\n\n        legendConf.height = availableHeight;\n      } else {\n        legendConf.scroll.enabled = false;\n      }\n    }\n  };\n\n  _proto.configureAttributes = function configureAttributes(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    _ComponentInterface.prototype.configureAttributes.call(this, obj);\n\n    var legend = this,\n        config = legend.config,\n        chart = legend.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        legendLineHeight,\n        style = legend.getFromEnv(\"style\"),\n        chartAttr = chart.getFromEnv(\"chart-attrib\"),\n        is3D = chart.config.is3D,\n        colorM = legend.getFromEnv(\"color-manager\"),\n        borderColor,\n        palleteString = is3D ? _lib.chartPaletteStr.chart3D : _lib.chartPaletteStr.chart2D,\n        interactiveLegend = config.interactiveLegend = chart.hasInteractiveLegend !== false && Boolean((0, _lib.pluckNumber)(chartAttr.interactivelegend, 1)),\n        borderAlpha,\n        backgroundAlpha,\n        roundEdges = (0, _lib.pluckNumber)(chartAttr.useroundedges, 0),\n        padding = 4,\n        outCancolor = style.outCancolor,\n        textStyle = obj.style && obj.style.text,\n        legendItemFont = (0, _lib.pluck)(chartAttr.legenditemfont, textStyle && textStyle[\"font-family\"], style.outCanfontFamily),\n        legendScale = (0, _lib.pluckNumber)(chartAttr.legendiconscale, 1),\n        legendFontSize = (0, _lib.pluckFontSize)(chartAttr.legenditemfontsize, textStyle && textStyle[\"font-size\"], style.fontSize) + PXSTRING,\n        legendFontColor = (0, _lib.pluck)(chartAttr.legenditemfontcolor, textStyle && textStyle.color, outCancolor).replace(/^#?([a-f0-9]+)/gi, \"#$1\"),\n        legendItemHoverFontColor = (0, _lib.getFirstColor)((0, _lib.pluck)(chartAttr.legenditemhoverfontcolor, legendFontColor)),\n        anchorMap;\n    config.isActive = false;\n    config.chartMarginTop = chartConfig.origMarginTop;\n    config.chartMarginRight = chartConfig.origMarginRight;\n    config.chartMarginBottom = chartConfig.origMarginBottom;\n    config.chartMarginLeft = chartConfig.origMarginLeft;\n    config.reverselegend = (0, _lib.pluckNumber)(chartAttr.reverselegend, 0);\n    config.showLegend = (0, _lib.pluckNumber)(chartAttr.showlegend, !chart.dontShowLegendByDefault, 1);\n    config.legendFontSizeWithUnit = (0, _lib.pluckFontSizeMaintainUnit)(chartAttr.legenditemfontsize, style.fontSizeWithUnit || style.fontSize);\n    legendLineHeight = (0, _lib.setLineHeight)({\n      fontSize: legendFontSize\n    });\n    config.legendPos = (0, _lib.pluck)(chartAttr.legendposition, chart.legendposition, obj.legendPosition, _lib.POSITION_BOTTOM).toLowerCase();\n    config.numColumns = (0, _lib.pluckNumber)(Math.floor(chartAttr.legendnumcolumns));\n    config.numRows = (0, _lib.pluckNumber)(Math.floor(chartAttr.legendnumrows));\n\n    if (config.numColumns < 0) {\n      config.numColumns = UNDEF;\n    }\n\n    if (config.numRows < 0) {\n      config.numRows = UNDEF;\n    }\n\n    config.legendXPosition = mathMax((0, _lib.pluckNumber)(chartAttr.legendxposition, chart.legendxposition, obj.legendXPosition, 0), 0);\n    config.legendYPosition = mathMax((0, _lib.pluckNumber)(chartAttr.legendyposition, chart.legendyposition, obj.legendYPosition, 0), 0);\n    config.legendMaxWidth = (0, _lib.pluckNumber)(chartAttr.legendmaxwidth, chart.legendmaxwidth, obj.legendMaxWidth);\n    config.legendMaxHeight = (0, _lib.pluckNumber)(chartAttr.legendmaxheight, chart.legendmaxheight, obj.legendMaxHeight);\n\n    if (config.legendMaxWidth < 0) {\n      config.legendMaxWidth = UNDEF;\n    }\n\n    if (config.legendMaxHeight < 0) {\n      config.legendMaxHeight = UNDEF;\n    }\n\n    config.xL = config.yL = 0;\n\n    if (legendScale <= 0 || legendScale > 5) {\n      legendScale = 1;\n    }\n\n    config.drawCustomLegendIcon = (0, _lib.pluckNumber)(chartAttr.drawcustomlegendicon, obj.drawcustomlegendicon, 0);\n    config.legendScale = legendScale;\n    config.legendPadding = (0, _lib.pluckNumber)(chartAttr.legendpadding, 7);\n    config.alignLegendWithCanvas = (0, _lib.pluckNumber)(obj.alignlegendwithcanvas, chartConfig.alignLegendWithCanvas);\n    config.title.style = {\n      fontFamily: (0, _lib.pluck)(chartAttr.legendcaptionfont, legendItemFont),\n      fontSize: (0, _lib.pluckFontSize)(chartAttr.legendcaptionfontsize, style.fontSize) + PXSTRING,\n      color: (0, _lib.pluck)(chartAttr.legendcaptionfontcolor, outCancolor).replace(/^#?([a-f0-9]+)/gi, \"#$1\"),\n      fontWeight: styleValueMap.fontWeight[(0, _lib.pluckNumber)(chartAttr.legendcaptionfontbold, 1)] || _lib.BLANKSTRING\n    };\n    anchorMap = chartAttr.legendcaptionalignment ? chartAttr.legendcaptionalignment.toLowerCase() : TEXT_ANCHOR_MAP.center;\n    config.title.align = TEXT_ANCHOR_MAP[anchorMap] || TEXT_ANCHOR_MAP.center;\n    config.title.style[\"text-anchor\"] = config.title.align;\n    config.padding = padding;\n    borderColor = (0, _lib.pluck)(chartAttr.legendbordercolor, colorM.getColor(palleteString.legendBorderColor));\n    borderAlpha = config.borderAlpha = (0, _lib.pluckNumber)(chartAttr.legendborderalpha, 100);\n    config.borderColor = (0, _lib.convertColor)(borderColor, borderAlpha);\n    config.borderWidth = (0, _lib.pluckNumber)(chartAttr.legendborderthickness, obj.legendborderthickness, !roundEdges || chartAttr.legendbordercolor ? 1 : 0);\n    config.borderRadius = (0, _lib.pluckNumber)(roundEdges, 0);\n    config.backgroundAlpha = backgroundAlpha = (0, _lib.pluckNumber)(chartAttr.legendbgalpha, obj.legendbgalpha, 100);\n    config.backgroundColor = (0, _lib.convertColor)((0, _lib.pluck)(chartAttr.legendbgcolor, colorM.getColor(palleteString.legendBgColor)), backgroundAlpha);\n    config.symbol3DLighting = Boolean((0, _lib.pluckNumber)(chartAttr.use3dlighting, chartAttr.useplotgradientcolor, 1));\n    config.symbol3DLighting = !chartConfig.usePattern && config.symbol3DLighting;\n    config.shadow = Boolean((0, _lib.pluckNumber)(chartAttr.legendshadow, 1));\n\n    if (config.shadow) {\n      config.shadow = {\n        enabled: config.shadow,\n        opacity: mathMax(borderAlpha, backgroundAlpha) / 100\n      };\n    }\n\n    config.prevReversed = Boolean((0, _lib.pluckNumber)(config.reversed, 0));\n    config.reversed = Boolean((0, _lib.pluckNumber)(chartAttr.reverselegend, 0));\n    config.lineWidth = (0, _lib.pluckNumber)(chartAttr.linethickness, 2);\n    config.borderRadius = (0, _lib.pluckNumber)(chartAttr.legendborderradius, roundEdges ? 3 : 0);\n    config.legendAllowDrag = Boolean((0, _lib.pluckNumber)(chartAttr.legendallowdrag, 0));\n    config.title.oriText = (0, _lib.parseUnsafeString)((0, _lib.getFirstValue)(chartAttr.legendcaption, _lib.BLANKSTRING));\n    config.legendScrollBgColor = (0, _lib.getFirstColor)((0, _lib.pluck)(chartAttr.legendscrollbgcolor, chartAttr.scrollcolor, colorM.getColor(\"altHGridColor\")));\n    config.legendScrollBarColor = (0, _lib.pluck)(chartAttr.legendscrollbarcolor, borderColor);\n    config.legendScrollBtnColor = (0, _lib.pluck)(chartAttr.legendscrollbtncolor, borderColor);\n    config.minimiseWrappingInLegend = (0, _lib.pluckNumber)(chartAttr.minimisewrappinginlegend, 0);\n    config.flatScrollBars = (0, _lib.pluckNumber)(chartAttr.flatscrollbars, 0);\n    config.scrollBar3DLighting = (0, _lib.pluckNumber)(chartAttr.scrollbar3dlighting, 1);\n    config.orderReversed = false;\n    legend.setStateCosmetics(\"hidden\", {\n      symbol: {\n        fill: (0, _lib.convertColor)((0, _lib.pluck)(chartAttr.legenditemhiddencolor, \"cccccc\").replace(/^#?([a-f0-9]+)/gi, \"#$1\")),\n        stroke: (0, _lib.convertColor)((0, _lib.pluck)(chartAttr.legenditemhiddencolor, \"cccccc\").replace(/^#?([a-f0-9]+)/gi, \"#$1\"))\n      },\n      text: {\n        fill: (0, _lib.convertColor)((0, _lib.pluck)(chartAttr.legenditemhiddencolor, \"cccccc\").replace(/^#?([a-f0-9]+)/gi, \"#$1\"))\n      }\n    });\n    legend.setStateCosmetics(\"default\", {\n      text: {\n        fill: (0, _lib.convertColor)(legendFontColor),\n        \"font-family\": legendItemFont,\n        cursor: interactiveLegend ? _lib.preDefStr.POINTER : \"default\",\n        \"font-size\": legendFontSize,\n        \"line-height\": legendLineHeight,\n        \"vertical-align\": _lib.POSITION_TOP,\n        \"text-anchor\": _lib.POSITION_START,\n        direction: chartConfig.textDirection === \"rtl\" ? \"rtl\" : \"initial\",\n        \"font-weight\": styleValueMap.fontWeight[(0, _lib.pluckNumber)(chartAttr.legenditemfontbold, 0)] || _lib.BLANKSTRING\n      },\n      symbol: {\n        bgColor: (0, _lib.pluck)(chartAttr.legendiconbgcolor),\n        cursor: interactiveLegend ? _lib.preDefStr.POINTER : \"default\",\n        borderColor: (0, _lib.pluck)(chartAttr.legendiconbordercolor),\n        bgAlpha: (0, _lib.pluckNumber)(chartAttr.legendiconbgalpha, chartAttr.legendiconalpha, 100),\n        borderAlpha: (0, _lib.pluckNumber)(chartAttr.legendiconborderalpha, chartAttr.legendiconalpha, 100),\n        borderThickness: (0, _lib.pluckNumber)(chartAttr.legendiconborderthickness),\n        startAngle: (0, _lib.pluckNumber)(chartAttr.legendiconstartangle, 45),\n        sides: (0, _lib.pluckNumber)(chartAttr.legendiconsides, obj.legendiconsides, 4)\n      }\n    });\n    legend.setStateCosmetics(\"hover\", function (cosmetics, legenditem) {\n      if (!legenditem.hasState(\"hidden\")) {\n        if (!cosmetics.text) {\n          cosmetics.text = {};\n        }\n\n        cosmetics.text.fill = (0, _lib.convertColor)(legendItemHoverFontColor.replace(/^#?([a-f0-9]+)/gi, \"#$1\"));\n        cosmetics.text.cursor = INHERIT_STR;\n      }\n\n      return cosmetics;\n    });\n\n    if (config.legendAllowDrag && !config._dragEvtListenerBinded) {\n      legend.addEventListener(\"fc-dragstart\", config.handlers.dragstart);\n      legend.addEventListener(\"fc-dragmove\", config.handlers.dragmove);\n      config._dragEvtListenerBinded = true;\n    } else if (!config.legendAllowDrag && config._dragEvtListenerBinded) {\n      legend.removeEventListener(\"fc-dragstart\", config.handlers.dragstart);\n      legend.removeEventListener(\"fc-dragmove\", config.handlers.dragmove);\n      config._dragEvtListenerBinded = false;\n    }\n  };\n\n  _proto.getLegendState = function getLegendState() {\n    return this._legendState;\n  };\n\n  _proto.hasState = function hasState(state) {\n    var states = this.getLegendState(),\n        i,\n        len;\n\n    for (i = 0, len = states.length; i < len; i++) {\n      if (states[i] === state) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  _proto.setLegendState = function setLegendState(state, pushAtEnd) {\n    if (!this.hasState(state)) {\n      if (pushAtEnd) {\n        this._legendState.push(state);\n      } else {\n        this._legendState.unshift(state);\n      }\n    }\n\n    this.asyncDraw();\n  };\n\n  _proto.removeLegendState = function removeLegendState(state) {\n    var i,\n        len,\n        notFound = 1;\n\n    if (state) {\n      for (i = 0, len = this._legendState.length; i < len && notFound; i++) {\n        if (state === this._legendState[i]) {\n          this._legendState.splice(i, 1);\n\n          notFound = 0;\n        }\n      }\n    } else {\n      this._legendState.length = 0;\n    }\n\n    this.asyncDraw();\n  };\n\n  _proto.setStateCosmetics = function setStateCosmetics(state, cosmetics) {\n    this._stateCosmetics[state] = cosmetics;\n  };\n\n  _proto.removeStateCosmetics = function removeStateCosmetics(state) {\n    delete this._stateCosmetics[state];\n  };\n\n  _proto.getStateCosmetics = function getStateCosmetics(state) {\n    return this._stateCosmetics[state];\n  };\n\n  _proto.hide = function hide() {\n    var legend = this,\n        chart = legend.getFromEnv(\"chart\"),\n        legendGroup = chart.getChildContainer(\"legendGroup\");\n    legendGroup && legendGroup.hide();\n  };\n\n  return Legend;\n}(_componentInterface.ComponentInterface);\n\nvar _default = Legend;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/charts/src/_internal/components/legend/discrete/index.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_defineProperty2","_assertThisInitialized2","_inheritsLoose2","_lib","_componentInterface","_legendItem","_dependencyManager","_toolbox","_index","_schedular","_faber","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","UNDEF","TEXT_ANCHOR_MAP","left","POSITION_START","right","POSITION_END","center","POSITION_MIDDLE","math","Math","mathMin","min","mathMax","max","mathFloor","floor","mathCeil","ceil","INHERIT_STR","COMMA","NONE","COLOR_WHITE","PXSTRING","ZERO_STR","NORMAL","preDefStr","BOLD","noneStr","styleValueMap","fontWeight","fontStyle","textDecoration","handlers","legend","dragInitX","dragInitY","dragstart","config","xL","xPos","yL","yPos","dragmove","e","dx","originalEvent","data","dy","chartConfig","getFromEnv","translationLimit","borderWidth","dragOffsetX","dragOffsetY","width","height","addJob","dragDraw","priorityList","draw","addDep","name","type","extension","emptyArrayCreator","n","Array","fill","Legend","_ComponentInterface","_this","call","_stateCosmetics","_legendState","drawScroll","createItemGroup","createCaptionGroup","_proto","prototype","createItem","owner","legendItem","attachChild","setLinkedItem","addEventListener","setLegendState","removeLegendState","getId","getItem","id","items","getChildren","getSortedLegendItems","reverselegend","map","sortedItems","len","index","sort","index1","index2","disposeItem","remove","getName","getType","__setDefaultConfig","enabled","symbolWidth","borderRadius","lastScrollPos","oriSymbolPadding","textPadding","scrollY","scrollX","backgroundColor","initialItemX","title","text","BLANKSTRING","x","y","padding","scroll","horizontalScroll","itemStyle","createLegendGroup","chart","animationManager","legendGroup","legendGroupCheck","getContainer","setAnimation","el","attr","transform","container","getChildContainer","component","addContainer","drawDualScrollRect","rect","getGraphicalElement","scrollbarContainer","legendScrollBgColor","stroke","addGraphicalElement","drawLegendBox","drawCaption","createScrollGroup","decideScroll","legendConf","scrollEnabled","horizontalScrollEnabled","createScrollBar","hasScroll","hasHorizontalScroll","captionGroupCheck","captionGroup","pluckNumber","halfPad","clipSTR1","clipH","clipV","clipSTR2","addChildContainer","itemGroup","itemGroupCheck","scrollGroupCheck","label","isHorizontal","scrollItem","chartAttr","childName","legendScrollBar","semiBorder","scrollConfig","h","w","conf","handler","pos","totalWidth","totalHeight","mousedown","preventDefault","stopPropagation","legendscrollbgcolor","color","convertColor","ScrollBar","configure","attachEventHandlers","getLogicalSpace","scrollRatio","startPercent","scrollPosition","parentLayer","setDimension","caption","attrObj","titleStyle","captionX","captionCss","scrollbarWidth","validLegendItem","align","style","originalText","direction","textDirection","lineHeight","POSITION_TOP","opacity","fontFamily","fontSize","show","css","enableToolTip","doNotRemove","callback","hide","box","boxCheck","r","borderColor","borderAlpha","backgroundAlpha","cursor","legendAllowDrag","shadow","_calculateTopPosition","subCaption","toolbar","oriCanvasTop","oriTopSpace","toolbarY","props","isOnTop","captionPadding","getPosition","xLim","yLim","canvas","canvasBottom","canvasLeft","canvasRight","canvasWidth","marginLeft","chartMarginLeft","marginRight","chartMarginRight","marginTop","chartMarginTop","marginBottom","chartMarginBottom","actionBarHeight","canvasMarginLeft","actualCanvasMarginLeft","canvasMarginTop","actualCanvasMarginTop","canvasMarginBottom","actualCanvasMarginBottom","canvasMarginRight","actualCanvasMarginRight","alignLegendWithCanvas","chartHeight","canvasTop","chartBorderWidth","oriCanvasLeft","oriCanvasRight","oriCanvasBottom","oriBottomSpace","topSpace","bottomSpace","xLeft","xRight","spaceLeftByChart","spaceRightLeft","isVertical","legendPos","split","remSpace","POSITION_LEFT","POSITION_RIGHT","verticalAlign","layout","POSITION_ABSOLUTE","legendXPosition","legendYPosition","POSITION_BOTTOM","crispBound","setTranslation","_translateX","_translateY","translate","allocatePosition","legendConfig","dim","_manageLegendPosition","allottedSpace","legendPosition","spaceTakenByLegend","top","bottom","_placeLegendBlockBottom","_placeLegendBlockRight","itemArr","availableWidth","availableHeight","allowedMaxHeight","itemConfig","userConfig","item","maxWidth","totalNumber","averageWidth","perItemWidth","maxHeight","legendCaptionHeight","tempTableStructure","SmartLabel","getStateCosmetics","legendFontSize","computeFontSize","legendFontSizeWithUnit","legendLineHeight","parseInt","setLineHeight","itemFontSize","nonItemWidth","rowHeight","usedHeight","textWidth","legendCaption","captionWidth","minimiseWrappingInLegend","legendPadding","legendScale","legendnumcolumns","numColumns","legendnumrows","numRows","symbolPadding","legendHeight","symbolWidthSpace","dimensions","k","itemWidth","itemHeight","Number","MAX_SAFE_INTEGER","parent","children","childLegends","legendSpace","smartText","originalAvailableWidth","nonTextElemWidth","hasLegendCaption","hasUserGivenLegendNumRows","shiftRows","shiftColumns","insertionState","setStateCosmetics","symbol","bgColor","bgAlpha","borderThickness","startAngle","sides","setStyle","extend2","initialItemY","parseUnsafeString","getState","getOriSize","_selfTotalWidth","oriText","getSmartText","tooltext","newNumRows","newNumCols","newItemWidth","_totalWidth","_selfTotalHeight","_textHeight","_legendTestY","display","justifyItems","alignItems","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","paddingEnd","paddingTop","m","endRow","toFixed","p","gridTemplateRows","repeat","slice","computeLayout","_legendX","_legendY","_legendH","legendNumColumns","flatScrollBars","scrollBar3DLighting","isActive","widthFraction","origRenderWidth","origRenderHeight","spacingLeft","spacingRight","yAxis","verticalAxis","axis1Obj","axis2Obj","axis1","axis2","title1Width","nameMaxW","title2Width","axis1NameStyle","axis2NameStyle","axis1Title","axisName","axis2Title","widthLimit","heightLimit","yAxisTitleHeight","yAxisTitleWidth","title1","title2","paddingBottom","useEllipsesOnOverflow","useEllipsesWhenOverflow","legendMaxWidth","showLegend","legendMaxHeight","availWidth","chartConf","canvasHeight","usedWidth","gutterWidth","postSpaceManager","scrollBarWidth","scrollBarPadding","configureAttributes","obj","is3D","colorM","palleteString","chartPaletteStr","chart3D","chart2D","interactiveLegend","hasInteractiveLegend","Boolean","interactivelegend","roundEdges","useroundedges","outCancolor","textStyle","legendItemFont","pluck","legenditemfont","outCanfontFamily","legendiconscale","pluckFontSize","legenditemfontsize","legendFontColor","legenditemfontcolor","replace","legendItemHoverFontColor","getFirstColor","legenditemhoverfontcolor","anchorMap","origMarginTop","origMarginRight","origMarginBottom","origMarginLeft","showlegend","dontShowLegendByDefault","pluckFontSizeMaintainUnit","fontSizeWithUnit","legendposition","toLowerCase","legendxposition","legendyposition","legendmaxwidth","legendmaxheight","drawCustomLegendIcon","drawcustomlegendicon","legendpadding","alignlegendwithcanvas","legendcaptionfont","legendcaptionfontsize","legendcaptionfontcolor","legendcaptionfontbold","legendcaptionalignment","legendbordercolor","getColor","legendBorderColor","legendborderalpha","legendborderthickness","legendbgalpha","legendbgcolor","legendBgColor","symbol3DLighting","use3dlighting","useplotgradientcolor","usePattern","legendshadow","prevReversed","reversed","lineWidth","linethickness","legendborderradius","legendallowdrag","getFirstValue","legendcaption","scrollcolor","legendScrollBarColor","legendscrollbarcolor","legendScrollBtnColor","legendscrollbtncolor","minimisewrappinginlegend","flatscrollbars","scrollbar3dlighting","orderReversed","legenditemhiddencolor","POINTER","legenditemfontbold","legendiconbgcolor","legendiconbordercolor","legendiconbgalpha","legendiconalpha","legendiconborderalpha","legendiconborderthickness","legendiconstartangle","legendiconsides","cosmetics","legenditem","hasState","_dragEvtListenerBinded","removeEventListener","getLegendState","state","states","pushAtEnd","unshift","asyncDraw","notFound","splice","removeStateCosmetics","ComponentInterface","_default"],"mappings":"AAAA;;AAAa,IAAIA,sBAAsB,GAACC,OAAO,CAAC,8CAAD,CAAlC;;AAAmFC,OAAO,CAACC,UAAR,GAAmB,IAAnB;AAAwBD,OAAO,CAACE,OAAR,GAAgB,KAAK,CAArB;;AAAuB,IAAIC,gBAAgB,GAACL,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA3C;;AAA8F,IAAIK,uBAAuB,GAACN,sBAAsB,CAACC,OAAO,CAAC,8CAAD,CAAR,CAAlD;;AAA4G,IAAIM,eAAe,GAACP,sBAAsB,CAACC,OAAO,CAAC,sCAAD,CAAR,CAA1C;;AAA4F,IAAIO,IAAI,GAACP,OAAO,CAAC,4BAAD,CAAhB;;AAA+C,IAAIQ,mBAAmB,GAACR,OAAO,CAAC,4CAAD,CAA/B;;AAA8E,IAAIS,WAAW,GAACV,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAAtC;;AAAiE,IAAIU,kBAAkB,GAACV,OAAO,CAAC,2CAAD,CAA9B;;AAA4E,IAAIW,QAAQ,GAACX,OAAO,CAAC,gCAAD,CAApB;;AAAuD,IAAIY,MAAM,GAACb,sBAAsB,CAACC,OAAO,CAAC,mBAAD,CAAR,CAAjC;;AAAgE,IAAIa,UAAU,GAACb,OAAO,CAAC,kCAAD,CAAtB;;AAA2D,IAAIc,MAAM,GAACd,OAAO,CAAC,4DAAD,CAAlB;;AAAiF,SAASe,OAAT,CAAiBC,MAAjB,EAAwBC,cAAxB,EAAuC;AAAC,MAAIC,IAAI,GAACC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAT;;AAA6B,MAAGG,MAAM,CAACC,qBAAV,EAAgC;AAAC,QAAIC,OAAO,GAACF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAZ;AAAiD,QAAGC,cAAH,EAAkBI,OAAO,GAACA,OAAO,CAACC,MAAR,CAAgB,UAASC,GAAT,EAAa;AAAC,aAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAuCO,GAAvC,EAA4CE,UAAnD;AAA8D,KAA5F,CAAR;AAAuGP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAqBG,OAArB;AAA8B;;AAAA,SAAOH,IAAP;AAAY;;AAAA,SAASU,aAAT,CAAuBC,MAAvB,EAA8B;AAAC,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACC,SAAS,CAACC,MAAxB,EAA+BF,CAAC,EAAhC,EAAmC;AAAC,QAAIG,MAAM,GAACF,SAAS,CAACD,CAAD,CAAT,IAAc,IAAd,GAAmBC,SAAS,CAACD,CAAD,CAA5B,GAAgC,EAA3C;;AAA8C,QAAGA,CAAC,GAAC,CAAL,EAAO;AAACf,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAgB,IAAhB,CAAP,CAA6BC,OAA7B,CAAsC,UAASC,GAAT,EAAa;AAAC,SAAC,GAAE/B,gBAAgB,CAACD,OAApB,EAA6B0B,MAA7B,EAAoCM,GAApC,EAAwCF,MAAM,CAACE,GAAD,CAA9C;AAAqD,OAAzG;AAA4G,KAApH,MAAyH,IAAGhB,MAAM,CAACiB,yBAAV,EAAoC;AAACjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAA+BV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAA/B;AAAyE,KAA9G,MAAkH;AAAClB,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAiC,UAASC,GAAT,EAAa;AAAChB,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA6BM,GAA7B,EAAiChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAuCE,GAAvC,CAAjC;AAA8E,OAA7H;AAAgI;AAAC;;AAAA,SAAON,MAAP;AAAc;;AAAA,IAAIU,KAAJ;AAAA,IAAUC,eAAe,GAAC;AAACC,EAAAA,IAAI,EAAClC,IAAI,CAACmC,cAAX;AAA0BC,EAAAA,KAAK,EAACpC,IAAI,CAACqC,YAArC;AAAkDC,EAAAA,MAAM,EAACtC,IAAI,CAACuC;AAA9D,CAA1B;AAAA,IAAyGC,IAAI,GAACC,IAA9G;AAAA,IAAmHC,OAAO,GAACF,IAAI,CAACG,GAAhI;AAAA,IAAoIC,OAAO,GAACJ,IAAI,CAACK,GAAjJ;AAAA,IAAqJC,SAAS,GAACN,IAAI,CAACO,KAApK;AAAA,IAA0KC,QAAQ,GAACR,IAAI,CAACS,IAAxL;AAAA,IAA6LC,WAAW,GAAC,SAAzM;AAAA,IAAmNC,KAAK,GAAC,GAAzN;AAAA,IAA6NC,IAAI,GAAC,MAAlO;AAAA,IAAyOC,WAAW,GAAC,SAArP;AAAA,IAA+PC,QAAQ,GAAC,IAAxQ;AAAA,IAA6QC,QAAQ,GAAC,IAAtR;AAAA,IAA2RC,MAAM,GAACxD,IAAI,CAACyD,SAAL,CAAeD,MAAjT;AAAA,IAAwTE,IAAI,GAAC1D,IAAI,CAACyD,SAAL,CAAeC,IAA5U;AAAA,IAAiVC,OAAO,GAAC3D,IAAI,CAACyD,SAAL,CAAeE,OAAxW;AAAA,IAAgXC,aAAa,GAAC;AAACC,EAAAA,UAAU,EAAC;AAAC,OAAEH,IAAH;AAAQ,OAAEF;AAAV,GAAZ;AAA8BM,EAAAA,SAAS,EAAC;AAAC,OAAE,QAAH;AAAY,OAAEN;AAAd,GAAxC;AAA8DO,EAAAA,cAAc,EAAC;AAAC,OAAE,WAAH;AAAe,OAAEJ;AAAjB;AAA7E,CAA9X;AAAA,IAAseK,QAAQ,GAAC,SAASA,QAAT,CAAkBC,MAAlB,EAAyB;AAAC,MAAIC,SAAJ,EAAcC,SAAd;AAAwB,SAAM;AAACC,IAAAA,SAAS,EAAC,SAASA,SAAT,GAAoB;AAACF,MAAAA,SAAS,GAACD,MAAM,CAACI,MAAP,CAAcC,EAAd,IAAkBL,MAAM,CAACI,MAAP,CAAcE,IAA1C;AAA+CJ,MAAAA,SAAS,GAACF,MAAM,CAACI,MAAP,CAAcG,EAAd,IAAkBP,MAAM,CAACI,MAAP,CAAcI,IAA1C;AAA+C,KAA9H;AAA+HC,IAAAA,QAAQ,EAAC,SAASA,QAAT,CAAkBC,CAAlB,EAAoB;AAAC,UAAIC,EAAE,GAACD,CAAC,CAACE,aAAF,CAAgBC,IAAhB,CAAqB,CAArB,CAAP;AAAA,UAA+BC,EAAE,GAACJ,CAAC,CAACE,aAAF,CAAgBC,IAAhB,CAAqB,CAArB,CAAlC;AAAA,UAA0DT,MAAM,GAACJ,MAAM,CAACI,MAAxE;AAAA,UAA+EW,WAAW,GAACf,MAAM,CAACgB,UAAP,CAAkB,aAAlB,CAA3F;AAAA,UAA4HC,gBAAgB,GAAC,CAACb,MAAM,CAACc,WAAP,IAAoB,IAAE,EAAvB,IAA2B,CAAxK;AAAA,UAA0KC,WAA1K;AAAA,UAAsLC,WAAtL;AAAkMD,MAAAA,WAAW,GAAC1C,OAAO,CAACE,OAAO,CAACsB,SAAS,GAACU,EAAX,EAAcM,gBAAd,CAAR,EAAwCF,WAAW,CAACM,KAAZ,GAAkBjB,MAAM,CAACiB,KAAzB,GAA+BJ,gBAAvE,CAAnB;AAA4GG,MAAAA,WAAW,GAAC3C,OAAO,CAACE,OAAO,CAACuB,SAAS,GAACY,EAAX,EAAcG,gBAAd,CAAR,EAAwCF,WAAW,CAACO,MAAZ,GAAmBlB,MAAM,CAACkB,MAA1B,GAAiCL,gBAAzE,CAAnB;AAA8Gb,MAAAA,MAAM,CAACE,IAAP,GAAYF,MAAM,CAACC,EAAP,GAAUc,WAAtB;AAAkCf,MAAAA,MAAM,CAACI,IAAP,GAAYJ,MAAM,CAACG,EAAP,GAAUa,WAAtB;AAAkCpB,MAAAA,MAAM,CAACuB,MAAP,CAAc,MAAd,EAAqBvB,MAAM,CAACwB,QAA5B,EAAqCnF,UAAU,CAACoF,YAAX,IAAyBpF,UAAU,CAACoF,YAAX,CAAwBC,IAAtF;AAA4F;AAAztB,GAAN;AAAiuB,CAAlwC;;AAAmwC,CAAC,GAAExF,kBAAkB,CAACyF,MAAtB,EAA8B;AAACC,EAAAA,IAAI,EAAC,iBAAN;AAAwBC,EAAAA,IAAI,EAAC,eAA7B;AAA6CC,EAAAA,SAAS,EAAC1F,MAAM,CAACT;AAA9D,CAA9B;;AAAsG,IAAIoG,iBAAiB,GAAC,SAASA,iBAAT,CAA2BC,CAA3B,EAA6B;AAAC,SAAOC,KAAK,CAACD,CAAD,CAAL,CAASE,IAAT,EAAP;AAAuB,CAA3E;;AAA4E,IAAIC,MAAM,GAAC,UAASC,mBAAT,EAA6B;AAAC,GAAC,GAAEtG,eAAe,CAACH,OAAnB,EAA4BwG,MAA5B,EAAmCC,mBAAnC;;AAAwD,WAASD,MAAT,GAAiB;AAAC,QAAIE,KAAJ;;AAAUA,IAAAA,KAAK,GAACD,mBAAmB,CAACE,IAApB,CAAyB,IAAzB,KAAgC,IAAtC;AAA2C,QAAItC,MAAM,GAAC,CAAC,GAAEnE,uBAAuB,CAACF,OAA3B,EAAoC0G,KAApC,CAAX;AAAsDrC,IAAAA,MAAM,CAACuC,eAAP,GAAuB,EAAvB;AAA0BvC,IAAAA,MAAM,CAACwC,YAAP,GAAoB,EAApB;;AAAuBxC,IAAAA,MAAM,CAACwB,QAAP,GAAgB,YAAU;AAACxB,MAAAA,MAAM,CAAC0B,IAAP;AAAc,KAAzC;;AAA0C1B,IAAAA,MAAM,CAACyC,UAAP,GAAkB,YAAU;AAACzC,MAAAA,MAAM,CAAC0C,eAAP;AAAyB1C,MAAAA,MAAM,CAAC2C,kBAAP;AAA4B,KAAlF;;AAAmF3C,IAAAA,MAAM,CAACI,MAAP,CAAcL,QAAd,GAAuBA,QAAQ,CAACC,MAAD,CAA/B;AAAwC,WAAOqC,KAAP;AAAa;;AAAA,MAAIO,MAAM,GAACT,MAAM,CAACU,SAAlB;;AAA4BD,EAAAA,MAAM,CAACE,UAAP,GAAkB,SAASA,UAAT,CAAoBC,KAApB,EAA0B;AAAC,QAAI/C,MAAM,GAAC,IAAX;AAAA,QAAgBgD,UAAhB;AAA2BA,IAAAA,UAAU,GAAC,IAAI/G,WAAW,CAACN,OAAhB,EAAX;AAAmCqE,IAAAA,MAAM,CAACiD,WAAP,CAAmBD,UAAnB,EAA8B,YAA9B;AAA4CA,IAAAA,UAAU,CAACE,aAAX,CAAyB,OAAzB,EAAiCH,KAAjC;AAAwCC,IAAAA,UAAU,CAACG,gBAAX,CAA4B,WAA5B,EAAyC,YAAU;AAACH,MAAAA,UAAU,CAACI,cAAX,CAA0B,OAA1B,EAAkC,IAAlC;AAAwC,KAA5F;AAA+FJ,IAAAA,UAAU,CAACG,gBAAX,CAA4B,UAA5B,EAAwC,YAAU;AAACH,MAAAA,UAAU,CAACK,iBAAX,CAA6B,OAA7B;AAAsC,KAAzF;AAA4F,WAAOL,UAAU,CAACM,KAAX,EAAP;AAA0B,GAApZ;;AAAqZV,EAAAA,MAAM,CAACW,OAAP,GAAe,SAASA,OAAT,CAAiBC,EAAjB,EAAoB;AAAC,QAAIxD,MAAM,GAAC,IAAX;AAAA,QAAgByD,KAAK,GAACzD,MAAM,CAAC0D,WAAP,GAAqBV,UAA3C;;AAAsD,QAAGQ,EAAE,KAAGzF,KAAR,EAAc;AAAC,UAAG0F,KAAH,EAAS;AAAC,aAAI,IAAInG,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACmG,KAAK,CAACjG,MAApB,EAA2BF,CAAC,EAA5B,EAA+B;AAAC,cAAGmG,KAAK,CAACnG,CAAD,CAAL,CAASgG,KAAT,OAAmBE,EAAtB,EAAyB;AAAC,mBAAOC,KAAK,CAACnG,CAAD,CAAZ;AAAgB;AAAC;AAAC;AAAC,KAAtG,MAA0G;AAAC,aAAO,KAAP;AAAa;AAAC,GAAnN;;AAAoNsF,EAAAA,MAAM,CAACe,oBAAP,GAA4B,SAASA,oBAAT,GAA+B;AAAC,QAAI3D,MAAM,GAAC,IAAX;AAAA,QAAgByD,KAAK,GAACzD,MAAM,CAAC0D,WAAP,CAAmB,YAAnB,KAAkC,EAAxD;AAAA,QAA2DE,aAAa,GAAC5D,MAAM,CAACI,MAAP,CAAcwD,aAAvF;AAAA,QAAqGC,GAAG,GAAC,EAAzG;AAAA,QAA4GC,WAAW,GAAC,EAAxH;AAAA,QAA2HxG,CAA3H;AAAA,QAA6HyG,GAA7H;;AAAiI,SAAIzG,CAAC,GAAC,CAAF,EAAIyG,GAAG,GAACN,KAAK,CAACjG,MAAlB,EAAyBF,CAAC,GAACyG,GAA3B,EAA+BzG,CAAC,EAAhC,EAAmC;AAAC,UAAGmG,KAAK,CAACnG,CAAD,CAAL,CAAS8C,MAAT,CAAgB4D,KAAhB,KAAwBjG,KAA3B,EAAiC;AAAC8F,QAAAA,GAAG,CAACE,GAAG,GAACzG,CAAL,CAAH,GAAWmG,KAAK,CAACnG,CAAD,CAAhB;AAAoB,OAAtD,MAA0D;AAACuG,QAAAA,GAAG,CAACJ,KAAK,CAACnG,CAAD,CAAL,CAAS8C,MAAT,CAAgB4D,KAAjB,CAAH,GAA2BP,KAAK,CAACnG,CAAD,CAAhC;AAAoC;AAAC;;AAAAX,IAAAA,MAAM,CAACD,IAAP,CAAYmH,GAAZ,EAAiBI,IAAjB,CAAuB,UAASC,MAAT,EAAgBC,MAAhB,EAAuB;AAAC,UAAGP,aAAH,EAAiB;AAAC,eAAOO,MAAM,GAACD,MAAd;AAAqB;;AAAA,aAAOA,MAAM,GAACC,MAAd;AAAqB,KAA3G,EAA8GzG,OAA9G,CAAuH,UAASsG,KAAT,EAAe;AAACF,MAAAA,WAAW,CAAC5G,IAAZ,CAAiB2G,GAAG,CAACG,KAAD,CAApB;AAA6B,KAApK;AAAuK,WAAOF,WAAP;AAAmB,GAA3f;;AAA4flB,EAAAA,MAAM,CAACwB,WAAP,GAAmB,SAASA,WAAT,CAAqBZ,EAArB,EAAwB;AAAC,QAAIxD,MAAM,GAAC,IAAX;AAAA,QAAgBgD,UAAU,GAAChD,MAAM,CAACuD,OAAP,CAAeC,EAAf,CAA3B;AAA8CR,IAAAA,UAAU,IAAEA,UAAU,CAACqB,MAAX,EAAZ;AAAgC,GAA1H;;AAA2HzB,EAAAA,MAAM,CAAC0B,OAAP,GAAe,SAASA,OAAT,GAAkB;AAAC,WAAM,QAAN;AAAe,GAAjD;;AAAkD1B,EAAAA,MAAM,CAAC2B,OAAP,GAAe,SAASA,OAAT,GAAkB;AAAC,WAAM,QAAN;AAAe,GAAjD;;AAAkD3B,EAAAA,MAAM,CAAC4B,kBAAP,GAA0B,SAASA,kBAAT,GAA6B;AAACpC,IAAAA,mBAAmB,CAACS,SAApB,CAA8B2B,kBAA9B,CAAiDlC,IAAjD,CAAsD,IAAtD;;AAA4D,QAAIlC,MAAM,GAAC,KAAKA,MAAhB;AAAuBA,IAAAA,MAAM,CAACqE,OAAP,GAAe,IAAf;AAAoBrE,IAAAA,MAAM,CAACsE,WAAP,GAAmB,EAAnB;AAAsBtE,IAAAA,MAAM,CAACuE,YAAP,GAAoB,CAApB;AAAsBvE,IAAAA,MAAM,CAACwE,aAAP,GAAqB,CAArB;AAAuBxE,IAAAA,MAAM,CAACyE,gBAAP,GAAwB,CAAxB;AAA0BzE,IAAAA,MAAM,CAAC0E,WAAP,GAAmB,CAAnB;AAAqB1E,IAAAA,MAAM,CAAC2E,OAAP,GAAe,CAAf;AAAiB3E,IAAAA,MAAM,CAAC4E,OAAP,GAAe,CAAf;AAAiB5E,IAAAA,MAAM,CAAC6E,eAAP,GAAuB7F,WAAvB;AAAmCgB,IAAAA,MAAM,CAAC8E,YAAP,GAAoB,CAApB;AAAsB9E,IAAAA,MAAM,CAAC+E,KAAP,GAAa;AAACC,MAAAA,IAAI,EAACrJ,IAAI,CAACsJ,WAAX;AAAuBC,MAAAA,CAAC,EAAC,CAAzB;AAA2BC,MAAAA,CAAC,EAAC,CAA7B;AAA+BC,MAAAA,OAAO,EAAC;AAAvC,KAAb;AAAuDpF,IAAAA,MAAM,CAACqF,MAAP,GAAc,EAAd;AAAiBrF,IAAAA,MAAM,CAACsF,gBAAP,GAAwB,EAAxB;AAA2BtF,IAAAA,MAAM,CAACuF,SAAP,GAAiB,EAAjB;AAAoB,GAAne;;AAAoe/C,EAAAA,MAAM,CAACgD,iBAAP,GAAyB,SAASA,iBAAT,GAA4B;AAAC,QAAI5F,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAACJ,MAAM,CAACI,MAA9B;AAAA,QAAqCyF,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAA3C;AAAA,QAAsED,WAAW,GAAC8E,KAAK,CAACzF,MAAxF;AAAA,QAA+F0F,gBAAgB,GAAC9F,MAAM,CAACgB,UAAP,CAAkB,kBAAlB,CAAhH;AAAA,QAAsJC,gBAAgB,GAAC,CAACb,MAAM,CAACc,WAAP,IAAoB,CAArB,IAAwB,EAAxB,GAA2B,CAAlM;AAAA,QAAoM6E,WAApM;AAAA,QAAgNC,gBAAgB,GAAChG,MAAM,CAACiG,YAAP,CAAoB,aAApB,CAAjO;AAAoQ7F,IAAAA,MAAM,CAACC,EAAP,KAAYD,MAAM,CAACC,EAAP,GAAU5B,OAAO,CAACE,OAAO,CAACyB,MAAM,CAACC,EAAR,EAAWY,gBAAX,CAAR,EAAqCF,WAAW,CAACM,KAAZ,GAAkBjB,MAAM,CAACiB,KAAzB,GAA+BJ,gBAApE,CAA7B;AAAoHb,IAAAA,MAAM,CAACG,EAAP,KAAYH,MAAM,CAACG,EAAP,GAAU9B,OAAO,CAACE,OAAO,CAACyB,MAAM,CAACG,EAAR,EAAWU,gBAAX,CAAR,EAAqCF,WAAW,CAACO,MAAZ,GAAmBlB,MAAM,CAACkB,MAA1B,GAAiCL,gBAAtE,CAA7B;AAAsH8E,IAAAA,WAAW,GAACD,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,MAAAA,EAAE,EAACH,gBAAgB,IAAE,OAAtB;AAA8BI,MAAAA,IAAI,EAAC;AAACxE,QAAAA,IAAI,EAAC,aAAN;AAAoByE,QAAAA,SAAS,EAAC,CAAC,GAAD,EAAKjG,MAAM,CAACC,EAAP,IAAWD,MAAM,CAACE,IAAvB,EAA4BF,MAAM,CAACG,EAAP,IAAWH,MAAM,CAACI,IAA9C;AAA9B,OAAnC;AAAsH8F,MAAAA,SAAS,EAACT,KAAK,CAACU,iBAAN,CAAwB,aAAxB,CAAhI;AAAuKC,MAAAA,SAAS,EAACxG;AAAjL,KAA9B,CAAZ;;AAAoO,QAAG,CAACgG,gBAAJ,EAAqB;AAAChG,MAAAA,MAAM,CAACyG,YAAP,CAAoB,aAApB,EAAkCV,WAAlC;AAA+C;AAAC,GAA90B;;AAA+0BnD,EAAAA,MAAM,CAAC8D,kBAAP,GAA0B,SAASA,kBAAT,GAA6B;AAAC,QAAIC,IAAI,GAAC,KAAKC,mBAAL,CAAyB,gBAAzB,CAAT;AAAA,QAAoDC,kBAAkB,GAAC,KAAKD,mBAAL,CAAyB,oBAAzB,CAAvE;AAAA,QAAsHd,gBAAgB,GAAC,KAAK9E,UAAL,CAAgB,kBAAhB,CAAvI;;AAA2K,QAAG,KAAKZ,MAAL,CAAYqF,MAAZ,CAAmBhB,OAAnB,IAA4B,KAAKrE,MAAL,CAAYsF,gBAAZ,CAA6BjB,OAA5D,EAAoE;AAACkC,MAAAA,IAAI,GAACb,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,QAAAA,EAAE,EAACQ,IAAI,IAAE,MAAV;AAAiBP,QAAAA,IAAI,EAAC;AAACd,UAAAA,CAAC,EAAC,KAAKlF,MAAL,CAAYiB,KAAZ,GAAkB,EAArB;AAAwBkE,UAAAA,CAAC,EAAC,KAAKnF,MAAL,CAAYkB,MAAZ,GAAmB,EAA7C;AAAgDA,UAAAA,MAAM,EAAC,EAAvD;AAA0DD,UAAAA,KAAK,EAAC,EAAhE;AAAmEa,UAAAA,IAAI,EAAC,KAAK9B,MAAL,CAAY0G,mBAApF;AAAwGC,UAAAA,MAAM,EAAC;AAA/G,SAAtB;AAA6IP,QAAAA,SAAS,EAAC,IAAvJ;AAA4JF,QAAAA,SAAS,EAACO;AAAtK,OAA9B,CAAL;AAA8NF,MAAAA,IAAI,GAAC,KAAKK,mBAAL,CAAyB,gBAAzB,EAA0CL,IAA1C,CAAL;AAAqD,KAAxV,MAA6V,IAAGA,IAAH,EAAQ;AAACA,MAAAA,IAAI,CAACtC,MAAL;AAAc;AAAC,GAAxlB;;AAAylBzB,EAAAA,MAAM,CAAClB,IAAP,GAAY,SAASA,IAAT,GAAe;AAAC,SAAKkE,iBAAL;AAAyB,SAAKqB,aAAL;AAAqB,SAAKvE,eAAL;AAAuB,SAAKC,kBAAL;AAA0B,SAAKuE,WAAL;AAAmB,SAAKC,iBAAL;AAAyB,SAAKC,YAAL;AAAoB,SAAKV,kBAAL;AAA0B,GAArN;;AAAsN9D,EAAAA,MAAM,CAACwE,YAAP,GAAoB,SAASA,YAAT,GAAuB;AAAC,QAAIpH,MAAM,GAAC,IAAX;AAAA,QAAgBqH,UAAU,GAACrH,MAAM,CAACI,MAAlC;AAAA,QAAyCkH,aAAa,GAACD,UAAU,CAAC5B,MAAX,CAAkBhB,OAAzE;AAAA,QAAiF8C,uBAAuB,GAACF,UAAU,CAAC3B,gBAAX,CAA4BjB,OAArI;;AAA6I,QAAG6C,aAAH,EAAiB;AAAC,WAAKE,eAAL;AAAuB,KAAzC,MAA8C,IAAGH,UAAU,CAACI,SAAd,EAAwB;AAACzH,MAAAA,MAAM,CAAC0D,WAAP,CAAmB,iBAAnB,EAAsC,CAAtC,EAAyCW,MAAzC;AAAkDgD,MAAAA,UAAU,CAACI,SAAX,GAAqB,KAArB;AAA2B;;AAAA,QAAGF,uBAAH,EAA2B;AAAC,WAAKC,eAAL,CAAqBD,uBAArB;AAA8C,KAA1E,MAA+E,IAAGF,UAAU,CAACK,mBAAd,EAAkC;AAAC1H,MAAAA,MAAM,CAAC0D,WAAP,CAAmB,2BAAnB,EAAgD,CAAhD,EAAmDW,MAAnD;AAA4DgD,MAAAA,UAAU,CAACK,mBAAX,GAA+B,KAA/B;AAAqC;AAAC,GAAjiB;;AAAkiB9E,EAAAA,MAAM,CAACD,kBAAP,GAA0B,SAASA,kBAAT,GAA6B;AAAC,QAAIgF,iBAAiB,GAAC,KAAKpB,iBAAL,CAAuB,cAAvB,CAAtB;AAAA,QAA6DT,gBAAgB,GAAC,KAAK9E,UAAL,CAAgB,kBAAhB,CAA9E;AAAA,QAAkH+E,WAAW,GAAC,KAAKE,YAAL,CAAkB,aAAlB,CAA9H;AAAA,QAA+J2B,YAA/J;AAAA,QAA4KpC,OAAO,GAAC,CAAC,GAAEzJ,IAAI,CAAC8L,WAAR,EAAqB,KAAKzH,MAAL,CAAYoF,OAAjC,EAAyC,CAAzC,CAApL;AAAA,QAAgOsC,OAAO,GAACtC,OAAO,GAAC,EAAhP;AAAA,QAAmPuC,QAAQ,GAACzI,QAA5P;AAAA,QAAqQ0I,KAAK,GAACrJ,OAAO,CAAC,KAAKyB,MAAL,CAAYkB,MAAZ,GAAmBkE,OAApB,EAA4B,CAA5B,CAAlR;AAAA,QAAiTyC,KAAK,GAACtJ,OAAO,CAAC,KAAKyB,MAAL,CAAYiB,KAAZ,GAAkBmE,OAAnB,EAA2B,CAA3B,CAA9T;AAAA,QAA4V0C,QAAQ,GAAChJ,KAAK,IAAE,KAAKkB,MAAL,CAAYsF,gBAAZ,CAA6BjB,OAA7B,GAAqCwD,KAArC,GAA2C,KAAK7H,MAAL,CAAYiB,KAAzD,CAAL,GAAqEnC,KAArE,IAA4E,KAAKkB,MAAL,CAAYqF,MAAZ,CAAmBhB,OAAnB,GAA2BuD,KAA3B,GAAiC,KAAK5H,MAAL,CAAYkB,MAAzH,CAArW;;AAAse,QAAG,KAAKlB,MAAL,CAAYsF,gBAAZ,CAA6BjB,OAAhC,EAAwC;AAACmD,MAAAA,YAAY,GAAC,KAAKO,iBAAL,CAAuB,cAAvB,EAAsCrC,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,QAAAA,EAAE,EAACwB,iBAAiB,IAAEA,iBAAiB,CAAC,CAAD,CAAjB,KAAuB,IAA1C,GAA+CA,iBAA/C,GAAiE,OAArE;AAA6EvB,QAAAA,IAAI,EAAC;AAACxE,UAAAA,IAAI,EAAC,cAAN;AAAqByE,UAAAA,SAAS,EAAC,CAAC,GAAD,EAAK,CAAL,EAAO,KAAKjG,MAAL,CAAY2E,OAAZ,IAAqB,CAA5B;AAA/B,SAAlF;AAAiJuB,QAAAA,SAAS,EAACP,WAA3J;AAAuKS,QAAAA,SAAS,EAAC;AAAjL,OAA9B,CAAtC,CAAb;;AAA0Q,UAAG,KAAKpG,MAAL,CAAYqF,MAAZ,CAAmBhB,OAAtB,EAA8B;AAACmD,QAAAA,YAAY,CAACxB,IAAb,CAAkB;AAAC,uBAAY2B,QAAQ,GAACD,OAAT,GAAiBI;AAA9B,SAAlB;AAA2D,OAA1F,MAA8F;AAACN,QAAAA,YAAY,CAACxB,IAAb,CAAkB;AAAC,uBAAY;AAAb,SAAlB;AAAsC;AAAC,KAAzb,MAA8b,IAAGuB,iBAAH,EAAqB;AAACA,MAAAA,iBAAiB,CAACtD,MAAlB;AAA2B;AAAC,GAA9gC;;AAA+gCzB,EAAAA,MAAM,CAACF,eAAP,GAAuB,SAASA,eAAT,GAA0B;AAAC,QAAI1C,MAAM,GAAC,IAAX;AAAA,QAAgB8F,gBAAgB,GAAC9F,MAAM,CAACgB,UAAP,CAAkB,kBAAlB,CAAjC;AAAA,QAAuE+E,WAAW,GAAC/F,MAAM,CAACiG,YAAP,CAAoB,aAApB,CAAnF;AAAA,QAAsHmC,SAAtH;AAAA,QAAgIC,cAAc,GAACrI,MAAM,CAACuG,iBAAP,CAAyB,WAAzB,CAA/I;AAAA,QAAqLf,OAAO,GAAC,CAAC,GAAEzJ,IAAI,CAAC8L,WAAR,EAAqB7H,MAAM,CAACI,MAAP,CAAcoF,OAAnC,EAA2C,CAA3C,CAA7L;AAAA,QAA2OsC,OAAO,GAACtC,OAAO,GAAC,EAA3P;AAAA,QAA8PuC,QAAQ,GAACzI,QAAvQ;AAAA,QAAgR0I,KAAK,GAACrJ,OAAO,CAACqB,MAAM,CAACI,MAAP,CAAckB,MAAd,GAAqBkE,OAAtB,EAA8B,CAA9B,CAA7R;AAAA,QAA8TyC,KAAK,GAACtJ,OAAO,CAACqB,MAAM,CAACI,MAAP,CAAciB,KAAd,GAAoBmE,OAArB,EAA6B,CAA7B,CAA3U;AAAA,QAA2W0C,QAAQ,GAAChJ,KAAK,IAAEc,MAAM,CAACI,MAAP,CAAcsF,gBAAd,CAA+BjB,OAA/B,GAAuCwD,KAAvC,GAA6CjI,MAAM,CAACI,MAAP,CAAciB,KAA7D,CAAL,GAAyEnC,KAAzE,IAAgFc,MAAM,CAACI,MAAP,CAAcqF,MAAd,CAAqBhB,OAArB,GAA6BuD,KAA7B,GAAmChI,MAAM,CAACI,MAAP,CAAckB,MAAjI,CAApX;AAA6f8G,IAAAA,SAAS,GAACtC,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,MAAAA,EAAE,EAACkC,cAAc,IAAE,OAApB;AAA4BjC,MAAAA,IAAI,EAAC;AAACxE,QAAAA,IAAI,EAAC,MAAN;AAAayE,QAAAA,SAAS,EAAC,CAAC,GAAD,EAAKrG,MAAM,CAACI,MAAP,CAAc4E,OAAd,IAAuB,CAA5B,EAA8BhF,MAAM,CAACI,MAAP,CAAc2E,OAAd,IAAuB,CAArD;AAAvB,OAAjC;AAAiHuB,MAAAA,SAAS,EAACP,WAA3H;AAAuIS,MAAAA,SAAS,EAACxG;AAAjJ,KAA9B,CAAV;;AAAkM,QAAG,CAACqI,cAAJ,EAAmB;AAACrI,MAAAA,MAAM,CAACmI,iBAAP,CAAyB,WAAzB,EAAqCC,SAArC;AAAgD;;AAAA,QAAGpI,MAAM,CAACI,MAAP,CAAcqF,MAAd,CAAqBhB,OAArB,IAA8BzE,MAAM,CAACI,MAAP,CAAcsF,gBAAd,CAA+BjB,OAAhE,EAAwE;AAAC2D,MAAAA,SAAS,CAAChC,IAAV,CAAe;AAAC,qBAAY2B,QAAQ,GAACD,OAAT,GAAiBI;AAA9B,OAAf;AAAwD,KAAjI,MAAqI;AAACE,MAAAA,SAAS,CAAChC,IAAV,CAAe;AAAC,qBAAY;AAAb,OAAf;AAAmC;;AAAA,WAAOgC,SAAP;AAAiB,GAA/+B;;AAAg/BxF,EAAAA,MAAM,CAACuE,iBAAP,GAAyB,SAASA,iBAAT,GAA4B;AAAC,QAAInH,MAAM,GAAC,IAAX;AAAA,QAAgB8F,gBAAgB,GAAC9F,MAAM,CAACgB,UAAP,CAAkB,kBAAlB,CAAjC;AAAA,QAAuEsH,gBAAgB,GAACtI,MAAM,CAACuG,iBAAP,CAAyB,aAAzB,CAAxF;AAAA,QAAgIR,WAAW,GAAC/F,MAAM,CAACiG,YAAP,CAAoB,aAApB,CAA5I;;AAA+K,QAAG,CAACjG,MAAM,CAACI,MAAP,CAAcqF,MAAd,CAAqBhB,OAArB,IAA8BzE,MAAM,CAACI,MAAP,CAAcsF,gBAAd,CAA+BjB,OAA9D,KAAwE,CAACzE,MAAM,CAAC4G,mBAAP,CAA2B,oBAA3B,CAA5E,EAA6H;AAAC5G,MAAAA,MAAM,CAACgH,mBAAP,CAA2B,oBAA3B,EAAgDlB,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,QAAAA,EAAE,EAACmC,gBAAgB,IAAE,OAAtB;AAA8BlC,QAAAA,IAAI,EAAC;AAACxE,UAAAA,IAAI,EAAC;AAAN,SAAnC;AAAwD0E,QAAAA,SAAS,EAACP,WAAlE;AAA8ES,QAAAA,SAAS,EAACxG,MAAxF;AAA+FuI,QAAAA,KAAK,EAAC;AAArG,OAA9B,CAAhD;AAAkM;AAAC,GAAtiB;;AAAuiB3F,EAAAA,MAAM,CAAC4E,eAAP,GAAuB,SAASA,eAAT,CAAyBgB,YAAzB,EAAsC;AAAC,QAAGA,YAAY,KAAG,KAAK,CAAvB,EAAyB;AAACA,MAAAA,YAAY,GAAC,KAAb;AAAmB;;AAAA,QAAIxI,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAACJ,MAAM,CAACI,MAA9B;AAAA,QAAqCqI,UAArC;AAAA,QAAgDC,SAAS,GAAC1I,MAAM,CAACgB,UAAP,CAAkB,cAAlB,CAA1D;AAAA,QAA4F2H,SAAS,GAACH,YAAY,GAAC,2BAAD,GAA6B,iBAA/I;AAAA,QAAiKI,eAAe,GAAC5I,MAAM,CAAC0D,WAAP,CAAmBiF,SAAnB,KAA+B3I,MAAM,CAAC0D,WAAP,CAAmBiF,SAAnB,EAA8B,CAA9B,CAAhN;AAAA,QAAiPzH,WAAW,GAACd,MAAM,CAACc,WAAP,IAAoB,CAAjR;AAAA,QAAmR2H,UAAU,GAAC3H,WAAW,GAAC,EAA1S;AAAA,QAA6SsE,OAAO,GAAC,CAAC,GAAEzJ,IAAI,CAAC8L,WAAR,EAAqBzH,MAAM,CAACoF,OAA5B,EAAoC,CAApC,CAArT;AAAA,QAA4VsD,YAA5V;AAAA,QAAyWd,KAAzW;AAAA,QAA+WC,KAA/W;AAAA,QAAqX5G,KAAK,GAACjB,MAAM,CAACiB,KAAlY;AAAA,QAAwYC,MAAM,GAAClB,MAAM,CAACkB,MAAtZ;AAAA,QAA6ZgE,CAA7Z;AAAA,QAA+ZC,CAA/Z;AAAA,QAAiawD,CAAja;AAAA,QAAmaC,CAAna;AAAqaP,IAAAA,UAAU,GAAC;AAACQ,MAAAA,IAAI,EAAC;AAACT,QAAAA,YAAY,EAACA;AAAd,OAAN;AAAkCU,MAAAA,OAAO,EAAC;AAACzD,QAAAA,MAAM,EAAC,SAASA,MAAT,CAAgB0D,GAAhB,EAAoB;AAAC/I,UAAAA,MAAM,CAACwE,aAAP,GAAqBuE,GAArB;;AAAyB,cAAGX,YAAH,EAAgB;AAACpI,YAAAA,MAAM,CAAC4E,OAAP,GAAe,CAACiD,KAAK,GAAC7H,MAAM,CAACgJ,UAAd,IAA0BD,GAAzC;AAA6C,WAA9D,MAAkE;AAAC/I,YAAAA,MAAM,CAAC2E,OAAP,GAAe,CAACiD,KAAK,GAAC5H,MAAM,CAACiJ,WAAd,IAA2BF,GAA1C;AAA8C;;AAAAnJ,UAAAA,MAAM,CAACuB,MAAP,CAAc,YAAd,EAA2BvB,MAAM,CAACyC,UAAlC,EAA6CpG,UAAU,CAACoF,YAAX,IAAyBpF,UAAU,CAACoF,YAAX,CAAwBC,IAA9F;AAAoG,SAA3Q;AAA4Q4H,QAAAA,SAAS,EAAC,SAASA,SAAT,CAAmB5I,CAAnB,EAAqB;AAACA,UAAAA,CAAC,CAAC6I,cAAF;AAAmB7I,UAAAA,CAAC,CAAC8I,eAAF;AAAoB;AAAnV;AAA1C,KAAX;;AAA2Y,QAAGd,SAAS,CAACe,mBAAb,EAAiC;AAAChB,MAAAA,UAAU,CAACQ,IAAX,CAAgBS,KAAhB,GAAsB,CAAC,GAAE3N,IAAI,CAAC4N,YAAR,EAAsBjB,SAAS,CAACe,mBAAhC,CAAtB;AAA2E;;AAAA,QAAG,CAACb,eAAJ,EAAoB;AAACA,MAAAA,eAAe,GAAC5I,MAAM,CAACiD,WAAP,CAAmB,IAAI9G,QAAQ,CAACyN,SAAb,EAAnB,EAA0CjB,SAA1C,CAAhB;;AAAqE,UAAGH,YAAH,EAAgB;AAAC,aAAKpI,MAAL,CAAYsH,mBAAZ,GAAgC,IAAhC;AAAqC,OAAtD,MAA0D;AAAC,aAAKtH,MAAL,CAAYqH,SAAZ,GAAsB,IAAtB;AAA2B;AAAC;;AAAAmB,IAAAA,eAAe,CAACiB,SAAhB,CAA0BpB,UAAU,CAACQ,IAArC;AAA2CL,IAAAA,eAAe,CAACkB,mBAAhB,CAAoCrB,UAAU,CAACS,OAA/C;AAAwDJ,IAAAA,YAAY,GAACF,eAAe,CAACxI,MAA7B;;AAAoC,QAAGoI,YAAH,EAAgB;AAAClD,MAAAA,CAAC,GAACuD,UAAF;AAAatD,MAAAA,CAAC,GAACjE,MAAM,GAACsH,eAAe,CAACmB,eAAhB,GAAkCzI,MAAzC,GAAgDJ,WAAhD,GAA4DsE,OAAO,GAAC,EAAtE;AAAyEwD,MAAAA,CAAC,GAAC3H,KAAK,GAACH,WAAR;;AAAoB,UAAG,KAAKd,MAAL,CAAYqF,MAAZ,CAAmBhB,OAAnB,IAA4B,KAAKrE,MAAL,CAAYsF,gBAAZ,CAA6BjB,OAA5D,EAAoE;AAACuE,QAAAA,CAAC,IAAE,EAAH;AAAM;;AAAAA,MAAAA,CAAC,GAACrK,OAAO,CAACqK,CAAD,EAAG,CAAH,CAAT;AAAef,MAAAA,KAAK,GAACtJ,OAAO,CAAC0C,KAAK,GAACmE,OAAP,EAAe,CAAf,CAAb;AAA+BsD,MAAAA,YAAY,CAACkB,WAAb,GAAyB,CAAC/B,KAAK,GAACzC,OAAP,IAAgBpF,MAAM,CAACgJ,UAAhD;AAA2D,KAA/S,MAAmT;AAACpB,MAAAA,KAAK,GAACrJ,OAAO,CAAC2C,MAAM,GAACkE,OAAR,EAAgB,CAAhB,CAAb;AAAgCF,MAAAA,CAAC,GAACjE,KAAK,GAACuH,eAAe,CAACmB,eAAhB,GAAkC1I,KAAxC,GAA8CH,WAA9C,GAA0DsE,OAAO,GAAC,EAApE;AAAuED,MAAAA,CAAC,GAACsD,UAAF;AAAaE,MAAAA,CAAC,GAACzH,MAAM,GAACJ,WAAT;;AAAqB,UAAG,KAAKd,MAAL,CAAYqF,MAAZ,CAAmBhB,OAAnB,IAA4B,KAAKrE,MAAL,CAAYsF,gBAAZ,CAA6BjB,OAA5D,EAAoE;AAACsE,QAAAA,CAAC,IAAE,EAAH;AAAM;;AAAAA,MAAAA,CAAC,GAACpK,OAAO,CAACoK,CAAD,EAAG,CAAH,CAAT;AAAeD,MAAAA,YAAY,CAACkB,WAAb,GAAyB,CAAChC,KAAK,GAACxC,OAAP,IAAgBpF,MAAM,CAACiJ,WAAhD;AAA4D;;AAAAP,IAAAA,YAAY,CAACmB,YAAb,GAA0B,CAA1B;AAA4BnB,IAAAA,YAAY,CAACoB,cAAb,GAA4B9J,MAAM,CAACwE,aAAnC;AAAiDkE,IAAAA,YAAY,CAACqB,WAAb,GAAyBnK,MAAM,CAACuG,iBAAP,CAAyB,aAAzB,CAAzB;AAAiEqC,IAAAA,eAAe,CAACwB,YAAhB,CAA6B;AAAC9E,MAAAA,CAAC,EAACA,CAAH;AAAKC,MAAAA,CAAC,EAACA,CAAP;AAASjE,MAAAA,MAAM,EAACyH,CAAhB;AAAkB1H,MAAAA,KAAK,EAAC2H;AAAxB,KAA7B;AAAyD,GAA1lE;;AAA2lEpG,EAAAA,MAAM,CAACsE,WAAP,GAAmB,SAASA,WAAT,GAAsB;AAAC,QAAIlH,MAAM,GAAC,IAAX;AAAA,QAAgBqK,OAAO,GAACrK,MAAM,CAAC4G,mBAAP,CAA2B,SAA3B,CAAxB;AAAA,QAA8DwB,SAAS,GAACpI,MAAM,CAACI,MAAP,CAAcsF,gBAAd,CAA+BjB,OAA/B,GAAuCzE,MAAM,CAACuG,iBAAP,CAAyB,cAAzB,CAAvC,GAAgFvG,MAAM,CAACuG,iBAAP,CAAyB,WAAzB,CAAxJ;AAAA,QAA8LT,gBAAgB,GAAC,KAAK9E,UAAL,CAAgB,kBAAhB,CAA/M;AAAA,QAAmPZ,MAAM,GAAC,KAAKA,MAA/P;AAAA,QAAsQkK,OAAtQ;AAAA,QAA8QC,UAA9Q;AAAA,QAAyRC,QAAzR;AAAA,QAAkShF,OAAO,GAAC,CAAC,GAAEzJ,IAAI,CAAC8L,WAAR,EAAqBzH,MAAM,CAACoF,OAA5B,EAAoC,CAApC,CAA1S;AAAA,QAAiViF,UAAjV;AAAA,QAA4VnD,aAAa,GAAClH,MAAM,CAACqF,MAAP,CAAchB,OAAxX;AAAA,QAAgYiG,cAAc,GAAC,EAA/Y;AAAA,QAAkZrJ,KAAK,GAACjB,MAAM,CAACiB,KAA/Z;;AAAqa,QAAGjB,MAAM,CAAC+E,KAAP,IAAc/E,MAAM,CAAC+E,KAAP,CAAaC,IAAb,KAAoBrJ,IAAI,CAACsJ,WAAvC,IAAoDjF,MAAM,CAACuK,eAA9D,EAA8E;AAAC,cAAOvK,MAAM,CAAC+E,KAAP,CAAayF,KAApB;AAA2B,aAAK7O,IAAI,CAACmC,cAAV;AAAyBsM,UAAAA,QAAQ,GAAChF,OAAT;AAAiB;;AAAM,aAAKzJ,IAAI,CAACqC,YAAV;AAAuBoM,UAAAA,QAAQ,GAACnJ,KAAK,GAACmE,OAAN,IAAe8B,aAAa,GAACoD,cAAD,GAAgB,CAA5C,CAAT;AAAwD;;AAAM;AAAQF,UAAAA,QAAQ,GAACnJ,KAAK,GAAC,EAAf;AAAxK;;AAA0LkJ,MAAAA,UAAU,GAACnK,MAAM,CAAC+E,KAAP,CAAa0F,KAAxB;AAA8BP,MAAAA,OAAO,GAAC;AAAClF,QAAAA,IAAI,EAAChF,MAAM,CAAC+E,KAAP,CAAaC,IAAnB;AAAwBD,QAAAA,KAAK,EAAC/E,MAAM,CAAC+E,KAAP,CAAa2F,YAAb,IAA2B/O,IAAI,CAACsJ,WAA9D;AAA0EC,QAAAA,CAAC,EAACkF,QAA5E;AAAqFjF,QAAAA,CAAC,EAACC,OAAvF;AAA+FtD,QAAAA,IAAI,EAAC9B,MAAM,CAAC+E,KAAP,CAAa0F,KAAb,CAAmBnB,KAAvH;AAA6HqB,QAAAA,SAAS,EAAC3K,MAAM,CAAC4K,aAA9I;AAA4J,uBAAcT,UAAU,CAACU,UAArL;AAAgM,0BAAiBlP,IAAI,CAACmP,YAAtN;AAAmO,uBAAc9K,MAAM,CAAC+E,KAAP,CAAayF,KAA9P;AAAoQO,QAAAA,OAAO,EAAC;AAA5Q,OAAR;AAAuRV,MAAAA,UAAU,GAAC;AAAC,uBAAcF,UAAU,CAAC3K,UAA1B;AAAqC,sBAAa2K,UAAU,CAAC1K,SAA7D;AAAuE,uBAAc0K,UAAU,CAACa,UAAhG;AAA2G,qBAAYb,UAAU,CAACc;AAAlI,OAAX;AAAuJhB,MAAAA,OAAO,IAAEA,OAAO,CAACiB,IAAR,EAAT;;AAAwB,UAAG,CAACjB,OAAD,IAAU,CAACA,OAAO,CAAC,CAAD,CAArB,EAAyB;AAACA,QAAAA,OAAO,GAACvE,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,UAAAA,EAAE,EAAC,MAAJ;AAAWC,UAAAA,IAAI,EAACkE,OAAhB;AAAwB9D,UAAAA,SAAS,EAACxG,MAAlC;AAAyCsG,UAAAA,SAAS,EAAC8B,SAAnD;AAA6DmD,UAAAA,GAAG,EAACd;AAAjE,SAA9B,CAAR;AAAoHJ,QAAAA,OAAO,GAAC,KAAKrD,mBAAL,CAAyB,SAAzB,EAAmCqD,OAAnC,CAAR;AAAoD,OAAlM,MAAsM;AAACvE,QAAAA,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,UAAAA,EAAE,EAACkE,OAAJ;AAAYjE,UAAAA,IAAI,EAACkE,OAAjB;AAAyB9D,UAAAA,SAAS,EAACxG,MAAnC;AAA0CsG,UAAAA,SAAS,EAAC8B,SAApD;AAA8DmD,UAAAA,GAAG,EAACd;AAAlE,SAA9B;AAA6G;;AAAAzK,MAAAA,MAAM,CAACgB,UAAP,CAAkB,mBAAlB,EAAuCwK,aAAvC,CAAqDnB,OAArD,EAA6DjK,MAAM,CAAC+E,KAAP,CAAa2F,YAA1E;AAAwF,KAAznC,MAA6nC;AAAC,UAAGT,OAAH,EAAW;AAACvE,QAAAA,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,UAAAA,EAAE,EAACkE,OAAJ;AAAY7D,UAAAA,SAAS,EAACxG,MAAtB;AAA6ByL,UAAAA,WAAW,EAAC,IAAzC;AAA8CC,UAAAA,QAAQ,EAAC,SAASA,QAAT,GAAmB;AAACrB,YAAAA,OAAO,CAACsB,IAAR;AAAe;AAA1F,SAA9B;AAA2H;AAAC;AAAC,GAAttD;;AAAutD/I,EAAAA,MAAM,CAACqE,aAAP,GAAqB,SAASA,aAAT,GAAwB;AAAC,QAAIjH,MAAM,GAAC,IAAX;AAAA,QAAgB8F,gBAAgB,GAAC,KAAK9E,UAAL,CAAgB,kBAAhB,CAAjC;AAAA,QAAqEZ,MAAM,GAACJ,MAAM,CAACI,MAAnF;AAAA,QAA0FwL,GAA1F;AAAA,QAA8F7F,WAAW,GAAC/F,MAAM,CAACiG,YAAP,CAAoB,aAApB,CAA1G;AAAA,QAA6I5E,KAAK,GAACjB,MAAM,CAACiB,KAA1J;AAAA,QAAgKwK,QAAQ,GAAC7L,MAAM,CAAC4G,mBAAP,CAA2B,KAA3B,CAAzK;AAAA,QAA2MtF,MAAM,GAAClB,MAAM,CAACkB,MAAzN;AAAA,QAAgOwK,CAAC,GAAC1L,MAAM,CAACuE,YAAzO;AAAA,QAAsPM,eAAe,GAAC7E,MAAM,CAAC6E,eAA7Q;AAAA,QAA6R8G,WAAW,GAAC3L,MAAM,CAAC2L,WAAhT;AAAA,QAA4TC,WAAW,GAAC5L,MAAM,CAAC4L,WAA/U;AAAA,QAA2VC,eAAe,GAAC7L,MAAM,CAAC6L,eAAlX;AAAA,QAAkY/K,WAAW,GAACd,MAAM,CAACc,WAAP,IAAoB,CAAla;AAAoa0K,IAAAA,GAAG,GAAC9F,gBAAgB,CAACI,YAAjB,CAA8B;AAACC,MAAAA,EAAE,EAAC0F,QAAQ,IAAE,MAAd;AAAqBzF,MAAAA,IAAI,EAAC;AAACd,QAAAA,CAAC,EAAC,CAAH;AAAKC,QAAAA,CAAC,EAAC,CAAP;AAASlE,QAAAA,KAAK,EAACA,KAAf;AAAqBC,QAAAA,MAAM,EAACA,MAA5B;AAAmCwK,QAAAA,CAAC,EAACA,CAArC;AAAuC/E,QAAAA,MAAM,EAACgF,WAA9C;AAA0D,wBAAe7K,WAAzE;AAAqFgB,QAAAA,IAAI,EAAC+C,eAAe,IAAE9F,IAA3G;AAAgH,0BAAiB6M,WAAW,GAAC,GAA7I;AAAiJ,wBAAeC,eAAe,GAAC,GAAhL;AAAoLC,QAAAA,MAAM,EAAC9L,MAAM,CAAC+L,eAAP,GAAuB,MAAvB,GAA8B;AAAzN,OAA1B;AAA8P7F,MAAAA,SAAS,EAACP,WAAxQ;AAAoRS,MAAAA,SAAS,EAACxG,MAA9R;AAAqSuI,MAAAA,KAAK,EAAC;AAA3S,KAA9B,CAAJ;;AAA6V,QAAG,CAACsD,QAAJ,EAAa;AAAC7L,MAAAA,MAAM,CAACgH,mBAAP,CAA2B,KAA3B,EAAiC4E,GAAjC;AAAsCA,MAAAA,GAAG,CAACQ,MAAJ,CAAWhM,MAAM,CAACgM,MAAlB;AAA0B;;AAAA,WAAOR,GAAP;AAAW,GAAx4B;;AAAy4BhJ,EAAAA,MAAM,CAACyJ,qBAAP,GAA6B,SAASA,qBAAT,CAA+B9G,CAA/B,EAAiC;AAAC,QAAIvF,MAAM,GAAC,IAAX;AAAA,QAAgB6F,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtB;AAAA,QAAiDD,WAAW,GAAC8E,KAAK,CAACzF,MAAnE;AAAA,QAA0EI,IAAI,GAAC+E,CAA/E;AAAA,QAAiF8E,OAAO,GAACxE,KAAK,CAACnC,WAAN,CAAkB,SAAlB,KAA8BmC,KAAK,CAACnC,WAAN,CAAkB,SAAlB,EAA6B,CAA7B,CAAvH;AAAA,QAAuJ4I,UAAU,GAACzG,KAAK,CAACnC,WAAN,CAAkB,YAAlB,KAAiCmC,KAAK,CAACnC,WAAN,CAAkB,YAAlB,EAAgC,CAAhC,CAAnM;AAAA,QAAsO6I,OAAO,GAAC1G,KAAK,CAACnC,WAAN,CAAkB,cAAlB,KAAmCmC,KAAK,CAACnC,WAAN,CAAkB,cAAlB,EAAkC,CAAlC,CAAjR;AAAA,QAAsT8I,YAAY,GAACzL,WAAW,CAAC0L,WAA/U;;AAA2V,QAAG,CAAC1L,WAAW,CAAC2L,QAAb,IAAuBH,OAAvB,IAAgCA,OAAO,CAACI,KAAxC,IAA+CJ,OAAO,CAACI,KAAR,CAAcrL,MAAhE,EAAuE;AAAC,UAAG,EAAEkL,YAAY,GAACD,OAAO,CAACI,KAAR,CAAcrL,MAAd,GAAqBiL,OAAO,CAACI,KAAR,CAAcpH,CAAlD,CAAH,EAAwD;AAAC/E,QAAAA,IAAI,GAAC+L,OAAO,CAACI,KAAR,CAAcpH,CAAd,GAAgBgH,OAAO,CAACI,KAAR,CAAcrL,MAAnC;AAA0C;AAAC;;AAAA,QAAG+I,OAAO,IAAEA,OAAO,CAACjK,MAAjB,IAAyBiK,OAAO,CAACjK,MAAR,CAAegF,IAAxC,IAA8CiF,OAAO,CAACjK,MAAR,CAAegF,IAAf,KAAsBrJ,IAAI,CAACsJ,WAAzE,IAAsFgF,OAAO,CAACjK,MAAR,CAAekB,MAArG,IAA6G+I,OAAO,CAACjK,MAAR,CAAewM,OAAf,KAAyB,CAAzI,EAA2I;AAACpM,MAAAA,IAAI,GAAC6J,OAAO,CAACjK,MAAR,CAAekB,MAAf,GAAsB+I,OAAO,CAACjK,MAAR,CAAemF,CAArC,GAAuC8E,OAAO,CAACjK,MAAR,CAAeyM,cAA3D;AAA0E;;AAAA,QAAGP,UAAU,IAAEA,UAAU,CAAClM,MAAvB,IAA+BkM,UAAU,CAAClM,MAAX,CAAkBkB,MAAjD,IAAyDgL,UAAU,CAAClM,MAAX,CAAkBwM,OAAlB,KAA4B,CAAxF,EAA0F;AAACpM,MAAAA,IAAI,GAAC8L,UAAU,CAAClM,MAAX,CAAkBmF,CAAlB,GAAoB+G,UAAU,CAAClM,MAAX,CAAkBkB,MAAtC,IAA8C+I,OAAO,IAAEA,OAAO,CAACjK,MAAjB,IAAyBiK,OAAO,CAACjK,MAAR,CAAeyM,cAAxC,IAAwD,CAAtG,CAAL;AAA8G;;AAAA,WAAOlO,OAAO,CAAC6B,IAAD,EAAM+E,CAAN,CAAd;AAAuB,GAA5/B;;AAA6/B3C,EAAAA,MAAM,CAACkK,WAAP,GAAmB,SAASA,WAAT,GAAsB;AAAC,QAAI9M,MAAM,GAAC,IAAX;AAAA,QAAgB6F,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtB;AAAA,QAAiDD,WAAW,GAAC8E,KAAK,CAACzF,MAAnE;AAAA,QAA0EE,IAA1E;AAAA,QAA+EE,IAA/E;AAAA,QAAoFuM,IAApF;AAAA,QAAyFC,IAAzF;AAAA,QAA8F5M,MAAM,GAACJ,MAAM,CAACI,MAA5G;AAAA,QAAmH6M,MAAM,GAACpH,KAAK,CAACnC,WAAN,CAAkB,QAAlB,CAA1H;AAAA,QAAsJwJ,YAAY,GAACD,MAAM,IAAEA,MAAM,CAACzP,MAAP,GAAc,CAAtB,GAAwBuD,WAAW,CAACO,MAAZ,GAAmB2L,MAAM,CAAC,CAAD,CAAN,CAAU7M,MAAV,CAAiB8M,YAA5D,GAAyEnM,WAAW,CAACO,MAAZ,GAAmBP,WAAW,CAACmM,YAA3Q;AAAA,QAAwRC,UAAU,GAACpM,WAAW,CAACoM,UAA/S;AAAA,QAA0TC,WAAW,GAACrM,WAAW,CAACqM,WAAlV;AAAA,QAA8VC,WAAW,GAACtM,WAAW,CAACsM,WAAtX;AAAA,QAAkYC,UAAU,GAAClN,MAAM,CAACmN,eAAP,IAAwB,CAAra;AAAA,QAAuaC,WAAW,GAACpN,MAAM,CAACqN,gBAAP,IAAyB,CAA5c;AAAA,QAA8cC,SAAS,GAACtN,MAAM,CAACuN,cAAP,IAAuB,CAA/e;AAAA,QAAifC,YAAY,GAACxN,MAAM,CAACyN,iBAAP,IAA0B,CAAxhB;AAAA,QAA0hBC,eAAe,GAAC/M,WAAW,CAAC+M,eAAZ,IAA6B,CAAvkB;AAAA,QAAykBC,gBAAgB,GAAC3N,MAAM,CAAC4N,sBAAP,IAA+B,CAAznB;AAAA,QAA2nBC,eAAe,GAAClN,WAAW,CAACmN,qBAAZ,IAAmC,CAA9qB;AAAA,QAAgrBC,kBAAkB,GAACpN,WAAW,CAACqN,wBAAZ,IAAsC,CAAzuB;AAAA,QAA2uBC,iBAAiB,GAACtN,WAAW,CAACuN,uBAAZ,IAAqC,CAAlyB;AAAA,QAAoyBC,qBAAqB,GAACnO,MAAM,CAACmO,qBAAj0B;AAAA,QAAu1BC,WAAW,GAACzN,WAAW,CAACO,MAA/2B;AAAA,QAAs3BmN,SAAS,GAAC1N,WAAW,CAAC0N,SAA54B;AAAA,QAAs5BpN,KAAK,GAACjB,MAAM,CAACiB,KAAP,IAAc,CAA16B;AAAA,QAA46BC,MAAM,GAAClB,MAAM,CAACkB,MAAP,IAAe,CAAl8B;AAAA,QAAo8BoN,gBAAgB,GAAC3N,WAAW,CAACG,WAAj+B;AAAA,QAA6+ByN,aAAa,GAAC5N,WAAW,CAAC4N,aAAvgC;AAAA,QAAqhCC,cAAc,GAAC7N,WAAW,CAAC6N,cAAhjC;AAAA,QAA+jCpC,YAAY,GAACzL,WAAW,CAAC0L,WAAxlC;AAAA,QAAomCoC,eAAe,GAAC9N,WAAW,CAAC+N,cAAhoC;AAAA,QAA+oCC,QAAQ,GAAC,CAAxpC;AAAA,QAA0pCC,WAAW,GAAC,CAAtqC;AAAA,QAAwqCC,KAAxqC;AAAA,QAA8qCC,MAA9qC;AAAA,QAAqrCC,gBAArrC;AAAA,QAAssCC,cAAtsC;AAAA,QAAqtClO,WAAW,GAACd,MAAM,CAACc,WAAP,IAAoB,CAArvC;AAAA,QAAuvCmO,UAAvvC;AAAA,QAAkwCC,SAAS,GAAClP,MAAM,CAACkP,SAAP,GAAiBlP,MAAM,CAACkP,SAAP,CAAiBC,KAAjB,CAAuB,GAAvB,CAAjB,GAA6C,EAAzzC;AAAA,QAA4zClF,OAAO,GAACxE,KAAK,CAACnC,WAAN,CAAkB,SAAlB,KAA8BmC,KAAK,CAACnC,WAAN,CAAkB,SAAlB,EAA6B,CAA7B,CAAl2C;AAAA,QAAk4C4I,UAAU,GAACzG,KAAK,CAACnC,WAAN,CAAkB,YAAlB,KAAiCmC,KAAK,CAACnC,WAAN,CAAkB,YAAlB,EAAgC,CAAhC,CAA96C;AAAA,QAAi9C8L,QAAj9C;;AAA09C,QAAGF,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC0T,aAApB,IAAmCH,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC2T,cAA1D,EAAyE;AAACtP,MAAAA,MAAM,CAACwK,KAAP,GAAa0E,SAAS,CAAC,CAAD,CAAtB;AAA0BlP,MAAAA,MAAM,CAACuP,aAAP,GAAqB5T,IAAI,CAACuC,eAA1B;AAA0C+Q,MAAAA,UAAU,GAACjP,MAAM,CAACwP,MAAP,GAAc,UAAzB;AAAoC;;AAAA,QAAGN,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC8T,iBAAvB,EAAyC;AAACvP,MAAAA,IAAI,GAACF,MAAM,CAAC0P,eAAZ;AAA4BtP,MAAAA,IAAI,GAACJ,MAAM,CAAC2P,eAAZ;AAA4BhD,MAAAA,IAAI,GAAChM,WAAW,CAACM,KAAZ,GAAkBA,KAAlB,GAAwBqN,gBAA7B;AAA8C1B,MAAAA,IAAI,GAACjM,WAAW,CAACO,MAAZ,GAAmBA,MAAnB,GAA0BoN,gBAA/B;;AAAgD,UAAGpO,IAAI,GAACyM,IAAR,EAAa;AAACzM,QAAAA,IAAI,GAACyM,IAAL;AAAU;;AAAA,UAAGvM,IAAI,GAACwM,IAAR,EAAa;AAACxM,QAAAA,IAAI,GAACwM,IAAL;AAAU;AAAC,KAAjP,MAAsP,IAAGqC,UAAH,EAAc;AAAC,UAAGC,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC0T,aAAvB,EAAqC;AAACnP,QAAAA,IAAI,GAACgN,UAAU,GAACS,gBAAX,GAA4BW,gBAAjC;AAAkD,OAAxF,MAA6F,IAAGY,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC2T,cAAvB,EAAsC;AAACpP,QAAAA,IAAI,GAACS,WAAW,CAACM,KAAZ,GAAkBmM,WAAlB,GAA8Ba,iBAA9B,GAAgDhN,KAAhD,GAAsDqN,gBAA3D;AAA4E;;AAAAK,MAAAA,QAAQ,GAAC,CAAC,GAAEhT,IAAI,CAAC8L,WAAR,EAAqB2E,YAArB,EAAkCiC,SAAlC,CAAT;AAAsDO,MAAAA,WAAW,GAAC,CAAC,GAAEjT,IAAI,CAAC8L,WAAR,EAAqBgH,eAArB,EAAqC3B,YAArC,CAAZ;;AAA+D,UAAGoC,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAACmP,YAAvB,EAAoC;AAAC1K,QAAAA,IAAI,GAACuO,QAAQ,IAAE3O,MAAM,CAACmF,CAAP,IAAU,CAAZ,CAAb;AAA4B/E,QAAAA,IAAI,GAAC,KAAK6L,qBAAL,CAA2B7L,IAA3B,CAAL;AAAsC,OAAvG,MAA4G,IAAG8O,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAACiU,eAAvB,EAAuC;AAACxP,QAAAA,IAAI,GAACgO,WAAW,GAACQ,WAAZ,GAAwB1N,MAAxB,IAAgClB,MAAM,CAACmF,CAAP,IAAU,CAA1C,CAAL;AAAkDiK,QAAAA,QAAQ,GAACR,WAAW,IAAEN,gBAAgB,GAACd,YAAjB,GAA8BE,eAA9B,IAA+CzD,OAAO,IAAEA,OAAO,CAACjK,MAAR,CAAewM,OAAf,KAAyB,CAAlC,IAAqCvC,OAAO,CAACjK,MAAR,CAAekB,MAApD,GAA2D+I,OAAO,CAACjK,MAAR,CAAekB,MAAf,GAAsB+I,OAAO,CAACjK,MAAR,CAAeyM,cAAhG,GAA+G,CAA9J,KAAkKP,UAAU,IAAEjC,OAAO,CAACjK,MAAR,CAAewM,OAAf,KAAyB,CAArC,GAAuCN,UAAU,CAAClM,MAAX,CAAkBkB,MAAzD,GAAgE,CAAlO,CAAF,CAApB;;AAA4P,YAAGkO,QAAQ,GAAC,CAAZ,EAAc;AAAChP,UAAAA,IAAI,IAAEgP,QAAN;AAAe;AAAC,OAArX,MAAyX;AAAChP,QAAAA,IAAI,GAACuO,QAAQ,GAAC,CAACP,WAAW,GAACQ,WAAZ,GAAwBD,QAAxB,GAAiCzN,MAAlC,IAA0C,EAAnD,IAAuDlB,MAAM,CAACmF,CAAP,IAAU,CAAjE,CAAL;AAAyE;AAAC,KAAp4B,MAAw4B;AAAC4J,MAAAA,gBAAgB,GAACpO,WAAW,CAACM,KAAZ,IAAmBiM,UAAU,GAACS,gBAAX,IAA6BP,WAAW,GAACa,iBAAzC,CAAnB,CAAjB;AAAiGe,MAAAA,cAAc,GAACb,qBAAqB,GAAClB,WAAW,GAAChM,KAAb,GAAmB8N,gBAAgB,GAAC9N,KAAxE;AAA8E4N,MAAAA,KAAK,GAACV,qBAAqB,GAAC,CAAC,GAAExS,IAAI,CAAC8L,WAAR,EAAqB8G,aAArB,EAAmCxB,UAAnC,CAAD,GAAgDG,UAAU,GAACS,gBAAtF;AAAuGmB,MAAAA,MAAM,GAACX,qBAAqB,GAACxN,WAAW,CAACM,KAAZ,GAAkB,CAAC,GAAEtF,IAAI,CAAC8L,WAAR,EAAqB+G,cAArB,EAAoCxB,WAApC,CAAnB,GAAoEI,WAAW,GAACa,iBAA5G;;AAA8H,UAAGiB,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC0T,aAAvB,EAAqC;AAACnP,QAAAA,IAAI,GAAC2O,KAAL;AAAW,OAAjD,MAAsD,IAAGK,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC2T,cAAvB,EAAsC;AAACpP,QAAAA,IAAI,GAACS,WAAW,CAACM,KAAZ,IAAmBA,KAAK,GAAC6N,MAAzB,CAAL;AAAsC,OAA7E,MAAiF;AAAC5O,QAAAA,IAAI,GAAC2O,KAAK,GAACG,cAAc,GAAC,CAA1B;AAA4B;;AAAA,UAAGE,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAACmP,YAAvB,EAAoC;AAAC1K,QAAAA,IAAI,GAACkN,SAAS,GAACO,eAAf;AAA+BzN,QAAAA,IAAI,GAAC,KAAK6L,qBAAL,CAA2B7L,IAA3B,CAAL;AAAsC,OAA1G,MAA8G;AAACA,QAAAA,IAAI,GAACgO,WAAW,GAAClN,MAAZ,GAAmB6M,kBAAnB,GAAsCP,YAAtC,GAAmDE,eAAxD;AAAwE;AAAC;;AAAA,WAAM,CAAC,GAAE/R,IAAI,CAACkU,UAAR,EAAoB3P,IAApB,EAAyBE,IAAzB,EAA8Ba,KAA9B,EAAoCC,MAApC,EAA2CJ,WAA3C,CAAN;AAA8D,GAAnmH;;AAAomH0B,EAAAA,MAAM,CAACsN,cAAP,GAAsB,SAASA,cAAT,CAAwB5K,CAAxB,EAA0BC,CAA1B,EAA4B;AAAC,QAAIvF,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAACJ,MAAM,CAACI,MAA9B;AAAqCA,IAAAA,MAAM,CAAC+P,WAAP,GAAmB7K,CAAnB;AAAqBlF,IAAAA,MAAM,CAACgQ,WAAP,GAAmB7K,CAAnB;AAAqBnF,IAAAA,MAAM,CAACiQ,SAAP,GAAiB,MAAI/K,CAAJ,GAAM,GAAN,GAAUC,CAA3B;AAA6B,GAA/J;;AAAgK3C,EAAAA,MAAM,CAAC0N,gBAAP,GAAwB,SAASA,gBAAT,GAA2B;AAAC,QAAItQ,MAAM,GAAC,IAAX;AAAA,QAAgBuQ,YAAY,GAACvQ,MAAM,CAACI,MAApC;AAAA,QAA2CoQ,GAA3C;;AAA+C,QAAGD,YAAY,CAACF,SAAhB,EAA0B;AAACG,MAAAA,GAAG,GAAC,CAAC,GAAEzU,IAAI,CAACkU,UAAR,EAAoBM,YAAY,CAACJ,WAAjC,EAA6CI,YAAY,CAACH,WAA1D,EAAsEG,YAAY,CAAClP,KAAnF,EAAyFkP,YAAY,CAACjP,MAAtG,EAA6GiP,YAAY,CAACrP,WAA1H,CAAJ;AAA2I,KAAtK,MAA0K;AAACsP,MAAAA,GAAG,GAACxQ,MAAM,CAAC8M,WAAP,EAAJ;AAAyB;;AAAAyD,IAAAA,YAAY,CAACjQ,IAAb,GAAkBkQ,GAAG,CAAClL,CAAtB;AAAwBiL,IAAAA,YAAY,CAAC/P,IAAb,GAAkBgQ,GAAG,CAACjL,CAAtB;AAAwBgL,IAAAA,YAAY,CAAClP,KAAb,GAAmBmP,GAAG,CAACnP,KAAvB;AAA6BkP,IAAAA,YAAY,CAACjP,MAAb,GAAoBkP,GAAG,CAAClP,MAAxB;AAA+B,GAAnZ;;AAAoZsB,EAAAA,MAAM,CAAC6N,qBAAP,GAA6B,SAASA,qBAAT,CAA+BC,aAA/B,EAA6C;AAAC,QAAI1Q,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAACJ,MAAM,CAACI,MAA9B;AAAA,QAAqCuQ,cAAc,GAACvQ,MAAM,CAACkP,SAAP,GAAiBlP,MAAM,CAACkP,SAAP,CAAiBC,KAAjB,CAAuB,GAAvB,CAAjB,GAA6C,EAAjG;AAAA,QAAoGqB,kBAApG;AAAA,QAAuHJ,GAAG,GAAC;AAACvS,MAAAA,IAAI,EAAC,CAAN;AAAQE,MAAAA,KAAK,EAAC,CAAd;AAAgB0S,MAAAA,GAAG,EAAC,CAApB;AAAsBC,MAAAA,MAAM,EAAC;AAA7B,KAA3H;AAA2J1Q,IAAAA,MAAM,CAACoF,OAAP,GAAe,CAAf;AAAiBpF,IAAAA,MAAM,CAAC0E,WAAP,GAAmB,CAAnB;;AAAqB,QAAG6L,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC8T,iBAA5B,EAA8C;AAACe,MAAAA,kBAAkB,GAAC5Q,MAAM,CAAC+Q,uBAAP,CAA+BL,aAA/B,EAA6C,EAA7C,CAAnB;AAAoE,KAAnH,MAAwH,IAAGC,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC0T,aAAzB,IAAwCkB,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC2T,cAApE,EAAmF;AAACkB,MAAAA,kBAAkB,GAAC5Q,MAAM,CAACgR,sBAAP,CAA8BN,aAA9B,CAAnB;AAAgE,KAApJ,MAAwJ;AAACE,MAAAA,kBAAkB,GAAC5Q,MAAM,CAAC+Q,uBAAP,CAA+BL,aAA/B,CAAnB;AAAiE;;AAAA,QAAGC,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC0T,aAA5B,EAA0C;AAACe,MAAAA,GAAG,CAACvS,IAAJ,GAAS2S,kBAAkB,IAAEA,kBAAkB,CAACzS,KAAvC,IAA8C,CAAvD;AAAyD,KAApG,MAAyG,IAAGwS,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC2T,cAA5B,EAA2C;AAACc,MAAAA,GAAG,CAACrS,KAAJ,GAAUyS,kBAAkB,IAAEA,kBAAkB,CAACzS,KAAvC,IAA8C,CAAxD;AAA0D,KAAtG,MAA2G,IAAGwS,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAACmP,YAA5B,EAAyC;AAACsF,MAAAA,GAAG,CAACK,GAAJ,GAAQD,kBAAkB,IAAEA,kBAAkB,CAACE,MAAvC,IAA+C,CAAvD;AAAyD,KAAnG,MAAwG,IAAGH,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC8T,iBAA5B,EAA8C;AAACW,MAAAA,GAAG,CAACM,MAAJ,GAAWF,kBAAkB,IAAEA,kBAAkB,CAACE,MAAvC,IAA+C,CAA1D;AAA4DN,MAAAA,GAAG,CAACrS,KAAJ,GAAUyS,kBAAkB,IAAEA,kBAAkB,CAACzS,KAAvC,IAA8C,CAAxD;AAA0D;;AAAA,WAAOqS,GAAP;AAAW,GAA1kC;;AAA2kC5N,EAAAA,MAAM,CAACwH,YAAP,GAAoB,SAASA,YAAT,CAAsBoG,GAAtB,EAA0B;AAAC,QAAIxQ,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAAC,KAAKA,MAA5B;AAAA,QAAmC6Q,OAAO,GAACjR,MAAM,CAAC2D,oBAAP,EAA3C;AAAA,QAAyEI,GAAG,GAACkN,OAAO,CAACzT,MAArF;AAAA,QAA4F0T,cAAc,GAACV,GAAG,CAACnP,KAA/G;AAAA,QAAqH8P,eAAe,GAACX,GAAG,CAAClP,MAAzI;AAAA,QAAgJ8P,gBAAgB,GAACD,eAAjK;AAAA,QAAiLE,UAAjL;AAAA,QAA4LC,UAA5L;AAAA,QAAuM1P,IAAvM;AAAA,QAA4M2P,IAA5M;AAAA,QAAiNC,QAAQ,GAAC,CAA1N;AAAA,QAA4NpI,UAAU,GAAC,CAAvO;AAAA,QAAyOqI,WAAW,GAAC,CAArP;AAAA,QAAuPC,YAAY,GAAC,CAApQ;AAAA,QAAsQC,YAAY,GAAC,CAAnR;AAAA,QAAqRC,SAAS,GAAC,CAA/R;AAAA,QAAiSC,mBAAmB,GAAC,CAArT;AAAA,QAAuTC,kBAAkB,GAAC,EAA1U;AAAA,QAA6UtM,OAAO,GAACpF,MAAM,CAACoF,OAA5V;AAAA,QAAoWV,WAAW,GAAC1E,MAAM,CAAC0E,WAAvX;AAAA,QAAmYiN,UAAU,GAAC/R,MAAM,CAACgB,UAAP,CAAkB,YAAlB,CAA9Y;AAAA,QAA8a2E,SAAS,GAAC3F,MAAM,CAACgS,iBAAP,CAAyB,SAAzB,CAAxb;AAAA,QAA4dC,cAAc,GAAC,KAAKC,eAAL,CAAqB9R,MAAM,CAAC+R,sBAA5B,CAA3e;AAAA,QAA+hBC,gBAAgB,GAACC,QAAQ,CAAC,CAAC,GAAEtW,IAAI,CAACuW,aAAR,EAAuB;AAACjH,MAAAA,QAAQ,EAAC4G,cAAc,GAAC5S;AAAzB,KAAvB,CAAD,EAA4D,EAA5D,CAAxjB;AAAA,QAAwnBkT,YAAY,GAACF,QAAQ,CAAC1M,SAAS,CAACP,IAAV,CAAe,WAAf,CAAD,EAA6B,EAA7B,CAAR,IAA0C,EAA/qB;AAAA,QAAkrBoN,YAAlrB;AAAA,QAA+rBC,SAA/rB;AAAA,QAAysBC,UAAzsB;AAAA,QAAotBC,SAAptB;AAAA,QAA8tBC,aAAa,GAACxS,MAAM,CAAC+E,KAAnvB;AAAA,QAAyvB0H,cAAc,GAAC+F,aAAa,CAACpN,OAAtxB;AAAA,QAA8xBqN,YAAY,GAAC,CAA3yB;AAAA,QAA6yBC,wBAAwB,GAAC1S,MAAM,CAAC0S,wBAA70B;AAAA,QAAs2BC,aAAa,GAAC3S,MAAM,CAAC2S,aAA33B;AAAA,QAAy4BC,WAAW,GAAC5S,MAAM,CAAC4S,WAA55B;AAAA,QAAw6BzE,qBAAqB,GAACnO,MAAM,CAACmO,qBAAr8B;AAAA,QAA29B0E,gBAAgB,GAAC7S,MAAM,CAAC8S,UAAn/B;AAAA,QAA8/BC,aAAa,GAAC/S,MAAM,CAACgT,OAAnhC;AAAA,QAA2hCC,aAAa,GAACjT,MAAM,CAACyE,gBAAhjC;AAAA,QAAikCyO,YAAjkC;AAAA,QAA8kCC,gBAA9kC;AAAA,QAA+lCC,UAA/lC;AAAA,QAA0mClW,CAA1mC;AAAA,QAA4mCmW,CAA5mC;AAAA,QAA8mCC,SAA9mC;AAAA,QAAwnCC,UAAU,GAACC,MAAM,CAACC,gBAA1oC;AAAA,QAA2pCC,MAA3pC;AAAA,QAAkqCC,QAAlqC;AAAA,QAA2qCC,YAA3qC;AAAA,QAAwrCC,WAAxrC;AAAA,QAAosCb,OAApsC;AAAA,QAA4sCzI,eAA5sC;AAAA,QAA4tCuJ,SAA5tC;AAAA,QAAsuCzO,MAAtuC;AAAA,QAA6uCC,gBAA7uC;AAAA,QAA8vCyO,sBAAsB,GAACjD,cAArxC;AAAA,QAAoyCkD,gBAApyC;AAAA,QAAqzCC,gBAAgB,GAAC,KAAt0C;AAAA,QAA40CC,yBAAyB,GAAC,CAAC,CAACnB,aAAx2C;AAAA,QAAs3CoB,SAAt3C;AAAA,QAAg4CC,YAAh4C;AAAA,QAA64CC,cAAc,GAAC,CAA55C;AAA85CjB,IAAAA,UAAU,GAAC;AAACnS,MAAAA,KAAK,EAAC,IAAEmE,OAAT;AAAiBlE,MAAAA,MAAM,EAAC,IAAEkE;AAA1B,KAAX;AAA8CxF,IAAAA,MAAM,CAAC0U,iBAAP,CAAyB,SAAzB,EAAmC;AAACtP,MAAAA,IAAI,EAAC;AAAClD,QAAAA,IAAI,EAACyD,SAAS,CAACP,IAAV,CAAelD,IAArB;AAA0B,uBAAcyD,SAAS,CAACP,IAAV,CAAe,aAAf,CAAxC;AAAsE8G,QAAAA,MAAM,EAACvG,SAAS,CAACP,IAAV,CAAe8G,MAA5F;AAAmG,qBAAY+F,cAA/G;AAA8H,uBAAcG,gBAA5I;AAA6J,0BAAiBrW,IAAI,CAACmP,YAAnL;AAAgM,uBAAcnP,IAAI,CAACmC,cAAnN;AAAkO6M,QAAAA,SAAS,EAACpF,SAAS,CAACP,IAAV,CAAe2F,SAA3P;AAAqQ,uBAAcpF,SAAS,CAACP,IAAV,CAAe,aAAf;AAAnR,OAAN;AAAwTuP,MAAAA,MAAM,EAAC;AAACC,QAAAA,OAAO,EAACjP,SAAS,CAACgP,MAAV,CAAiBC,OAA1B;AAAkC1I,QAAAA,MAAM,EAACvG,SAAS,CAACgP,MAAV,CAAiBzI,MAA1D;AAAiEH,QAAAA,WAAW,EAACpG,SAAS,CAACgP,MAAV,CAAiB5I,WAA9F;AAA0G8I,QAAAA,OAAO,EAAClP,SAAS,CAACgP,MAAV,CAAiBE,OAAnI;AAA2I7I,QAAAA,WAAW,EAACrG,SAAS,CAACgP,MAAV,CAAiB3I,WAAxK;AAAoL8I,QAAAA,eAAe,EAACnP,SAAS,CAACgP,MAAV,CAAiBG,eAArN;AAAqOC,QAAAA,UAAU,EAACpP,SAAS,CAACgP,MAAV,CAAiBI,UAAjQ;AAA4QC,QAAAA,KAAK,EAACrP,SAAS,CAACgP,MAAV,CAAiBK;AAAnS;AAA/T,KAAnC;AAA8oBzB,IAAAA,gBAAgB,GAAChB,YAAY,GAAC,CAA9B;;AAAgC,QAAGgB,gBAAgB,IAAE,CAArB,EAAuB;AAACA,MAAAA,gBAAgB,GAAC,CAAjB;AAAmB;;AAAArC,IAAAA,cAAc,GAAC1S,IAAI,CAACI,GAAL,CAASsS,cAAc,GAAC,IAAE1L,OAA1B,EAAkC,CAAlC,CAAf;AAAoD+N,IAAAA,gBAAgB,IAAEP,WAAlB;AAA8BK,IAAAA,aAAa,IAAEL,WAAf;AAA2BO,IAAAA,gBAAgB,GAAC9U,OAAO,CAAC8U,gBAAD,EAAkBrC,cAAlB,CAAxB;;AAA0D,QAAGqC,gBAAgB,IAAE,CAArB,EAAuB;AAACF,MAAAA,aAAa,GAACE,gBAAgB,GAAC,CAA/B;AAAiC;;AAAAnT,IAAAA,MAAM,CAACsE,WAAP,GAAmB6O,gBAAnB;AAAoCnT,IAAAA,MAAM,CAAC0E,WAAP,GAAmB,CAAnB;AAAqB1E,IAAAA,MAAM,CAACkT,YAAP,GAAoBA,YAAY,GAACC,gBAAgB,GAAC,IAAEF,aAApD;AAAkEjT,IAAAA,MAAM,CAACqS,SAAP,GAAiBA,SAAS,GAAC9T,OAAO,CAAC0T,QAAQ,CAAC1M,SAAS,CAACP,IAAV,CAAe,aAAf,CAAD,EAA+B,EAA/B,CAAR,IAA4C,EAA7C,EAAgDkO,YAAhD,CAAlC;AAAgGd,IAAAA,YAAY,GAAC1N,WAAW,GAACuO,aAAZ,GAA0B7N,OAAvC;AAA+CuM,IAAAA,UAAU,CAACkD,QAAX,CAAoB,CAAC,GAAElZ,IAAI,CAACmZ,OAAR,EAAiB,EAAjB,EAAoBvP,SAAS,CAACP,IAA9B,CAApB;AAAyDsN,IAAAA,UAAU,GAACK,aAAa,GAAC3S,MAAM,CAACc,WAAP,GAAmB,CAAjC,GAAmC,CAA9C;AAAgDwR,IAAAA,UAAU,GAAC/T,OAAO,CAACF,OAAO,CAACiU,UAAD,EAAYvB,eAAe,GAACiB,gBAAhB,GAAiC,CAA7C,CAAR,EAAwD,CAAxD,CAAlB;AAA6EW,IAAAA,aAAa,GAACN,SAAS,GAAC,GAAxB;AAA4BrS,IAAAA,MAAM,CAAC+U,YAAP,GAAoB,CAApB;AAAsB/U,IAAAA,MAAM,CAAC8E,YAAP,GAAoB,CAApB;AAAsBkP,IAAAA,gBAAgB,GAACd,YAAY,GAACP,aAAb,GAA2BjO,WAA3B,GAAuCuO,aAAvC,GAAqD,IAAE7N,OAAxE;;AAAgF,SAAIlI,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACyG,GAAV,EAAczG,CAAC,IAAE,CAAjB,EAAmB;AAACiU,MAAAA,IAAI,GAACN,OAAO,CAAC3T,CAAD,CAAZ;AAAgB+T,MAAAA,UAAU,GAACE,IAAI,CAACnR,MAAL,KAAcmR,IAAI,CAACnR,MAAL,GAAY,EAA1B,CAAX;AAAyCkR,MAAAA,UAAU,GAACD,UAAX;AAAsBzP,MAAAA,IAAI,GAACyP,UAAU,CAACzP,IAAX,GAAgB,CAAC,GAAE7F,IAAI,CAACqZ,iBAAR,EAA2B9D,UAAU,CAAC/I,KAAtC,CAArB;;AAAkE,UAAG3G,IAAI,KAAG7F,IAAI,CAACsJ,WAAZ,IAAyBiM,UAAU,CAAC7M,OAAX,KAAqB,CAA9C,IAAiD6M,UAAU,CAAC7M,OAAX,KAAqB,KAAtE,IAA6E8M,IAAI,CAAC8D,QAAL,CAAc,SAAd,CAAhF,EAAyG;AAAChE,QAAAA,UAAU,CAAC5M,OAAX,GAAmB,CAAnB;AAAqB;AAAS,OAAxI,MAA4I;AAAC4M,QAAAA,UAAU,CAAC5M,OAAX,GAAmB,CAAnB;AAAqB;;AAAAgN,MAAAA,WAAW,IAAE,CAAb;AAAe9G,MAAAA,eAAe,GAAC,IAAhB;AAAqBuJ,MAAAA,SAAS,GAACnC,UAAU,CAACuD,UAAX,CAAsB1T,IAAtB,CAAV;AAAsC4P,MAAAA,QAAQ,GAAC7S,OAAO,CAAC6S,QAAD,EAAU/S,OAAO,CAACyV,SAAS,CAAC7S,KAAX,EAAiB6P,cAAc,GAACkD,gBAAhC,CAAjB,CAAhB;AAAoFxC,MAAAA,SAAS,GAACjT,OAAO,CAACiT,SAAD,EAAWnT,OAAO,CAACyV,SAAS,CAAC5S,MAAX,EAAkB8P,gBAAlB,CAAlB,CAAjB;AAAwEC,MAAAA,UAAU,CAACkE,eAAX,GAA2BrB,SAAS,CAAC7S,KAAV,GAAgB+S,gBAA3C;AAA4DhL,MAAAA,UAAU,IAAE8K,SAAS,CAAC7S,KAAtB;AAA4B;;AAAAjB,IAAAA,MAAM,CAACuK,eAAP,GAAuBA,eAAvB;AAAuC+G,IAAAA,YAAY,GAACtI,UAAU,GAACqI,WAAxB;AAAoCrI,IAAAA,UAAU,IAAEgL,gBAAgB,GAAC3C,WAA7B;AAAyCrR,IAAAA,MAAM,CAACkF,CAAP,GAAS,CAACiJ,qBAAD,IAAwBnF,UAAU,GAAC+K,sBAAnC,GAA0D,CAA1D,GAA4D/T,MAAM,CAACkF,CAA5E;;AAA8E,QAAGqF,eAAH,EAAmB;AAAC+G,MAAAA,YAAY,IAAE0C,gBAAd;AAA+B5C,MAAAA,QAAQ,IAAE4C,gBAAV;;AAA2B,UAAGxB,aAAa,CAAC4C,OAAd,KAAwBzZ,IAAI,CAACsJ,WAAhC,EAA4C;AAACgP,QAAAA,gBAAgB,GAAC,IAAjB;AAAsBtC,QAAAA,UAAU,CAACkD,QAAX,CAAoBrC,aAAa,CAAC/H,KAAlC;AAAyCqJ,QAAAA,SAAS,GAACnC,UAAU,CAAC0D,YAAX,CAAwB7C,aAAa,CAAC4C,OAAtC,EAA8CtE,cAAc,GAAC,IAAE1L,OAA/D,CAAV;AAAkFoN,QAAAA,aAAa,CAACxN,IAAd,GAAmB8O,SAAS,CAAC9O,IAA7B;AAAkC8O,QAAAA,SAAS,CAACwB,QAAV,KAAqB9C,aAAa,CAAC9H,YAAd,GAA2BoJ,SAAS,CAACwB,QAA1D;AAAoE7C,QAAAA,YAAY,GAACqB,SAAS,CAAC7S,KAAV,GAAgB,IAAEmE,OAA/B;AAAuCqM,QAAAA,mBAAmB,GAACqC,SAAS,CAAC5S,MAAV,GAAiBuL,cAArC;AAAoD;;AAAA6G,MAAAA,SAAS,GAAClC,QAAV;;AAAmB,UAAG,CAAC2B,aAAJ,EAAkB;AAAC,YAAG/J,UAAU,IAAE8H,cAAf,EAA8B;AAAC+B,UAAAA,gBAAgB,GAAC,CAACA,gBAAD,GAAkBxB,WAAlB,GAA8BwB,gBAA/C;AAAgEE,UAAAA,aAAa,GAACpU,QAAQ,CAAC0S,WAAW,GAACwB,gBAAb,CAAtB;AAAqDS,UAAAA,SAAS,GAACP,aAAa,KAAG,CAAhB,GAAkB/J,UAAU,GAACqI,WAA7B,GAAyCD,QAAnD;AAA4D,SAAhN,MAAqN,IAAG,CAACyB,gBAAD,IAAmB/B,cAAc,GAACM,QAAlC,KAA6CsB,wBAAwB,IAAEpB,YAAY,GAAC,GAAb,GAAiBF,QAAxF,CAAH,EAAqG;AAACyB,UAAAA,gBAAgB,GAACpU,SAAS,CAACqS,cAAc,GAACM,QAAhB,CAA1B;;AAAoD,cAAGC,WAAW,GAACwB,gBAAf,EAAgC;AAACA,YAAAA,gBAAgB,GAACxB,WAAjB;AAA6B;;AAAAiC,UAAAA,SAAS,GAAClC,QAAV;AAAmB,SAA3O,MAAgP,IAAGyB,gBAAgB,IAAE/B,cAAc,GAAC+B,gBAAf,GAAgCvB,YAArD,EAAkE;AAACgC,UAAAA,SAAS,GAACxC,cAAc,GAAC+B,gBAAzB;;AAA0C,cAAGS,SAAS,GAAClC,QAAb,EAAsB;AAACkC,YAAAA,SAAS,GAAClC,QAAV;AAAmB;AAAC,SAAxJ,MAA6J,IAAG,CAACyB,gBAAD,IAAmB/B,cAAc,IAAE,IAAEQ,YAAxC,EAAqD;AAACuB,UAAAA,gBAAgB,GAACpU,SAAS,CAACqS,cAAc,GAACQ,YAAhB,CAA1B;;AAAwD,cAAGD,WAAW,GAACwB,gBAAf,EAAgC;AAACA,YAAAA,gBAAgB,GAACxB,WAAjB;AAA6B;;AAAAiC,UAAAA,SAAS,GAAC7U,SAAS,CAACqS,cAAc,GAAC+B,gBAAhB,CAAnB;;AAAqD,cAAGS,SAAS,GAAClC,QAAb,EAAsB;AAACkC,YAAAA,SAAS,GAAClC,QAAV;AAAmB;AAAC,SAA5Q,MAAiR,IAAG,CAACyB,gBAAJ,EAAqB;AAACA,UAAAA,gBAAgB,GAAC,CAAjB;AAAmBS,UAAAA,SAAS,GAACxC,cAAV;AAAyB;AAAC,OAAz8B,MAA88B,IAAG,CAAC+B,gBAAD,IAAmBE,aAAtB,EAAoC;AAACsB,QAAAA,cAAc,GAAC,CAAf;;AAAiB,YAAGhD,WAAW,GAAC0B,aAAf,EAA6B;AAACA,UAAAA,aAAa,GAAC1B,WAAd;AAA0B;;AAAAwB,QAAAA,gBAAgB,GAAClU,QAAQ,CAAC0S,WAAW,GAAC0B,aAAb,CAAzB;AAAqD,OAAnK,MAAwK,IAAGpU,QAAQ,CAAC0S,WAAW,GAACwB,gBAAb,CAAR,GAAuCE,aAAvC,IAAsDpU,QAAQ,CAAC0S,WAAW,GAAC0B,aAAb,CAAR,GAAoCF,gBAA1F,IAA4GxB,WAAW,GAACwB,gBAAgB,GAACE,aAA5I,EAA0J;AAACA,QAAAA,aAAa,GAACpU,QAAQ,CAAC0S,WAAW,GAACwB,gBAAb,CAAtB;AAAqD,OAAhN,MAAqN,IAAGA,gBAAgB,KAAGlU,QAAQ,CAAC0S,WAAW,GAAC0B,aAAb,CAA9B,EAA0D;AAACsB,QAAAA,cAAc,GAAC,CAAf;AAAiB;;AAAA9C,MAAAA,YAAY,GAAC2C,yBAAyB,GAAC9C,QAAD,GAAUkC,SAAhD;;AAA0D,UAAG,CAACY,yBAAD,IAA4B5C,YAAY,GAAC,GAAb,GAAiBF,QAAhD,EAAyD;AAACkC,QAAAA,SAAS,GAAChC,YAAV;AAAuB;;AAAA,UAAGyB,aAAa,IAAE,CAACL,wBAAnB,EAA4C;AAAC,YAAI6C,UAAJ;AAAA,YAAeC,UAAf;AAAA,YAA0BC,YAAY,GAAClE,YAAvC;;AAAoD,YAAGH,QAAQ,GAACE,YAAY,GAAC,GAAzB,EAA6B;AAACmE,UAAAA,YAAY,GAACnE,YAAb;AAA0B;;AAAAkE,QAAAA,UAAU,GAACnX,OAAO,CAACgT,WAAD,EAAa5S,SAAS,CAACqS,cAAc,GAAC2E,YAAhB,CAAtB,CAAlB;AAAuEF,QAAAA,UAAU,GAAC5W,QAAQ,CAAC0S,WAAW,GAACmE,UAAb,CAAnB;;AAA4C,YAAG,EAAExV,MAAM,CAACgT,OAAP,IAAgBuC,UAAU,KAAGxC,aAA7B,IAA4C/S,MAAM,CAAC8S,UAAP,IAAmB0C,UAAU,KAAG3C,gBAA9E,KAAiG,EAAEE,aAAa,KAAG,CAAhB,IAAmBwC,UAAU,KAAG,CAAlC,CAApG,EAAyI;AAAChE,UAAAA,YAAY,GAACkE,YAAb;AAA0B5C,UAAAA,gBAAgB,GAAC2C,UAAjB;AAA4BzC,UAAAA,aAAa,GAACwC,UAAd;AAAyB;AAAC;;AAAA5D,MAAAA,UAAU,CAACkD,QAAX,CAAoB,CAAC,GAAElZ,IAAI,CAACmZ,OAAR,EAAiB,EAAjB,EAAoBvP,SAAS,CAACP,IAA9B,CAApB;;AAAyD,WAAI9H,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACyG,GAAV,EAAczG,CAAC,EAAf,EAAkB;AAAC+T,QAAAA,UAAU,GAACJ,OAAO,CAAC3T,CAAD,CAAP,CAAW8C,MAAtB;;AAA6B,YAAG+S,aAAa,KAAG,CAAnB,EAAqB;AAACxB,UAAAA,YAAY,GAACH,QAAQ,GAACE,YAAY,GAAC,GAAtB,GAA0BA,YAA1B,GAAuCL,UAAU,CAACkE,eAA/D;AAA+E;;AAAA5C,QAAAA,SAAS,GAACnU,IAAI,CAACQ,IAAL,CAAU2S,YAAY,GAACyC,gBAAvB,CAAV;;AAAmD,YAAGzB,SAAS,KAAG,CAAf,EAAiB;AAACtB,UAAAA,UAAU,CAACzP,IAAX,GAAgB7F,IAAI,CAACsJ,WAArB;AAAiCgM,UAAAA,UAAU,CAACyE,WAAX,GAAuBvC,gBAAgB,GAACF,aAAxC;AAAsDhC,UAAAA,UAAU,CAACkE,eAAX,GAA2BlE,UAAU,CAACyE,WAAtC;AAAkDzE,UAAAA,UAAU,CAAC0E,gBAAX,GAA4BtD,SAA5B;AAAsC,SAAjM,MAAqM;AAACyB,UAAAA,SAAS,GAACnC,UAAU,CAAC0D,YAAX,CAAwBpE,UAAU,CAACzP,IAAnC,EAAwC+Q,SAAS,GAACtB,UAAU,CAACkE,eAAX,GAA2BnB,gBAArC,GAAsDzB,SAAS,GAAC7N,WAAhE,GAA4E/G,KAApH,CAAV;AAAqIsT,UAAAA,UAAU,CAACzP,IAAX,GAAgBsS,SAAS,CAAC9O,IAA1B;AAA+BiM,UAAAA,UAAU,CAAC2E,WAAX,GAAuB9B,SAAS,CAAC5S,MAAjC;AAAwC4S,UAAAA,SAAS,CAACwB,QAAV,KAAqBrE,UAAU,CAACvG,YAAX,GAAwBoJ,SAAS,CAACwB,QAAvD;AAAiErE,UAAAA,UAAU,CAAC0E,gBAAX,GAA4B7B,SAAS,CAAC5S,MAAV,GAAiBwD,WAAjB,GAA6B2N,SAA7B,GAAuC3N,WAAW,GAACoP,SAAS,CAAC5S,MAA7D,GAAoEmR,SAAhG;AAA0GpB,UAAAA,UAAU,CAACyE,WAAX,GAAuBvC,gBAAgB,GAACf,YAAjB,GAA8B0B,SAAS,CAAC7S,KAA/D;AAAqEgQ,UAAAA,UAAU,CAACkE,eAAX,GAA2BnB,gBAAgB,GAACF,SAAS,CAAC7S,KAAtD;AAA4DgQ,UAAAA,UAAU,CAAC4E,YAAX,GAAwBxD,SAAS,GAACyB,SAAS,CAAC5S,MAApB,GAA2B,CAACmR,SAAS,GAACyB,SAAS,CAAC5S,MAArB,IAA6B,CAAxD,GAA0D,CAAlF;AAAoFsQ,UAAAA,SAAS,GAACjT,OAAO,CAACiT,SAAD,EAAWP,UAAU,CAAC2E,WAAtB,CAAjB;AAAoDrC,UAAAA,UAAU,GAAChV,OAAO,CAAC,CAAD,EAAGF,OAAO,CAACkV,UAAD,EAAYtC,UAAU,CAAC2E,WAAvB,CAAV,CAAlB;AAAiE;AAAC;;AAAAlC,MAAAA,MAAM,GAAC;AAACjJ,QAAAA,KAAK,EAAC;AAACqL,UAAAA,OAAO,EAAC,MAAT;AAAgBC,UAAAA,YAAY,EAAC,QAA7B;AAAsCC,UAAAA,UAAU,EAAC;AAAjD;AAAP,OAAP;AAAyErC,MAAAA,QAAQ,GAAC,EAAT;;AAAY,UAAGM,gBAAH,EAAoB;AAACN,QAAAA,QAAQ,CAAC7W,IAAT,CAAc;AAAC2N,UAAAA,KAAK,EAAC;AAACxJ,YAAAA,KAAK,EAACwR,YAAP;AAAoBvR,YAAAA,MAAM,EAACuQ,mBAA3B;AAA+CwE,YAAAA,YAAY,EAAC,CAA5D;AAA8DC,YAAAA,UAAU,EAAC,CAAzE;AAA2EC,YAAAA,eAAe,EAAC,CAA3F;AAA6FC,YAAAA,aAAa,EAAC;AAA3G;AAAP,SAAd;AAAqI;;AAAAzC,MAAAA,QAAQ,CAAC7W,IAAT,CAAc;AAAC2N,QAAAA,KAAK,EAAC;AAACqL,UAAAA,OAAO,EAAC,MAAT;AAAgBC,UAAAA,YAAY,EAAC,OAA7B;AAAqCC,UAAAA,UAAU,EAAC,OAAhD;AAAwD/U,UAAAA,KAAK,EAAC5C,OAAO,CAAC2K,UAAD,EAAY8H,cAAZ,EAA2BS,YAAY,GAACsB,gBAAxC,CAArE;AAA+HwD,UAAAA,UAAU,EAACjR,OAA1I;AAAkJkR,UAAAA,UAAU,EAAClR,OAA7J;AAAqK6Q,UAAAA,YAAY,EAACtC,QAAQ,CAACvW,MAAT,GAAgB,CAAlM;AAAoM8Y,UAAAA,UAAU,EAACvC,QAAQ,CAACvW,MAAT,GAAgB,CAA/N;AAAiO+Y,UAAAA,eAAe,EAAC,CAAjP;AAAmPC,UAAAA,aAAa,EAAC;AAAjQ;AAAP,OAAd;AAA2RxC,MAAAA,YAAY,GAAC,EAAb;;AAAgB,UAAGM,yBAAyB,IAAEnB,aAAa,KAAG,CAA9C,EAAgD;AAAC,aAAIM,CAAC,GAAC,CAAF,EAAInW,CAAC,GAAC,CAAV,EAAYmW,CAAC,GAAC1P,GAAd,EAAkB0P,CAAC,EAAnB,EAAsB;AAAClC,UAAAA,IAAI,GAACN,OAAO,CAACwC,CAAD,CAAZ;AAAgBpC,UAAAA,UAAU,GAACE,IAAI,CAACnR,MAAhB;;AAAuB,cAAGiR,UAAU,CAAC5M,OAAX,KAAqB,CAAxB,EAA0B;AAAC,gBAAGgQ,cAAc,KAAG,CAApB,EAAsB;AAACF,cAAAA,SAAS,GAACxV,QAAQ,CAACzB,CAAC,GAAC2V,gBAAH,CAAlB;AAAuCuB,cAAAA,YAAY,GAAClX,CAAC,GAAC2V,gBAAF,KAAqB,CAArB,GAAuBA,gBAAvB,GAAwC3V,CAAC,GAAC2V,gBAAvD;AAAwE,aAAtI,MAA0I;AAACsB,cAAAA,SAAS,GAACjX,CAAC,GAAC6V,aAAF,KAAkB,CAAlB,GAAoBA,aAApB,GAAkC7V,CAAC,GAAC6V,aAA9C;AAA4DqB,cAAAA,YAAY,GAACzV,QAAQ,CAACzB,CAAC,GAAC6V,aAAH,CAArB;AAAuC;;AAAAa,YAAAA,YAAY,CAAC9W,IAAb,CAAkB;AAAC2N,cAAAA,KAAK,EAAC;AAACxJ,gBAAAA,KAAK,EAAC8R,aAAa,KAAG,CAAhB,GAAkB9B,UAAU,CAACkE,eAA7B,GAA6Cf,YAAY,KAAGvB,gBAAf,GAAgC5B,UAAU,CAACkE,eAA3C,GAA2D5D,YAA/G;AAA4HrQ,gBAAAA,MAAM,EAAC+P,UAAU,CAAC0E,gBAA9I;AAA+JM,gBAAAA,YAAY,EAAC9B,SAA5K;AAAsL+B,gBAAAA,UAAU,EAAC/B,SAAS,GAAC,CAA3M;AAA6MgC,gBAAAA,eAAe,EAAC/B,YAA7N;AAA0OgC,gBAAAA,aAAa,EAAChC,YAAY,GAAC;AAArQ;AAAP,aAAlB;AAAmSlX,YAAAA,CAAC,IAAE,CAAH;AAAK;AAAC;AAAC,OAAlqB,MAAsqB;AAAC6V,QAAAA,aAAa,GAAC,CAAd;AAAgBQ,QAAAA,UAAU,GAAChV,OAAO,CAACgV,UAAD,EAAYlB,SAAZ,CAAlB;;AAAyC,aAAIgB,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC1P,GAAV,EAAc0P,CAAC,EAAf,EAAkB;AAAClC,UAAAA,IAAI,GAACN,OAAO,CAACwC,CAAD,CAAZ;AAAgBpC,UAAAA,UAAU,GAACE,IAAI,CAACnR,MAAhB;;AAAuB,cAAGiR,UAAU,CAAC5M,OAAX,KAAqB,CAAxB,EAA0B;AAAC0O,YAAAA,aAAa,IAAE3U,IAAI,CAACQ,IAAL,CAAUqS,UAAU,CAAC0E,gBAAX,GAA4BpC,UAAtC,CAAf;AAAiE;AAAC;;AAAAR,QAAAA,aAAa,KAAG,CAAhB,KAAoBA,aAAa,GAAC3U,IAAI,CAACI,GAAL,CAAS,CAAT,EAAWJ,IAAI,CAACQ,IAAL,CAAUyS,WAAW,GAACwB,gBAAtB,CAAX,CAAlC;AAAuFnB,QAAAA,kBAAkB,GAAC/P,iBAAiB,CAACoR,aAAD,CAAjB,CAAiCtP,GAAjC,CAAsC,YAAU;AAAC,iBAAO9B,iBAAiB,CAACkR,gBAAD,CAAxB;AAA2C,SAA5F,CAAnB;AAAkH,YAAI0D,CAAC,GAAC,CAAN;AAAA,YAAQ3U,CAAC,GAAC,CAAV;AAAA,YAAY4U,MAAZ;;AAAmB,aAAInD,CAAC,GAAC,CAAF,EAAInW,CAAC,GAAC,CAAV,EAAYmW,CAAC,GAAC1P,GAAd,EAAkB0P,CAAC,EAAnB,EAAsB;AAAClC,UAAAA,IAAI,GAACN,OAAO,CAACwC,CAAD,CAAZ;AAAgBpC,UAAAA,UAAU,GAACE,IAAI,CAACnR,MAAhB;;AAAuB,cAAGiR,UAAU,CAAC5M,OAAX,KAAqB,CAAxB,EAA0B;AAAC,mBAAMkS,CAAC,GAACxD,aAAR,EAAsB;AAAC,qBAAMnR,CAAC,GAACiR,gBAAR,EAAyB;AAAC,oBAAGnB,kBAAkB,CAAC6E,CAAD,CAAlB,CAAsB3U,CAAtB,MAA2BjE,KAA9B,EAAoC;AAACyW,kBAAAA,YAAY,GAACxS,CAAC,GAAC,CAAf;AAAiBuS,kBAAAA,SAAS,GAACoC,CAAC,GAAC,CAAZ;AAAcC,kBAAAA,MAAM,GAAC3D,gBAAgB,KAAG,CAAnB,GAAqB,CAArB,GAAuB,CAAC,CAAC5B,UAAU,CAAC0E,gBAAX,GAA4BpC,UAA7B,EAAyCkD,OAAzC,CAAiD,CAAjD,CAA/B;AAAmF/E,kBAAAA,kBAAkB,CAAC6E,CAAD,CAAlB,CAAsB3U,CAAtB,IAAyB,IAAzB;;AAA8B,uBAAI,IAAI8U,CAAC,GAACH,CAAV,EAAYG,CAAC,GAACH,CAAC,GAACC,MAAhB,EAAuBE,CAAC,EAAxB,EAA2B;AAAChF,oBAAAA,kBAAkB,CAACgF,CAAD,CAAlB,CAAsB9U,CAAtB,IAAyB,IAAzB;AAA8B;AAAC;;AAAAA,gBAAAA,CAAC;;AAAG,oBAAG8P,kBAAkB,CAAC6E,CAAD,CAAlB,CAAsB3U,CAAC,GAAC,CAAxB,CAAH,EAA8B;AAAC;AAAM;AAAC;;AAAA,kBAAGA,CAAC,IAAEiR,gBAAN,EAAuB;AAACjR,gBAAAA,CAAC,GAAC,CAAF;AAAI2U,gBAAAA,CAAC;AAAG;;AAAA,kBAAGC,MAAH,EAAU;AAAC;AAAM;AAAC;;AAAA5C,YAAAA,YAAY,CAAC9W,IAAb,CAAkB;AAAC2N,cAAAA,KAAK,EAAC;AAACxJ,gBAAAA,KAAK,EAACmT,YAAY,KAAGvB,gBAAf,GAAgC5B,UAAU,CAACkE,eAA3C,GAA2D7B,SAAlE;AAA4EpS,gBAAAA,MAAM,EAAC+P,UAAU,CAAC0E,gBAA9F;AAA+GM,gBAAAA,YAAY,EAAC9B,SAA5H;AAAsI+B,gBAAAA,UAAU,EAAC/B,SAAS,GAACqC,MAA3J;AAAkKL,gBAAAA,eAAe,EAAC/B,YAAlL;AAA+LgC,gBAAAA,aAAa,EAAChC,YAAY,GAAC;AAA1N;AAAP,aAAlB;AAAwPlX,YAAAA,CAAC,IAAE,CAAH;AAAKsZ,YAAAA,MAAM,GAAC7Y,KAAP;AAAa;AAAC;;AAAAoV,QAAAA,aAAa,GAAC,CAAd;;AAAgB,aAAI7V,CAAC,GAAC6V,aAAN,EAAoB7V,CAAC,GAACwU,kBAAkB,CAACtU,MAAzC,EAAgDF,CAAC,EAAjD,EAAoD;AAAC,eAAImW,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACR,gBAAV,EAA2BQ,CAAC,EAA5B,EAA+B;AAAC,gBAAG3B,kBAAkB,CAACxU,CAAD,CAAlB,CAAsBmW,CAAtB,CAAH,EAA4B;AAACN,cAAAA,aAAa;AAAG;AAAM;AAAC;AAAC;;AAAA,YAAGF,gBAAgB,GAAC,CAApB,EAAsB;AAACc,UAAAA,QAAQ,CAACA,QAAQ,CAACvW,MAAT,GAAgB,CAAjB,CAAR,CAA4BqN,KAA5B,CAAkCkM,gBAAlC,GAAmD,CAACpD,UAAU,GAAC,GAAZ,EAAiBqD,MAAjB,CAAwB7D,aAAxB,EAAuC8D,KAAvC,CAA6C,CAA7C,EAA+C,CAAC,CAAhD,CAAnD;AAAsG;AAAC;;AAAAlD,MAAAA,QAAQ,CAACA,QAAQ,CAACvW,MAAT,GAAgB,CAAjB,CAAR,CAA4BuW,QAA5B,GAAqCC,YAArC;AAAkDC,MAAAA,WAAW,GAAC,CAAC,GAAE3X,MAAM,CAAC4a,aAAV,EAAyB9Z,aAAa,CAACA,aAAa,CAAC,EAAD,EAAI0W,MAAJ,CAAd,EAA0B,EAA1B,EAA6B;AAACC,QAAAA,QAAQ,EAACA;AAAV,OAA7B,CAAtC,CAAZ;AAAqG3T,MAAAA,MAAM,CAACsT,SAAP,GAAiB/B,YAAjB;AAA8BgB,MAAAA,SAAS,GAAC5T,QAAQ,CAAC4S,YAAY,GAACyC,gBAAd,CAAlB;;AAAkD,UAAGzB,SAAS,GAAC,CAAb,EAAe;AAACU,QAAAA,aAAa,GAACV,SAAS,GAAC7N,WAAW,GAAC,CAApC;AAAsC;;AAAA1E,MAAAA,MAAM,CAACiT,aAAP,GAAqBA,aAArB;AAAmCjT,MAAAA,MAAM,CAAC0E,WAAP,GAAmBA,WAAnB;AAA+B1E,MAAAA,MAAM,CAACiB,KAAP,GAAajB,MAAM,CAACgJ,UAAP,GAAkBzK,OAAO,CAACsV,WAAW,CAACrE,MAAZ,CAAmBvO,KAApB,EAA0B4S,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDoS,MAApD,CAA2DvO,KAArF,CAAtC;AAAkI0Q,MAAAA,UAAU,CAACkD,QAAX,CAAoB,CAAC,GAAElZ,IAAI,CAACmZ,OAAR,EAAiB,EAAjB,EAAoBvP,SAAS,CAACP,IAA9B,CAApB;;AAAyD,WAAIqO,CAAC,GAAC,CAAF,EAAInW,CAAC,GAAC,CAAV,EAAYmW,CAAC,GAAC1P,GAAd,EAAkB0P,CAAC,EAAnB,EAAsB;AAAClC,QAAAA,IAAI,GAACN,OAAO,CAACwC,CAAD,CAAZ;AAAgBpC,QAAAA,UAAU,GAACE,IAAI,CAACnR,MAAhB;;AAAuB,YAAG+S,aAAa,KAAG,CAAnB,EAAqB;AAACR,UAAAA,SAAS,GAACtB,UAAU,CAACkE,eAArB;;AAAqC,cAAG5C,SAAS,GAAC,CAAb,EAAe;AAACU,YAAAA,aAAa,GAACV,SAAS,GAAC7N,WAAW,GAAC,CAApC;AAAsC;AAAC;;AAAA,YAAGuM,UAAU,CAAC5M,OAAX,KAAqB,CAAxB,EAA0B;AAAC,cAAGkO,SAAS,KAAG,CAAf,EAAiB;AAACtB,YAAAA,UAAU,CAACzP,IAAX,GAAgB7F,IAAI,CAACsJ,WAArB;AAAiCgM,YAAAA,UAAU,CAACyE,WAAX,GAAuBvC,gBAAgB,GAACF,aAAxC;AAAsD;;AAAAhC,UAAAA,UAAU,CAAC8F,QAAX,GAAoBlD,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDuW,QAApD,CAA6DzW,CAA7D,EAAgEsS,MAAhE,CAAuEtK,CAA3F;AAA6F+L,UAAAA,UAAU,CAAC+F,QAAX,GAAoBnD,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDuW,QAApD,CAA6DzW,CAA7D,EAAgEsS,MAAhE,CAAuErK,CAA3F;AAA6F8L,UAAAA,UAAU,CAACgG,QAAX,GAAoBpD,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDuW,QAApD,CAA6DzW,CAA7D,EAAgEsS,MAAhE,CAAuEtO,MAA3F;AAAkGhE,UAAAA,CAAC,IAAE,CAAH;AAAK;AAAC;;AAAA8V,MAAAA,OAAO,GAACD,aAAR;AAAsBK,MAAAA,UAAU,CAAClS,MAAX,IAAmB8R,OAAO,GAACX,SAAR,GAAkBZ,mBAArC;AAAyDzR,MAAAA,MAAM,CAACkB,MAAP,GAAclB,MAAM,CAACiJ,WAAP,GAAmB4K,WAAW,CAACrE,MAAZ,CAAmBtO,MAAnB,GAA0B,IAAEkE,OAA7D;AAAqEpF,MAAAA,MAAM,CAACqS,SAAP,GAAiBA,SAAjB;AAA2BrS,MAAAA,MAAM,CAACkX,gBAAP,GAAwBrE,gBAAxB;AAAyC7S,MAAAA,MAAM,CAAC8E,YAAP,GAAoBmP,gBAAgB,IAAExB,YAAY,GAACoB,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDoS,MAApD,CAA2DvO,KAA1F,IAAiG6P,cAAc,GAAC9Q,MAAM,CAACiB,KAAvH,GAA6H4S,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDoS,MAApD,CAA2DtK,CAAxL,GAA0L,CAA9M;AAAgNlF,MAAAA,MAAM,CAAC+U,YAAP,GAAoBlB,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDoS,MAApD,CAA2DrK,CAA/E;;AAAiF,UAAGnF,MAAM,CAACkB,MAAP,GAAc,IAAE+R,aAAhB,GAA8BlC,eAAjC,EAAiD;AAAC/Q,QAAAA,MAAM,CAACkB,MAAP,GAAc6P,eAAd;AAA8B1L,QAAAA,MAAM,GAACrF,MAAM,CAACqF,MAAP,KAAgBrF,MAAM,CAACqF,MAAP,GAAc,EAA9B,CAAP;AAAyCA,QAAAA,MAAM,CAAChB,OAAP,GAAe,IAAf;AAAoBgB,QAAAA,MAAM,CAAC8R,cAAP,GAAsBnX,MAAM,CAACmX,cAA7B;AAA4C9R,QAAAA,MAAM,CAAC+R,mBAAP,GAA2BpX,MAAM,CAACoX,mBAAlC;AAAsDpX,QAAAA,MAAM,CAACiB,KAAP,GAAajB,MAAM,CAACiB,KAAP,GAAa,EAAb,GAAgB6P,cAAhB,GAA+B9Q,MAAM,CAACiB,KAAtC,GAA4CjB,MAAM,CAACiB,KAAP,GAAa,EAAtE;AAAyE,OAAxT,MAA4T;AAACjB,QAAAA,MAAM,CAACqF,MAAP,CAAchB,OAAd,GAAsB,KAAtB;AAA4B;;AAAA,UAAGrE,MAAM,CAACiB,KAAP,GAAa6P,cAAhB,EAA+B;AAAC9Q,QAAAA,MAAM,CAACiB,KAAP,GAAa6P,cAAb;AAA4BxL,QAAAA,gBAAgB,GAACtF,MAAM,CAACsF,gBAAP,KAA0BtF,MAAM,CAACsF,gBAAP,GAAwB,EAAlD,CAAjB;AAAuEA,QAAAA,gBAAgB,CAACjB,OAAjB,GAAyB,IAAzB;AAA8BiB,QAAAA,gBAAgB,CAAC6R,cAAjB,GAAgCnX,MAAM,CAACmX,cAAvC;AAAsD7R,QAAAA,gBAAgB,CAAC8R,mBAAjB,GAAqCpX,MAAM,CAACoX,mBAA5C;;AAAgE,YAAGpX,MAAM,CAACkB,MAAP,GAAc,EAAd,IAAkB6P,eAArB,EAAqC;AAAC/Q,UAAAA,MAAM,CAACkB,MAAP,GAAclB,MAAM,CAACkB,MAAP,GAAc,EAA5B;AAA+B,SAArE,MAAyE;AAAClB,UAAAA,MAAM,CAACkB,MAAP,GAAc6P,eAAd;AAA8B/Q,UAAAA,MAAM,CAACiJ,WAAP,IAAoB,CAApB;AAAsB5D,UAAAA,MAAM,GAACrF,MAAM,CAACqF,MAAP,KAAgBrF,MAAM,CAACqF,MAAP,GAAc,EAA9B,CAAP;AAAyCA,UAAAA,MAAM,CAAChB,OAAP,GAAe,IAAf;AAAoBgB,UAAAA,MAAM,CAAC8R,cAAP,GAAsBnX,MAAM,CAACmX,cAA7B;AAA4C9R,UAAAA,MAAM,CAAC+R,mBAAP,GAA2BpX,MAAM,CAACoX,mBAAlC;AAAsDpX,UAAAA,MAAM,CAACqF,MAAP,CAAchB,OAAd,GAAsB,IAAtB;AAA2B;AAAC,OAAhlB,MAAolB;AAACrE,QAAAA,MAAM,CAACsF,gBAAP,CAAwBjB,OAAxB,GAAgC,KAAhC;AAAsC;;AAAA,UAAGrE,MAAM,CAACgJ,UAAP,GAAkBhJ,MAAM,CAACiB,KAAzB,IAAgCjB,MAAM,CAACgJ,UAAP,GAAkBhJ,MAAM,CAACiB,KAAzB,IAAgC,CAAnE,EAAqE;AAAC,aAAIoS,CAAC,GAAC,CAAF,EAAInW,CAAC,GAAC,CAAV,EAAYmW,CAAC,GAAC1P,GAAd,EAAkB0P,CAAC,EAAnB,EAAsB;AAAClC,UAAAA,IAAI,GAACN,OAAO,CAACwC,CAAD,CAAZ;AAAgBpC,UAAAA,UAAU,GAACE,IAAI,CAACnR,MAAhB;;AAAuB,cAAGiR,UAAU,CAAC5M,OAAX,KAAqB,CAAxB,EAA0B;AAAC,gBAAGwP,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDuW,QAApD,CAA6DzW,CAA7D,EAAgEuN,KAAhE,CAAsE0L,eAAtE,GAAsFtD,gBAAtF,KAAyG,CAA5G,EAA8G;AAAC5B,cAAAA,UAAU,CAAC8F,QAAX,IAAqB,CAArB;;AAAuB,kBAAGlD,WAAW,CAACF,QAAZ,CAAqBE,WAAW,CAACF,QAAZ,CAAqBvW,MAArB,GAA4B,CAAjD,EAAoDuW,QAApD,CAA6DzW,CAA7D,EAAgEuN,KAAhE,CAAsEwL,YAAtE,KAAqF,CAAxF,EAA0F;AAACjW,gBAAAA,MAAM,CAACgJ,UAAP,IAAmB,CAAnB;AAAqB;AAAC;;AAAA9L,YAAAA,CAAC,IAAE,CAAH;AAAK;AAAC;;AAAA8C,QAAAA,MAAM,CAACiJ,WAAP,IAAoB,CAApB;AAAsB;;AAAAqJ,MAAAA,UAAU,IAAEtS,MAAM,CAACkB,MAAnB;AAA0BlB,MAAAA,MAAM,CAACqX,QAAP,GAAgB,IAAhB;AAAqBrX,MAAAA,MAAM,CAACqE,OAAP,GAAe,IAAf;AAAoB,KAAzwS,MAA6wS;AAACrE,MAAAA,MAAM,CAACqE,OAAP,GAAe,KAAf;AAAqBrE,MAAAA,MAAM,CAACiB,KAAP,GAAa,CAAb;AAAeqR,MAAAA,UAAU,GAAC,CAAX;AAAa;;AAAA,WAAM;AAACrR,MAAAA,KAAK,EAACjB,MAAM,CAACiB,KAAd;AAAoBC,MAAAA,MAAM,EAACoR;AAA3B,KAAN;AAA6C,GAA/ra;;AAAgsa9P,EAAAA,MAAM,CAACmO,uBAAP,GAA+B,SAASA,uBAAT,CAAiCI,eAAjC,EAAiDuG,aAAjD,EAA+D;AAAC,QAAGA,aAAa,KAAG,KAAK,CAAxB,EAA0B;AAACA,MAAAA,aAAa,GAAC,CAAd;AAAgB;;AAAA,QAAI1X,MAAM,GAAC,IAAX;AAAA,QAAgB6F,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtB;AAAA,QAAiDD,WAAW,GAAC8E,KAAK,CAACzF,MAAnE;AAAA,QAA0EuX,eAAe,GAAC9R,KAAK,CAAC7E,UAAN,CAAiB,YAAjB,CAA1F;AAAA,QAAyH4W,gBAAgB,GAAC/R,KAAK,CAAC7E,UAAN,CAAiB,aAAjB,CAA1I;AAAA,QAA0K6W,WAAW,GAAC9W,WAAW,CAACoM,UAAlM;AAAA,QAA6M2K,YAAY,GAAC/W,WAAW,CAACM,KAAZ,IAAmBN,WAAW,CAACqM,WAAZ,IAAyB,CAA5C,CAA1N;AAAA,QAAyQ2E,UAAU,GAAClM,KAAK,CAAC7E,UAAN,CAAiB,YAAjB,CAApR;AAAA,QAAmTZ,MAAM,GAACJ,MAAM,CAACI,MAAjU;AAAA,QAAwUkN,UAAU,GAAClN,MAAM,CAACmN,eAA1V;AAAA,QAA0WC,WAAW,GAACpN,MAAM,CAACqN,gBAA7X;AAAA,QAA8YC,SAAS,GAACtN,MAAM,CAACuN,cAA/Z;AAAA,QAA8aY,qBAAqB,GAACnO,MAAM,CAACmO,qBAA3c;AAAA,QAAie0C,OAAO,GAACjR,MAAM,CAAC2D,oBAAP,EAAze;AAAA,QAAugBI,GAAG,GAACkN,OAAO,CAACzT,MAAnhB;AAAA,QAA0hBuV,aAAa,GAAC3S,MAAM,CAAC2S,aAA/iB;AAAA,QAA6jB1E,iBAAiB,GAACtN,WAAW,CAACsN,iBAA3lB;AAAA,QAA6mBN,gBAAgB,GAAChN,WAAW,CAACgN,gBAA1oB;AAAA,QAA2pBgK,KAAK,GAAClS,KAAK,CAACnC,WAAN,CAAkB,OAAlB,CAAjqB;AAAA,QAA4rBsU,YAAY,GAACD,KAAK,IAAEA,KAAK,CAAC,CAAD,CAAL,CAAS3X,MAAT,CAAgBiP,UAAvB,GAAkC0I,KAAlC,GAAwClS,KAAK,CAACnC,WAAN,CAAkB,OAAlB,CAAjvB;AAAA,QAA4wBuU,QAAQ,GAACD,YAAY,IAAEA,YAAY,CAAC,CAAD,CAA/yB;AAAA,QAAmzBE,QAAQ,GAACF,YAAY,IAAEA,YAAY,CAAC,CAAD,CAAt1B;AAAA,QAA01BG,KAAK,GAACF,QAAQ,IAAEA,QAAQ,CAAC7X,MAAnB,IAA2B,EAA33B;AAAA,QAA83BgY,KAAK,GAACF,QAAQ,IAAEA,QAAQ,CAAC9X,MAAnB,IAA2B,EAA/5B;AAAA,QAAk6BiY,WAAW,GAACF,KAAK,CAACG,QAAp7B;AAAA,QAA67BC,WAAW,GAACH,KAAK,CAACE,QAA/8B;AAAA,QAAw9BE,cAAc,GAACL,KAAK,CAACvW,IAAN,IAAYuW,KAAK,CAACvW,IAAN,CAAWiJ,KAAvB,IAA8B,EAArgC;AAAA,QAAwgC4N,cAAc,GAACL,KAAK,CAACxW,IAAN,IAAYwW,KAAK,CAACxW,IAAN,CAAWiJ,KAAvB,IAA8B,EAArjC;AAAA,QAAwjC6N,UAAU,GAACP,KAAK,CAACQ,QAAN,IAAgB5c,IAAI,CAACsJ,WAAxlC;AAAA,QAAomCuT,UAAU,GAACR,KAAK,CAACO,QAAN,IAAgB5c,IAAI,CAACsJ,WAApoC;AAAA,QAAgpCqN,UAAhpC;AAAA,QAA2pCxB,cAAc,GAACnQ,WAAW,CAACsM,WAAZ,GAAwBtM,WAAW,CAACgN,gBAApC,GAAqDhN,WAAW,CAACsN,iBAA3uC;AAAA,QAA6vCwK,UAAU,GAAC9X,WAAW,CAACM,KAApxC;AAAA,QAA0xCyX,WAAW,GAAC/X,WAAW,CAACO,MAAlzC;AAAA,QAAyzCyX,gBAAzzC;AAAA,QAA00CC,eAA10C;AAAA,QAA01CC,MAA11C;AAAA,QAAi2CC,MAAj2C;AAAA,QAAw2C5J,SAAS,GAAClP,MAAM,CAACkP,SAAP,GAAiBlP,MAAM,CAACkP,SAAP,CAAiBC,KAAjB,CAAuB,GAAvB,CAAjB,GAA6C,EAA/5C;AAAk6CnP,IAAAA,MAAM,CAAC+Y,aAAP,GAAqBpY,WAAW,CAACO,MAAZ,GAAmBP,WAAW,CAACmM,YAApD;AAAiE6E,IAAAA,UAAU,CAACqH,qBAAX,CAAiCrY,WAAW,CAACsY,uBAA7C;AAAsEtH,IAAAA,UAAU,CAACkD,QAAX,CAAoBuD,cAApB;AAAoCS,IAAAA,MAAM,GAAClH,UAAU,CAACuD,UAAX,CAAsBoD,UAAtB,CAAP;AAAyC3G,IAAAA,UAAU,CAACkD,QAAX,CAAoBwD,cAApB;AAAoCS,IAAAA,MAAM,GAACnH,UAAU,CAACuD,UAAX,CAAsBsD,UAAtB,CAAP;;AAAyC,QAAG1H,cAAc,GAAC6B,aAAlB,EAAgC;AAAC3S,MAAAA,MAAM,CAACoF,OAAP,GAAeuN,aAAa,GAAC7B,cAAc,GAAC,CAA5C;AAA8C;;AAAA,QAAG+H,MAAM,IAAEC,MAAX,EAAkB;AAACH,MAAAA,gBAAgB,GAAC,CAAC,GAAEhd,IAAI,CAAC8L,WAAR,EAAqBoR,MAAM,CAAC3X,MAA5B,EAAmC,CAAnC,IAAsC,CAAC,GAAEvF,IAAI,CAAC8L,WAAR,EAAqBqR,MAAM,CAAC5X,MAA5B,EAAmC,CAAnC,CAAtC,GAA4E,CAAC0X,eAAe,GAACX,WAAjB,KAA+BY,MAAM,CAAC5X,KAAlH,GAAwH,CAAC2X,eAAe,GAACT,WAAjB,KAA+BW,MAAM,CAAC7X,KAA/K;AAAqL;;AAAA6P,IAAAA,cAAc,GAAC3C,qBAAqB,GAAC2C,cAAD,GAAgByG,eAAe,IAAEoB,gBAAgB,GAACrL,SAAjB,GAA2BkK,gBAAgB,GAACzG,eAA5C,GAA4D,IAAE6H,eAAF,GAAkBxL,WAAlB,GAA8BF,UAA9B,GAAyCe,iBAAzC,GAA2DN,gBAAvH,GAAwIP,WAAW,GAACF,UAAZ,GAAuBS,gBAAvB,GAAwCM,iBAAlL,CAAnE;;AAAwQ,QAAGiB,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC8T,iBAAvB,EAAyC;AAACqB,MAAAA,cAAc,GAAC2H,UAAf;;AAA0B,UAAGzY,MAAM,CAACkZ,cAAP,GAAsBT,UAAzB,EAAoC;AAAC3H,QAAAA,cAAc,GAAC9Q,MAAM,CAACkZ,cAAtB;AAAqC,OAA1E,MAA8E;AAACpI,QAAAA,cAAc,IAAEwG,aAAhB;AAA8B;AAAC;;AAAA,QAAG,CAACtX,MAAM,CAACmZ,UAAR,IAAoBxV,GAAG,KAAG,CAA7B,EAA+B;AAAC2O,MAAAA,UAAU,GAAC,CAAX;AAAatS,MAAAA,MAAM,CAACkB,MAAP,GAAc,CAAd;AAAgBlB,MAAAA,MAAM,CAACiB,KAAP,GAAa,CAAb;AAAe,KAA5E,MAAgF;AAACjB,MAAAA,MAAM,CAACkF,CAAP,GAAS,CAACuS,WAAW,GAACvK,UAAZ,GAAuBwK,YAAvB,GAAoCtK,WAArC,IAAkD,CAA3D;AAA6DkF,MAAAA,UAAU,GAAC1S,MAAM,CAACoK,YAAP,CAAoB;AAAC/I,QAAAA,KAAK,EAAC6P,cAAP;AAAsB5P,QAAAA,MAAM,EAACgO,SAAS,CAAC,CAAD,CAAT,KAAevT,IAAI,CAAC8T,iBAApB,GAAsCzP,MAAM,CAACoZ,eAAP,GAAuBV,WAAvB,GAAmC1Y,MAAM,CAACoZ,eAA1C,GAA0DV,WAAhG,GAA4G3H;AAAzI,OAApB,EAA+K7P,MAA1L;AAAiM;;AAAA,WAAM;AAACwP,MAAAA,MAAM,EAAC4B,UAAR;AAAmBvU,MAAAA,KAAK,EAAC;AAAzB,KAAN;AAAkC,GAA/4F;;AAAg5FyE,EAAAA,MAAM,CAACoO,sBAAP,GAA8B,SAASA,sBAAT,CAAgCyI,UAAhC,EAA2C;AAAC,QAAIzZ,MAAM,GAAC,IAAX;AAAA,QAAgBkR,cAAc,GAACuI,UAA/B;AAAA,QAA0CpS,UAAU,GAACrH,MAAM,CAACI,MAA5D;AAAA,QAAmEyF,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAzE;AAAA,QAAoG0Y,SAAS,GAAC7T,KAAK,CAACzF,MAApH;AAAA,QAA2H2R,UAAU,GAAClM,KAAK,CAAC7E,UAAN,CAAiB,YAAjB,CAAtI;AAAA,QAAqK+R,aAAa,GAAC1L,UAAU,CAAC0L,aAA9L;AAAA,QAA4MpN,SAAS,GAAC3F,MAAM,CAACgS,iBAAP,CAAyB,SAAzB,CAAtN;AAAA,QAA0Pb,eAAe,GAACuI,SAAS,CAACC,YAApR;AAAA,QAAiSnG,UAAU,GAAC,EAA5S;AAAA,QAA+SvC,OAAO,GAACjR,MAAM,CAAC2D,oBAAP,EAAvT;AAAA,QAAqVI,GAAG,GAACkN,OAAO,CAACzT,MAAjW;AAAA,QAAwWoc,SAAxW;AAAA,QAAkXC,WAAW,GAAC,EAA9X;;AAAiY,QAAG3I,cAAc,GAAC6B,aAAlB,EAAgC;AAAC1L,MAAAA,UAAU,CAAC7B,OAAX,GAAmBuN,aAAa,GAAC7B,cAAc,GAAC,CAAhD;AAAkD;;AAAAa,IAAAA,UAAU,CAACqH,qBAAX,CAAiCM,SAAS,CAACL,uBAA3C;AAAoEtH,IAAAA,UAAU,CAACkD,QAAX,CAAoB,CAAC,GAAElZ,IAAI,CAACmZ,OAAR,EAAiB,EAAjB,EAAoBvP,SAAS,CAACP,IAA9B,CAApB;;AAAyD,QAAG,CAACiC,UAAU,CAAC6L,UAAZ,IAAwB,CAAC7L,UAAU,CAAC+L,OAAvC,EAA+C;AAAC/L,MAAAA,UAAU,CAAC6L,UAAX,GAAsB,CAAtB;AAAwB;;AAAA,QAAG,CAAC7L,UAAU,CAACkS,UAAZ,IAAwBxV,GAAG,KAAG,CAAjC,EAAmC;AAACyP,MAAAA,UAAU,CAACrV,KAAX,GAAiB,CAAjB;AAAmBkJ,MAAAA,UAAU,CAAC/F,MAAX,GAAkB,CAAlB;AAAoB+F,MAAAA,UAAU,CAAChG,KAAX,GAAiB,CAAjB;AAAmB,KAA9F,MAAkG;AAACuY,MAAAA,SAAS,GAAC5Z,MAAM,CAACoK,YAAP,CAAoB;AAAC/I,QAAAA,KAAK,EAAC6P,cAAc,GAAC6B,aAAtB;AAAoCzR,QAAAA,MAAM,EAAC6P;AAA3C,OAApB,EAAiF9P,KAA3F;AAAiGmS,MAAAA,UAAU,CAACrV,KAAX,GAAiByb,SAAS,GAAC7G,aAA3B;;AAAyC,UAAGS,UAAU,CAACrV,KAAX,GAAiB0b,WAAjB,IAA8B3I,cAAjC,EAAgD;AAACsC,QAAAA,UAAU,CAACrV,KAAX,IAAkB0b,WAAlB;AAA8B;AAAC;;AAAA,WAAOrG,UAAP;AAAkB,GAAljC;;AAAmjC5Q,EAAAA,MAAM,CAACkX,gBAAP,GAAwB,SAASA,gBAAT,GAA2B;AAAC,QAAI9Z,MAAM,GAAC,IAAX;AAAA,QAAgBqH,UAAU,GAACrH,MAAM,CAACI,MAAlC;AAAA,QAAyCuQ,cAAc,GAACtJ,UAAU,CAACiI,SAAX,GAAqBjI,UAAU,CAACiI,SAAX,CAAqBC,KAArB,CAA2B,GAA3B,CAArB,GAAqD,EAA7G;AAAA,QAAgH1J,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtH;AAAA,QAAiJmQ,eAAe,GAACtL,KAAK,CAACzF,MAAN,CAAauZ,YAA9K;;AAA2L,QAAGhJ,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC2T,cAAzB,IAAyCiB,cAAc,CAAC,CAAD,CAAd,KAAoB5U,IAAI,CAAC0T,aAArE,EAAmF;AAAC,UAAGpI,UAAU,CAACgC,WAAX,GAAuB8H,eAA1B,EAA0C;AAAC,YAAG9J,UAAU,CAACgC,WAAX,IAAwBhC,UAAU,CAAC/F,MAAtC,EAA6C;AAAC+F,UAAAA,UAAU,CAAC5B,MAAX,CAAkBhB,OAAlB,GAA0B,IAA1B;AAA+B4C,UAAAA,UAAU,CAAC5B,MAAX,CAAkB8R,cAAlB,GAAiClQ,UAAU,CAACkQ,cAA5C;AAA2DlQ,UAAAA,UAAU,CAAC5B,MAAX,CAAkB+R,mBAAlB,GAAsCnQ,UAAU,CAACmQ,mBAAjD;AAAqEnQ,UAAAA,UAAU,CAAChG,KAAX,IAAkB,CAACgG,UAAU,CAAC5B,MAAX,CAAkBsU,cAAlB,GAAiC,EAAlC,KAAuC1S,UAAU,CAAC5B,MAAX,CAAkBuU,gBAAlB,GAAmC,CAA1E,CAAlB;AAA+F;;AAAA3S,QAAAA,UAAU,CAAC/F,MAAX,GAAkB6P,eAAlB;AAAkC,OAAzX,MAA6X;AAAC9J,QAAAA,UAAU,CAAC5B,MAAX,CAAkBhB,OAAlB,GAA0B,KAA1B;AAAgC;AAAC;AAAC,GAAnuB;;AAAouB7B,EAAAA,MAAM,CAACqX,mBAAP,GAA2B,SAASA,mBAAT,CAA6BC,GAA7B,EAAiC;AAAC,QAAGA,GAAG,KAAG,KAAK,CAAd,EAAgB;AAACA,MAAAA,GAAG,GAAC,EAAJ;AAAO;;AAAA9X,IAAAA,mBAAmB,CAACS,SAApB,CAA8BoX,mBAA9B,CAAkD3X,IAAlD,CAAuD,IAAvD,EAA4D4X,GAA5D;;AAAiE,QAAIla,MAAM,GAAC,IAAX;AAAA,QAAgBI,MAAM,GAACJ,MAAM,CAACI,MAA9B;AAAA,QAAqCyF,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAA3C;AAAA,QAAsED,WAAW,GAAC8E,KAAK,CAACzF,MAAxF;AAAA,QAA+FgS,gBAA/F;AAAA,QAAgHvH,KAAK,GAAC7K,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtH;AAAA,QAAiJ0H,SAAS,GAAC7C,KAAK,CAAC7E,UAAN,CAAiB,cAAjB,CAA3J;AAAA,QAA4LmZ,IAAI,GAACtU,KAAK,CAACzF,MAAN,CAAa+Z,IAA9M;AAAA,QAAmNC,MAAM,GAACpa,MAAM,CAACgB,UAAP,CAAkB,eAAlB,CAA1N;AAAA,QAA6P+K,WAA7P;AAAA,QAAyQsO,aAAa,GAACF,IAAI,GAACpe,IAAI,CAACue,eAAL,CAAqBC,OAAtB,GAA8Bxe,IAAI,CAACue,eAAL,CAAqBE,OAA9U;AAAA,QAAsVC,iBAAiB,GAACra,MAAM,CAACqa,iBAAP,GAAyB5U,KAAK,CAAC6U,oBAAN,KAA6B,KAA7B,IAAoCC,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACkS,iBAA/B,EAAiD,CAAjD,CAAD,CAA5a;AAAA,QAAke5O,WAAle;AAAA,QAA8eC,eAA9e;AAAA,QAA8f4O,UAAU,GAAC,CAAC,GAAE9e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACoS,aAA/B,EAA6C,CAA7C,CAAzgB;AAAA,QAAyjBtV,OAAO,GAAC,CAAjkB;AAAA,QAAmkBuV,WAAW,GAAClQ,KAAK,CAACkQ,WAArlB;AAAA,QAAimBC,SAAS,GAACd,GAAG,CAACrP,KAAJ,IAAWqP,GAAG,CAACrP,KAAJ,CAAUzF,IAAhoB;AAAA,QAAqoB6V,cAAc,GAAC,CAAC,GAAElf,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACyS,cAAzB,EAAwCH,SAAS,IAAEA,SAAS,CAAC,aAAD,CAA5D,EAA4EnQ,KAAK,CAACuQ,gBAAlF,CAAppB;AAAA,QAAwvBpI,WAAW,GAAC,CAAC,GAAEjX,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC2S,eAA/B,EAA+C,CAA/C,CAApwB;AAAA,QAAszBpJ,cAAc,GAAC,CAAC,GAAElW,IAAI,CAACuf,aAAR,EAAuB5S,SAAS,CAAC6S,kBAAjC,EAAoDP,SAAS,IAAEA,SAAS,CAAC,WAAD,CAAxE,EAAsFnQ,KAAK,CAACQ,QAA5F,IAAsGhM,QAA36B;AAAA,QAAo7Bmc,eAAe,GAAC,CAAC,GAAEzf,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC+S,mBAAzB,EAA6CT,SAAS,IAAEA,SAAS,CAACtR,KAAlE,EAAwEqR,WAAxE,EAAqFW,OAArF,CAA6F,kBAA7F,EAAgH,KAAhH,CAAp8B;AAAA,QAA2jCC,wBAAwB,GAAC,CAAC,GAAE5f,IAAI,CAAC6f,aAAR,EAAuB,CAAC,GAAE7f,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACmT,wBAAzB,EAAkDL,eAAlD,CAAvB,CAAplC;AAAA,QAA+qCM,SAA/qC;AAAyrC1b,IAAAA,MAAM,CAACqX,QAAP,GAAgB,KAAhB;AAAsBrX,IAAAA,MAAM,CAACuN,cAAP,GAAsB5M,WAAW,CAACgb,aAAlC;AAAgD3b,IAAAA,MAAM,CAACqN,gBAAP,GAAwB1M,WAAW,CAACib,eAApC;AAAoD5b,IAAAA,MAAM,CAACyN,iBAAP,GAAyB9M,WAAW,CAACkb,gBAArC;AAAsD7b,IAAAA,MAAM,CAACmN,eAAP,GAAuBxM,WAAW,CAACmb,cAAnC;AAAkD9b,IAAAA,MAAM,CAACwD,aAAP,GAAqB,CAAC,GAAE7H,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC9E,aAA/B,EAA6C,CAA7C,CAArB;AAAqExD,IAAAA,MAAM,CAACmZ,UAAP,GAAkB,CAAC,GAAExd,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACyT,UAA/B,EAA0C,CAACtW,KAAK,CAACuW,uBAAjD,EAAyE,CAAzE,CAAlB;AAA8Fhc,IAAAA,MAAM,CAAC+R,sBAAP,GAA8B,CAAC,GAAEpW,IAAI,CAACsgB,yBAAR,EAAmC3T,SAAS,CAAC6S,kBAA7C,EAAgE1Q,KAAK,CAACyR,gBAAN,IAAwBzR,KAAK,CAACQ,QAA9F,CAA9B;AAAsI+G,IAAAA,gBAAgB,GAAC,CAAC,GAAErW,IAAI,CAACuW,aAAR,EAAuB;AAACjH,MAAAA,QAAQ,EAAC4G;AAAV,KAAvB,CAAjB;AAAmE7R,IAAAA,MAAM,CAACkP,SAAP,GAAiB,CAAC,GAAEvT,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC6T,cAAzB,EAAwC1W,KAAK,CAAC0W,cAA9C,EAA6DrC,GAAG,CAACvJ,cAAjE,EAAgF5U,IAAI,CAACiU,eAArF,EAAsGwM,WAAtG,EAAjB;AAAqIpc,IAAAA,MAAM,CAAC8S,UAAP,GAAkB,CAAC,GAAEnX,IAAI,CAAC8L,WAAR,EAAqBrJ,IAAI,CAACM,KAAL,CAAW4J,SAAS,CAACuK,gBAArB,CAArB,CAAlB;AAA+E7S,IAAAA,MAAM,CAACgT,OAAP,GAAe,CAAC,GAAErX,IAAI,CAAC8L,WAAR,EAAqBrJ,IAAI,CAACM,KAAL,CAAW4J,SAAS,CAACyK,aAArB,CAArB,CAAf;;AAAyE,QAAG/S,MAAM,CAAC8S,UAAP,GAAkB,CAArB,EAAuB;AAAC9S,MAAAA,MAAM,CAAC8S,UAAP,GAAkBnV,KAAlB;AAAwB;;AAAA,QAAGqC,MAAM,CAACgT,OAAP,GAAe,CAAlB,EAAoB;AAAChT,MAAAA,MAAM,CAACgT,OAAP,GAAerV,KAAf;AAAqB;;AAAAqC,IAAAA,MAAM,CAAC0P,eAAP,GAAuBnR,OAAO,CAAC,CAAC,GAAE5C,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC+T,eAA/B,EAA+C5W,KAAK,CAAC4W,eAArD,EAAqEvC,GAAG,CAACpK,eAAzE,EAAyF,CAAzF,CAAD,EAA6F,CAA7F,CAA9B;AAA8H1P,IAAAA,MAAM,CAAC2P,eAAP,GAAuBpR,OAAO,CAAC,CAAC,GAAE5C,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACgU,eAA/B,EAA+C7W,KAAK,CAAC6W,eAArD,EAAqExC,GAAG,CAACnK,eAAzE,EAAyF,CAAzF,CAAD,EAA6F,CAA7F,CAA9B;AAA8H3P,IAAAA,MAAM,CAACkZ,cAAP,GAAsB,CAAC,GAAEvd,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACiU,cAA/B,EAA8C9W,KAAK,CAAC8W,cAApD,EAAmEzC,GAAG,CAACZ,cAAvE,CAAtB;AAA6GlZ,IAAAA,MAAM,CAACoZ,eAAP,GAAuB,CAAC,GAAEzd,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACkU,eAA/B,EAA+C/W,KAAK,CAAC+W,eAArD,EAAqE1C,GAAG,CAACV,eAAzE,CAAvB;;AAAiH,QAAGpZ,MAAM,CAACkZ,cAAP,GAAsB,CAAzB,EAA2B;AAAClZ,MAAAA,MAAM,CAACkZ,cAAP,GAAsBvb,KAAtB;AAA4B;;AAAA,QAAGqC,MAAM,CAACoZ,eAAP,GAAuB,CAA1B,EAA4B;AAACpZ,MAAAA,MAAM,CAACoZ,eAAP,GAAuBzb,KAAvB;AAA6B;;AAAAqC,IAAAA,MAAM,CAACC,EAAP,GAAUD,MAAM,CAACG,EAAP,GAAU,CAApB;;AAAsB,QAAGyS,WAAW,IAAE,CAAb,IAAgBA,WAAW,GAAC,CAA/B,EAAiC;AAACA,MAAAA,WAAW,GAAC,CAAZ;AAAc;;AAAA5S,IAAAA,MAAM,CAACyc,oBAAP,GAA4B,CAAC,GAAE9gB,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACoU,oBAA/B,EAAoD5C,GAAG,CAAC4C,oBAAxD,EAA6E,CAA7E,CAA5B;AAA4G1c,IAAAA,MAAM,CAAC4S,WAAP,GAAmBA,WAAnB;AAA+B5S,IAAAA,MAAM,CAAC2S,aAAP,GAAqB,CAAC,GAAEhX,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACqU,aAA/B,EAA6C,CAA7C,CAArB;AAAqE3c,IAAAA,MAAM,CAACmO,qBAAP,GAA6B,CAAC,GAAExS,IAAI,CAAC8L,WAAR,EAAqBqS,GAAG,CAAC8C,qBAAzB,EAA+Cjc,WAAW,CAACwN,qBAA3D,CAA7B;AAA+GnO,IAAAA,MAAM,CAAC+E,KAAP,CAAa0F,KAAb,GAAmB;AAACO,MAAAA,UAAU,EAAC,CAAC,GAAErP,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACuU,iBAAzB,EAA2ChC,cAA3C,CAAZ;AAAuE5P,MAAAA,QAAQ,EAAC,CAAC,GAAEtP,IAAI,CAACuf,aAAR,EAAuB5S,SAAS,CAACwU,qBAAjC,EAAuDrS,KAAK,CAACQ,QAA7D,IAAuEhM,QAAvJ;AAAgKqK,MAAAA,KAAK,EAAC,CAAC,GAAE3N,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACyU,sBAAzB,EAAgDpC,WAAhD,EAA6DW,OAA7D,CAAqE,kBAArE,EAAwF,KAAxF,CAAtK;AAAqQ9b,MAAAA,UAAU,EAACD,aAAa,CAACC,UAAd,CAAyB,CAAC,GAAE7D,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC0U,qBAA/B,EAAqD,CAArD,CAAzB,KAAmFrhB,IAAI,CAACsJ;AAAxW,KAAnB;AAAwYyW,IAAAA,SAAS,GAACpT,SAAS,CAAC2U,sBAAV,GAAiC3U,SAAS,CAAC2U,sBAAV,CAAiCb,WAAjC,EAAjC,GAAgFxe,eAAe,CAACK,MAA1G;AAAiH+B,IAAAA,MAAM,CAAC+E,KAAP,CAAayF,KAAb,GAAmB5M,eAAe,CAAC8d,SAAD,CAAf,IAA4B9d,eAAe,CAACK,MAA/D;AAAsE+B,IAAAA,MAAM,CAAC+E,KAAP,CAAa0F,KAAb,CAAmB,aAAnB,IAAkCzK,MAAM,CAAC+E,KAAP,CAAayF,KAA/C;AAAqDxK,IAAAA,MAAM,CAACoF,OAAP,GAAeA,OAAf;AAAuBuG,IAAAA,WAAW,GAAC,CAAC,GAAEhQ,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC4U,iBAAzB,EAA2ClD,MAAM,CAACmD,QAAP,CAAgBlD,aAAa,CAACmD,iBAA9B,CAA3C,CAAZ;AAAyGxR,IAAAA,WAAW,GAAC5L,MAAM,CAAC4L,WAAP,GAAmB,CAAC,GAAEjQ,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC+U,iBAA/B,EAAiD,GAAjD,CAA/B;AAAqFrd,IAAAA,MAAM,CAAC2L,WAAP,GAAmB,CAAC,GAAEhQ,IAAI,CAAC4N,YAAR,EAAsBoC,WAAtB,EAAkCC,WAAlC,CAAnB;AAAkE5L,IAAAA,MAAM,CAACc,WAAP,GAAmB,CAAC,GAAEnF,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACgV,qBAA/B,EAAqDxD,GAAG,CAACwD,qBAAzD,EAA+E,CAAC7C,UAAD,IAAanS,SAAS,CAAC4U,iBAAvB,GAAyC,CAAzC,GAA2C,CAA1H,CAAnB;AAAgJld,IAAAA,MAAM,CAACuE,YAAP,GAAoB,CAAC,GAAE5I,IAAI,CAAC8L,WAAR,EAAqBgT,UAArB,EAAgC,CAAhC,CAApB;AAAuDza,IAAAA,MAAM,CAAC6L,eAAP,GAAuBA,eAAe,GAAC,CAAC,GAAElQ,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACiV,aAA/B,EAA6CzD,GAAG,CAACyD,aAAjD,EAA+D,GAA/D,CAAvC;AAA2Gvd,IAAAA,MAAM,CAAC6E,eAAP,GAAuB,CAAC,GAAElJ,IAAI,CAAC4N,YAAR,EAAsB,CAAC,GAAE5N,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACkV,aAAzB,EAAuCxD,MAAM,CAACmD,QAAP,CAAgBlD,aAAa,CAACwD,aAA9B,CAAvC,CAAtB,EAA2G5R,eAA3G,CAAvB;AAAmJ7L,IAAAA,MAAM,CAAC0d,gBAAP,GAAwBnD,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACqV,aAA/B,EAA6CrV,SAAS,CAACsV,oBAAvD,EAA4E,CAA5E,CAAD,CAA/B;AAAgH5d,IAAAA,MAAM,CAAC0d,gBAAP,GAAwB,CAAC/c,WAAW,CAACkd,UAAb,IAAyB7d,MAAM,CAAC0d,gBAAxD;AAAyE1d,IAAAA,MAAM,CAACgM,MAAP,GAAcuO,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACwV,YAA/B,EAA4C,CAA5C,CAAD,CAArB;;AAAsE,QAAG9d,MAAM,CAACgM,MAAV,EAAiB;AAAChM,MAAAA,MAAM,CAACgM,MAAP,GAAc;AAAC3H,QAAAA,OAAO,EAACrE,MAAM,CAACgM,MAAhB;AAAuBjB,QAAAA,OAAO,EAACxM,OAAO,CAACqN,WAAD,EAAaC,eAAb,CAAP,GAAqC;AAApE,OAAd;AAAuF;;AAAA7L,IAAAA,MAAM,CAAC+d,YAAP,GAAoBxD,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBzH,MAAM,CAACge,QAA5B,EAAqC,CAArC,CAAD,CAA3B;AAAqEhe,IAAAA,MAAM,CAACge,QAAP,GAAgBzD,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC9E,aAA/B,EAA6C,CAA7C,CAAD,CAAvB;AAAyExD,IAAAA,MAAM,CAACie,SAAP,GAAiB,CAAC,GAAEtiB,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC4V,aAA/B,EAA6C,CAA7C,CAAjB;AAAiEle,IAAAA,MAAM,CAACuE,YAAP,GAAoB,CAAC,GAAE5I,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC6V,kBAA/B,EAAkD1D,UAAU,GAAC,CAAD,GAAG,CAA/D,CAApB;AAAsFza,IAAAA,MAAM,CAAC+L,eAAP,GAAuBwO,OAAO,CAAC,CAAC,GAAE5e,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC8V,eAA/B,EAA+C,CAA/C,CAAD,CAA9B;AAAkFpe,IAAAA,MAAM,CAAC+E,KAAP,CAAaqQ,OAAb,GAAqB,CAAC,GAAEzZ,IAAI,CAACqZ,iBAAR,EAA2B,CAAC,GAAErZ,IAAI,CAAC0iB,aAAR,EAAuB/V,SAAS,CAACgW,aAAjC,EAA+C3iB,IAAI,CAACsJ,WAApD,CAA3B,CAArB;AAAkHjF,IAAAA,MAAM,CAAC0G,mBAAP,GAA2B,CAAC,GAAE/K,IAAI,CAAC6f,aAAR,EAAuB,CAAC,GAAE7f,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACe,mBAAzB,EAA6Cf,SAAS,CAACiW,WAAvD,EAAmEvE,MAAM,CAACmD,QAAP,CAAgB,eAAhB,CAAnE,CAAvB,CAA3B;AAAwJnd,IAAAA,MAAM,CAACwe,oBAAP,GAA4B,CAAC,GAAE7iB,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACmW,oBAAzB,EAA8C9S,WAA9C,CAA5B;AAAuF3L,IAAAA,MAAM,CAAC0e,oBAAP,GAA4B,CAAC,GAAE/iB,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAACqW,oBAAzB,EAA8ChT,WAA9C,CAA5B;AAAuF3L,IAAAA,MAAM,CAAC0S,wBAAP,GAAgC,CAAC,GAAE/W,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACsW,wBAA/B,EAAwD,CAAxD,CAAhC;AAA2F5e,IAAAA,MAAM,CAACmX,cAAP,GAAsB,CAAC,GAAExb,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACuW,cAA/B,EAA8C,CAA9C,CAAtB;AAAuE7e,IAAAA,MAAM,CAACoX,mBAAP,GAA2B,CAAC,GAAEzb,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACwW,mBAA/B,EAAmD,CAAnD,CAA3B;AAAiF9e,IAAAA,MAAM,CAAC+e,aAAP,GAAqB,KAArB;AAA2Bnf,IAAAA,MAAM,CAAC0U,iBAAP,CAAyB,QAAzB,EAAkC;AAACC,MAAAA,MAAM,EAAC;AAACzS,QAAAA,IAAI,EAAC,CAAC,GAAEnG,IAAI,CAAC4N,YAAR,EAAsB,CAAC,GAAE5N,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC0W,qBAAzB,EAA+C,QAA/C,EAAyD1D,OAAzD,CAAiE,kBAAjE,EAAoF,KAApF,CAAtB,CAAN;AAAwH3U,QAAAA,MAAM,EAAC,CAAC,GAAEhL,IAAI,CAAC4N,YAAR,EAAsB,CAAC,GAAE5N,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC0W,qBAAzB,EAA+C,QAA/C,EAAyD1D,OAAzD,CAAiE,kBAAjE,EAAoF,KAApF,CAAtB;AAA/H,OAAR;AAA0PtW,MAAAA,IAAI,EAAC;AAAClD,QAAAA,IAAI,EAAC,CAAC,GAAEnG,IAAI,CAAC4N,YAAR,EAAsB,CAAC,GAAE5N,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC0W,qBAAzB,EAA+C,QAA/C,EAAyD1D,OAAzD,CAAiE,kBAAjE,EAAoF,KAApF,CAAtB;AAAN;AAA/P,KAAlC;AAA4Z1b,IAAAA,MAAM,CAAC0U,iBAAP,CAAyB,SAAzB,EAAmC;AAACtP,MAAAA,IAAI,EAAC;AAAClD,QAAAA,IAAI,EAAC,CAAC,GAAEnG,IAAI,CAAC4N,YAAR,EAAsB6R,eAAtB,CAAN;AAA6C,uBAAcP,cAA3D;AAA0E/O,QAAAA,MAAM,EAACuO,iBAAiB,GAAC1e,IAAI,CAACyD,SAAL,CAAe6f,OAAhB,GAAwB,SAA1H;AAAoI,qBAAYpN,cAAhJ;AAA+J,uBAAcG,gBAA7K;AAA8L,0BAAiBrW,IAAI,CAACmP,YAApN;AAAiO,uBAAcnP,IAAI,CAACmC,cAApP;AAAmQ6M,QAAAA,SAAS,EAAChK,WAAW,CAACiK,aAAZ,KAA4B,KAA5B,GAAkC,KAAlC,GAAwC,SAArT;AAA+T,uBAAcrL,aAAa,CAACC,UAAd,CAAyB,CAAC,GAAE7D,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC4W,kBAA/B,EAAkD,CAAlD,CAAzB,KAAgFvjB,IAAI,CAACsJ;AAAla,OAAN;AAAqbsP,MAAAA,MAAM,EAAC;AAACC,QAAAA,OAAO,EAAC,CAAC,GAAE7Y,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC6W,iBAAzB,CAAT;AAAqDrT,QAAAA,MAAM,EAACuO,iBAAiB,GAAC1e,IAAI,CAACyD,SAAL,CAAe6f,OAAhB,GAAwB,SAArG;AAA+GtT,QAAAA,WAAW,EAAC,CAAC,GAAEhQ,IAAI,CAACmf,KAAR,EAAexS,SAAS,CAAC8W,qBAAzB,CAA3H;AAA2K3K,QAAAA,OAAO,EAAC,CAAC,GAAE9Y,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAAC+W,iBAA/B,EAAiD/W,SAAS,CAACgX,eAA3D,EAA2E,GAA3E,CAAnL;AAAmQ1T,QAAAA,WAAW,EAAC,CAAC,GAAEjQ,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACiX,qBAA/B,EAAqDjX,SAAS,CAACgX,eAA/D,EAA+E,GAA/E,CAA/Q;AAAmW5K,QAAAA,eAAe,EAAC,CAAC,GAAE/Y,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACkX,yBAA/B,CAAnX;AAA6a7K,QAAAA,UAAU,EAAC,CAAC,GAAEhZ,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACmX,oBAA/B,EAAoD,EAApD,CAAxb;AAAgf7K,QAAAA,KAAK,EAAC,CAAC,GAAEjZ,IAAI,CAAC8L,WAAR,EAAqBa,SAAS,CAACoX,eAA/B,EAA+C5F,GAAG,CAAC4F,eAAnD,EAAmE,CAAnE;AAAtf;AAA5b,KAAnC;AAA8hC9f,IAAAA,MAAM,CAAC0U,iBAAP,CAAyB,OAAzB,EAAkC,UAASqL,SAAT,EAAmBC,UAAnB,EAA8B;AAAC,UAAG,CAACA,UAAU,CAACC,QAAX,CAAoB,QAApB,CAAJ,EAAkC;AAAC,YAAG,CAACF,SAAS,CAAC3a,IAAd,EAAmB;AAAC2a,UAAAA,SAAS,CAAC3a,IAAV,GAAe,EAAf;AAAkB;;AAAA2a,QAAAA,SAAS,CAAC3a,IAAV,CAAelD,IAAf,GAAoB,CAAC,GAAEnG,IAAI,CAAC4N,YAAR,EAAsBgS,wBAAwB,CAACD,OAAzB,CAAiC,kBAAjC,EAAoD,KAApD,CAAtB,CAApB;AAAsGqE,QAAAA,SAAS,CAAC3a,IAAV,CAAe8G,MAAf,GAAsBjN,WAAtB;AAAkC;;AAAA,aAAO8gB,SAAP;AAAiB,KAAnS;;AAAsS,QAAG3f,MAAM,CAAC+L,eAAP,IAAwB,CAAC/L,MAAM,CAAC8f,sBAAnC,EAA0D;AAAClgB,MAAAA,MAAM,CAACmD,gBAAP,CAAwB,cAAxB,EAAuC/C,MAAM,CAACL,QAAP,CAAgBI,SAAvD;AAAkEH,MAAAA,MAAM,CAACmD,gBAAP,CAAwB,aAAxB,EAAsC/C,MAAM,CAACL,QAAP,CAAgBU,QAAtD;AAAgEL,MAAAA,MAAM,CAAC8f,sBAAP,GAA8B,IAA9B;AAAmC,KAAhO,MAAqO,IAAG,CAAC9f,MAAM,CAAC+L,eAAR,IAAyB/L,MAAM,CAAC8f,sBAAnC,EAA0D;AAAClgB,MAAAA,MAAM,CAACmgB,mBAAP,CAA2B,cAA3B,EAA0C/f,MAAM,CAACL,QAAP,CAAgBI,SAA1D;AAAqEH,MAAAA,MAAM,CAACmgB,mBAAP,CAA2B,aAA3B,EAAyC/f,MAAM,CAACL,QAAP,CAAgBU,QAAzD;AAAmEL,MAAAA,MAAM,CAAC8f,sBAAP,GAA8B,KAA9B;AAAoC;AAAC,GAAvoQ;;AAAwoQtd,EAAAA,MAAM,CAACwd,cAAP,GAAsB,SAASA,cAAT,GAAyB;AAAC,WAAO,KAAK5d,YAAZ;AAAyB,GAAzE;;AAA0EI,EAAAA,MAAM,CAACqd,QAAP,GAAgB,SAASA,QAAT,CAAkBI,KAAlB,EAAwB;AAAC,QAAIC,MAAM,GAAC,KAAKF,cAAL,EAAX;AAAA,QAAiC9iB,CAAjC;AAAA,QAAmCyG,GAAnC;;AAAuC,SAAIzG,CAAC,GAAC,CAAF,EAAIyG,GAAG,GAACuc,MAAM,CAAC9iB,MAAnB,EAA0BF,CAAC,GAACyG,GAA5B,EAAgCzG,CAAC,EAAjC,EAAoC;AAAC,UAAGgjB,MAAM,CAAChjB,CAAD,CAAN,KAAY+iB,KAAf,EAAqB;AAAC,eAAO,IAAP;AAAY;AAAC;;AAAA,WAAO,KAAP;AAAa,GAArK;;AAAsKzd,EAAAA,MAAM,CAACQ,cAAP,GAAsB,SAASA,cAAT,CAAwBid,KAAxB,EAA8BE,SAA9B,EAAwC;AAAC,QAAG,CAAC,KAAKN,QAAL,CAAcI,KAAd,CAAJ,EAAyB;AAAC,UAAGE,SAAH,EAAa;AAAC,aAAK/d,YAAL,CAAkBtF,IAAlB,CAAuBmjB,KAAvB;AAA8B,OAA5C,MAAgD;AAAC,aAAK7d,YAAL,CAAkBge,OAAlB,CAA0BH,KAA1B;AAAiC;AAAC;;AAAA,SAAKI,SAAL;AAAiB,GAA7L;;AAA8L7d,EAAAA,MAAM,CAACS,iBAAP,GAAyB,SAASA,iBAAT,CAA2Bgd,KAA3B,EAAiC;AAAC,QAAI/iB,CAAJ;AAAA,QAAMyG,GAAN;AAAA,QAAU2c,QAAQ,GAAC,CAAnB;;AAAqB,QAAGL,KAAH,EAAS;AAAC,WAAI/iB,CAAC,GAAC,CAAF,EAAIyG,GAAG,GAAC,KAAKvB,YAAL,CAAkBhF,MAA9B,EAAqCF,CAAC,GAACyG,GAAF,IAAO2c,QAA5C,EAAqDpjB,CAAC,EAAtD,EAAyD;AAAC,YAAG+iB,KAAK,KAAG,KAAK7d,YAAL,CAAkBlF,CAAlB,CAAX,EAAgC;AAAC,eAAKkF,YAAL,CAAkBme,MAAlB,CAAyBrjB,CAAzB,EAA2B,CAA3B;;AAA8BojB,UAAAA,QAAQ,GAAC,CAAT;AAAW;AAAC;AAAC,KAAhJ,MAAoJ;AAAC,WAAKle,YAAL,CAAkBhF,MAAlB,GAAyB,CAAzB;AAA2B;;AAAA,SAAKijB,SAAL;AAAiB,GAAjR;;AAAkR7d,EAAAA,MAAM,CAAC8R,iBAAP,GAAyB,SAASA,iBAAT,CAA2B2L,KAA3B,EAAiCN,SAAjC,EAA2C;AAAC,SAAKxd,eAAL,CAAqB8d,KAArB,IAA4BN,SAA5B;AAAsC,GAA3G;;AAA4Gnd,EAAAA,MAAM,CAACge,oBAAP,GAA4B,SAASA,oBAAT,CAA8BP,KAA9B,EAAoC;AAAC,WAAO,KAAK9d,eAAL,CAAqB8d,KAArB,CAAP;AAAmC,GAApG;;AAAqGzd,EAAAA,MAAM,CAACoP,iBAAP,GAAyB,SAASA,iBAAT,CAA2BqO,KAA3B,EAAiC;AAAC,WAAO,KAAK9d,eAAL,CAAqB8d,KAArB,CAAP;AAAmC,GAA9F;;AAA+Fzd,EAAAA,MAAM,CAAC+I,IAAP,GAAY,SAASA,IAAT,GAAe;AAAC,QAAI3L,MAAM,GAAC,IAAX;AAAA,QAAgB6F,KAAK,GAAC7F,MAAM,CAACgB,UAAP,CAAkB,OAAlB,CAAtB;AAAA,QAAiD+E,WAAW,GAACF,KAAK,CAACU,iBAAN,CAAwB,aAAxB,CAA7D;AAAoGR,IAAAA,WAAW,IAAEA,WAAW,CAAC4F,IAAZ,EAAb;AAAgC,GAAhK;;AAAiK,SAAOxJ,MAAP;AAAc,CAAz+5C,CAA0+5CnG,mBAAmB,CAAC6kB,kBAA9/5C,CAAX;;AAA6h6C,IAAIC,QAAQ,GAAC3e,MAAb;AAAoB1G,OAAO,CAACE,OAAR,GAAgBmlB,QAAhB","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _legendItem=_interopRequireDefault(require(\"./legend-item\"));var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _toolbox=require(\"@fusioncharts/core/src/toolbox\");var _index=_interopRequireDefault(require(\"./index.animation\"));var _schedular=require(\"@fusioncharts/core/src/schedular\");var _faber=require(\"@fusioncharts/core/src/_internal/vendors/faberjs/src/faber\");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}var UNDEF,TEXT_ANCHOR_MAP={left:_lib.POSITION_START,right:_lib.POSITION_END,center:_lib.POSITION_MIDDLE},math=Math,mathMin=math.min,mathMax=math.max,mathFloor=math.floor,mathCeil=math.ceil,INHERIT_STR=\"inherit\",COMMA=\",\",NONE=\"none\",COLOR_WHITE=\"#ffffff\",PXSTRING=\"px\",ZERO_STR=\"0,\",NORMAL=_lib.preDefStr.NORMAL,BOLD=_lib.preDefStr.BOLD,noneStr=_lib.preDefStr.noneStr,styleValueMap={fontWeight:{1:BOLD,0:NORMAL},fontStyle:{1:\"italic\",0:NORMAL},textDecoration:{1:\"underline\",0:noneStr}},handlers=function handlers(legend){var dragInitX,dragInitY;return{dragstart:function dragstart(){dragInitX=legend.config.xL||legend.config.xPos;dragInitY=legend.config.yL||legend.config.yPos},dragmove:function dragmove(e){var dx=e.originalEvent.data[0],dy=e.originalEvent.data[1],config=legend.config,chartConfig=legend.getFromEnv(\"chartConfig\"),translationLimit=(config.borderWidth||0*.5)+2,dragOffsetX,dragOffsetY;dragOffsetX=mathMin(mathMax(dragInitX+dx,translationLimit),chartConfig.width-config.width-translationLimit);dragOffsetY=mathMin(mathMax(dragInitY+dy,translationLimit),chartConfig.height-config.height-translationLimit);config.xPos=config.xL=dragOffsetX;config.yPos=config.yL=dragOffsetY;legend.addJob(\"draw\",legend.dragDraw,_schedular.priorityList&&_schedular.priorityList.draw)}}};(0,_dependencyManager.addDep)({name:\"legendAnimation\",type:\"animationRule\",extension:_index.default});var emptyArrayCreator=function emptyArrayCreator(n){return Array(n).fill()};var Legend=function(_ComponentInterface){(0,_inheritsLoose2.default)(Legend,_ComponentInterface);function Legend(){var _this;_this=_ComponentInterface.call(this)||this;var legend=(0,_assertThisInitialized2.default)(_this);legend._stateCosmetics={};legend._legendState=[];legend.dragDraw=function(){legend.draw()};legend.drawScroll=function(){legend.createItemGroup();legend.createCaptionGroup()};legend.config.handlers=handlers(legend);return _this}var _proto=Legend.prototype;_proto.createItem=function createItem(owner){var legend=this,legendItem;legendItem=new _legendItem.default;legend.attachChild(legendItem,\"legendItem\");legendItem.setLinkedItem(\"owner\",owner);legendItem.addEventListener(\"mouseover\",(function(){legendItem.setLegendState(\"hover\",true)}));legendItem.addEventListener(\"mouseout\",(function(){legendItem.removeLegendState(\"hover\")}));return legendItem.getId()};_proto.getItem=function getItem(id){var legend=this,items=legend.getChildren().legendItem;if(id!==UNDEF){if(items){for(var i=0;i<items.length;i++){if(items[i].getId()===id){return items[i]}}}}else{return false}};_proto.getSortedLegendItems=function getSortedLegendItems(){var legend=this,items=legend.getChildren(\"legendItem\")||[],reverselegend=legend.config.reverselegend,map={},sortedItems=[],i,len;for(i=0,len=items.length;i<len;i++){if(items[i].config.index===UNDEF){map[len+i]=items[i]}else{map[items[i].config.index]=items[i]}}Object.keys(map).sort((function(index1,index2){if(reverselegend){return index2-index1}return index1-index2})).forEach((function(index){sortedItems.push(map[index])}));return sortedItems};_proto.disposeItem=function disposeItem(id){var legend=this,legendItem=legend.getItem(id);legendItem&&legendItem.remove()};_proto.getName=function getName(){return\"legend\"};_proto.getType=function getType(){return\"legend\"};_proto.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);var config=this.config;config.enabled=true;config.symbolWidth=12;config.borderRadius=1;config.lastScrollPos=0;config.oriSymbolPadding=3;config.textPadding=4;config.scrollY=0;config.scrollX=0;config.backgroundColor=COLOR_WHITE;config.initialItemX=0;config.title={text:_lib.BLANKSTRING,x:0,y:0,padding:2};config.scroll={};config.horizontalScroll={};config.itemStyle={}};_proto.createLegendGroup=function createLegendGroup(){var legend=this,config=legend.config,chart=legend.getFromEnv(\"chart\"),chartConfig=chart.config,animationManager=legend.getFromEnv(\"animationManager\"),translationLimit=(config.borderWidth||0)*.5+2,legendGroup,legendGroupCheck=legend.getContainer(\"legendGroup\");config.xL&&(config.xL=mathMin(mathMax(config.xL,translationLimit),chartConfig.width-config.width-translationLimit));config.yL&&(config.yL=mathMin(mathMax(config.yL,translationLimit),chartConfig.height-config.height-translationLimit));legendGroup=animationManager.setAnimation({el:legendGroupCheck||\"group\",attr:{name:\"legendGroup\",transform:[\"T\",config.xL||config.xPos,config.yL||config.yPos]},container:chart.getChildContainer(\"legendGroup\"),component:legend});if(!legendGroupCheck){legend.addContainer(\"legendGroup\",legendGroup)}};_proto.drawDualScrollRect=function drawDualScrollRect(){var rect=this.getGraphicalElement(\"dualScrollRect\"),scrollbarContainer=this.getGraphicalElement(\"scrollbarContainer\"),animationManager=this.getFromEnv(\"animationManager\");if(this.config.scroll.enabled&&this.config.horizontalScroll.enabled){rect=animationManager.setAnimation({el:rect||\"rect\",attr:{x:this.config.width-12,y:this.config.height-12,height:12,width:12,fill:this.config.legendScrollBgColor,stroke:\"none\"},component:this,container:scrollbarContainer});rect=this.addGraphicalElement(\"dualScrollRect\",rect)}else if(rect){rect.remove()}};_proto.draw=function draw(){this.createLegendGroup();this.drawLegendBox();this.createItemGroup();this.createCaptionGroup();this.drawCaption();this.createScrollGroup();this.decideScroll();this.drawDualScrollRect()};_proto.decideScroll=function decideScroll(){var legend=this,legendConf=legend.config,scrollEnabled=legendConf.scroll.enabled,horizontalScrollEnabled=legendConf.horizontalScroll.enabled;if(scrollEnabled){this.createScrollBar()}else if(legendConf.hasScroll){legend.getChildren(\"legendScrollBar\")[0].remove();legendConf.hasScroll=false}if(horizontalScrollEnabled){this.createScrollBar(horizontalScrollEnabled)}else if(legendConf.hasHorizontalScroll){legend.getChildren(\"legendHorizontalScrollBar\")[0].remove();legendConf.hasHorizontalScroll=false}};_proto.createCaptionGroup=function createCaptionGroup(){var captionGroupCheck=this.getChildContainer(\"captionGroup\"),animationManager=this.getFromEnv(\"animationManager\"),legendGroup=this.getContainer(\"legendGroup\"),captionGroup,padding=(0,_lib.pluckNumber)(this.config.padding,4),halfPad=padding*.5,clipSTR1=ZERO_STR,clipH=mathMax(this.config.height-padding,0),clipV=mathMax(this.config.width-padding,0),clipSTR2=COMMA+(this.config.horizontalScroll.enabled?clipV:this.config.width)+COMMA+(this.config.scroll.enabled?clipH:this.config.height);if(this.config.horizontalScroll.enabled){captionGroup=this.addChildContainer(\"captionGroup\",animationManager.setAnimation({el:captionGroupCheck&&captionGroupCheck[0]!==null?captionGroupCheck:\"group\",attr:{name:\"captionGroup\",transform:[\"T\",0,this.config.scrollY||0]},container:legendGroup,component:this}));if(this.config.scroll.enabled){captionGroup.attr({\"clip-rect\":clipSTR1+halfPad+clipSTR2})}else{captionGroup.attr({\"clip-rect\":null})}}else if(captionGroupCheck){captionGroupCheck.remove()}};_proto.createItemGroup=function createItemGroup(){var legend=this,animationManager=legend.getFromEnv(\"animationManager\"),legendGroup=legend.getContainer(\"legendGroup\"),itemGroup,itemGroupCheck=legend.getChildContainer(\"itemGroup\"),padding=(0,_lib.pluckNumber)(legend.config.padding,4),halfPad=padding*.5,clipSTR1=ZERO_STR,clipH=mathMax(legend.config.height-padding,0),clipV=mathMax(legend.config.width-padding,0),clipSTR2=COMMA+(legend.config.horizontalScroll.enabled?clipV:legend.config.width)+COMMA+(legend.config.scroll.enabled?clipH:legend.config.height);itemGroup=animationManager.setAnimation({el:itemGroupCheck||\"group\",attr:{name:\"item\",transform:[\"T\",legend.config.scrollX||0,legend.config.scrollY||0]},container:legendGroup,component:legend});if(!itemGroupCheck){legend.addChildContainer(\"itemGroup\",itemGroup)}if(legend.config.scroll.enabled||legend.config.horizontalScroll.enabled){itemGroup.attr({\"clip-rect\":clipSTR1+halfPad+clipSTR2})}else{itemGroup.attr({\"clip-rect\":null})}return itemGroup};_proto.createScrollGroup=function createScrollGroup(){var legend=this,animationManager=legend.getFromEnv(\"animationManager\"),scrollGroupCheck=legend.getChildContainer(\"scrollGroup\"),legendGroup=legend.getContainer(\"legendGroup\");if((legend.config.scroll.enabled||legend.config.horizontalScroll.enabled)&&!legend.getGraphicalElement(\"scrollbarContainer\")){legend.addGraphicalElement(\"scrollbarContainer\",animationManager.setAnimation({el:scrollGroupCheck||\"group\",attr:{name:\"scrollGroup\"},container:legendGroup,component:legend,label:\"scrollbar\"}))}};_proto.createScrollBar=function createScrollBar(isHorizontal){if(isHorizontal===void 0){isHorizontal=false}var legend=this,config=legend.config,scrollItem,chartAttr=legend.getFromEnv(\"chart-attrib\"),childName=isHorizontal?\"legendHorizontalScrollBar\":\"legendScrollBar\",legendScrollBar=legend.getChildren(childName)&&legend.getChildren(childName)[0],borderWidth=config.borderWidth||0,semiBorder=borderWidth*.5,padding=(0,_lib.pluckNumber)(config.padding,4),scrollConfig,clipH,clipV,width=config.width,height=config.height,x,y,h,w;scrollItem={conf:{isHorizontal:isHorizontal},handler:{scroll:function scroll(pos){config.lastScrollPos=pos;if(isHorizontal){config.scrollX=(clipV-config.totalWidth)*pos}else{config.scrollY=(clipH-config.totalHeight)*pos}legend.addJob(\"scrollDraw\",legend.drawScroll,_schedular.priorityList&&_schedular.priorityList.draw)},mousedown:function mousedown(e){e.preventDefault();e.stopPropagation()}}};if(chartAttr.legendscrollbgcolor){scrollItem.conf.color=(0,_lib.convertColor)(chartAttr.legendscrollbgcolor)}if(!legendScrollBar){legendScrollBar=legend.attachChild(new _toolbox.ScrollBar,childName);if(isHorizontal){this.config.hasHorizontalScroll=true}else{this.config.hasScroll=true}}legendScrollBar.configure(scrollItem.conf);legendScrollBar.attachEventHandlers(scrollItem.handler);scrollConfig=legendScrollBar.config;if(isHorizontal){x=semiBorder;y=height-legendScrollBar.getLogicalSpace().height-borderWidth+padding*.5;w=width-borderWidth;if(this.config.scroll.enabled&&this.config.horizontalScroll.enabled){w-=12}w=mathMax(w,0);clipV=mathMax(width-padding,0);scrollConfig.scrollRatio=(clipV+padding)/config.totalWidth}else{clipH=mathMax(height-padding,0);x=width-legendScrollBar.getLogicalSpace().width-borderWidth+padding*.5;y=semiBorder;h=height-borderWidth;if(this.config.scroll.enabled&&this.config.horizontalScroll.enabled){h-=12}h=mathMax(h,0);scrollConfig.scrollRatio=(clipH+padding)/config.totalHeight}scrollConfig.startPercent=0;scrollConfig.scrollPosition=config.lastScrollPos;scrollConfig.parentLayer=legend.getChildContainer(\"scrollGroup\");legendScrollBar.setDimension({x:x,y:y,height:h,width:w})};_proto.drawCaption=function drawCaption(){var legend=this,caption=legend.getGraphicalElement(\"caption\"),itemGroup=legend.config.horizontalScroll.enabled?legend.getChildContainer(\"captionGroup\"):legend.getChildContainer(\"itemGroup\"),animationManager=this.getFromEnv(\"animationManager\"),config=this.config,attrObj,titleStyle,captionX,padding=(0,_lib.pluckNumber)(config.padding,4),captionCss,scrollEnabled=config.scroll.enabled,scrollbarWidth=10,width=config.width;if(config.title&&config.title.text!==_lib.BLANKSTRING&&config.validLegendItem){switch(config.title.align){case _lib.POSITION_START:captionX=padding;break;case _lib.POSITION_END:captionX=width-padding-(scrollEnabled?scrollbarWidth:0);break;default:captionX=width*.5}titleStyle=config.title.style;attrObj={text:config.title.text,title:config.title.originalText||_lib.BLANKSTRING,x:captionX,y:padding,fill:config.title.style.color,direction:config.textDirection,\"line-height\":titleStyle.lineHeight,\"vertical-align\":_lib.POSITION_TOP,\"text-anchor\":config.title.align,opacity:1};captionCss={\"font-weight\":titleStyle.fontWeight,\"font-style\":titleStyle.fontStyle,\"font-family\":titleStyle.fontFamily,\"font-size\":titleStyle.fontSize};caption&&caption.show();if(!caption||!caption[0]){caption=animationManager.setAnimation({el:\"text\",attr:attrObj,component:legend,container:itemGroup,css:captionCss});caption=this.addGraphicalElement(\"caption\",caption)}else{animationManager.setAnimation({el:caption,attr:attrObj,component:legend,container:itemGroup,css:captionCss})}legend.getFromEnv(\"toolTipController\").enableToolTip(caption,config.title.originalText)}else{if(caption){animationManager.setAnimation({el:caption,component:legend,doNotRemove:true,callback:function callback(){caption.hide()}})}}};_proto.drawLegendBox=function drawLegendBox(){var legend=this,animationManager=this.getFromEnv(\"animationManager\"),config=legend.config,box,legendGroup=legend.getContainer(\"legendGroup\"),width=config.width,boxCheck=legend.getGraphicalElement(\"box\"),height=config.height,r=config.borderRadius,backgroundColor=config.backgroundColor,borderColor=config.borderColor,borderAlpha=config.borderAlpha,backgroundAlpha=config.backgroundAlpha,borderWidth=config.borderWidth||0;box=animationManager.setAnimation({el:boxCheck||\"rect\",attr:{x:0,y:0,width:width,height:height,r:r,stroke:borderColor,\"stroke-width\":borderWidth,fill:backgroundColor||NONE,\"stroke-opacity\":borderAlpha/100,\"fill-opacity\":backgroundAlpha/100,cursor:config.legendAllowDrag?\"move\":\"default\"},container:legendGroup,component:legend,label:\"legendGroup\"});if(!boxCheck){legend.addGraphicalElement(\"box\",box);box.shadow(config.shadow)}return box};_proto._calculateTopPosition=function _calculateTopPosition(y){var legend=this,chart=legend.getFromEnv(\"chart\"),chartConfig=chart.config,yPos=y,caption=chart.getChildren(\"caption\")&&chart.getChildren(\"caption\")[0],subCaption=chart.getChildren(\"subCaption\")&&chart.getChildren(\"subCaption\")[0],toolbar=chart.getChildren(\"chartMenuBar\")&&chart.getChildren(\"chartMenuBar\")[0],oriCanvasTop=chartConfig.oriTopSpace;if(!chartConfig.toolbarY&&toolbar&&toolbar.props&&toolbar.props.height){if(!(oriCanvasTop>toolbar.props.height+toolbar.props.y)){yPos=toolbar.props.y+toolbar.props.height}}if(caption&&caption.config&&caption.config.text&&caption.config.text!==_lib.BLANKSTRING&&caption.config.height&&caption.config.isOnTop===1){yPos=caption.config.height+caption.config.y+caption.config.captionPadding}if(subCaption&&subCaption.config&&subCaption.config.height&&subCaption.config.isOnTop===1){yPos=subCaption.config.y+subCaption.config.height+(caption&&caption.config&&caption.config.captionPadding||0)}return mathMax(yPos,y)};_proto.getPosition=function getPosition(){var legend=this,chart=legend.getFromEnv(\"chart\"),chartConfig=chart.config,xPos,yPos,xLim,yLim,config=legend.config,canvas=chart.getChildren(\"canvas\"),canvasBottom=canvas&&canvas.length>1?chartConfig.height-canvas[0].config.canvasBottom:chartConfig.height-chartConfig.canvasBottom,canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,canvasWidth=chartConfig.canvasWidth,marginLeft=config.chartMarginLeft||0,marginRight=config.chartMarginRight||0,marginTop=config.chartMarginTop||0,marginBottom=config.chartMarginBottom||0,actionBarHeight=chartConfig.actionBarHeight||0,canvasMarginLeft=config.actualCanvasMarginLeft||0,canvasMarginTop=chartConfig.actualCanvasMarginTop||0,canvasMarginBottom=chartConfig.actualCanvasMarginBottom||0,canvasMarginRight=chartConfig.actualCanvasMarginRight||0,alignLegendWithCanvas=config.alignLegendWithCanvas,chartHeight=chartConfig.height,canvasTop=chartConfig.canvasTop,width=config.width||0,height=config.height||0,chartBorderWidth=chartConfig.borderWidth,oriCanvasLeft=chartConfig.oriCanvasLeft,oriCanvasRight=chartConfig.oriCanvasRight,oriCanvasTop=chartConfig.oriTopSpace,oriCanvasBottom=chartConfig.oriBottomSpace,topSpace=0,bottomSpace=0,xLeft,xRight,spaceLeftByChart,spaceRightLeft,borderWidth=config.borderWidth||0,isVertical,legendPos=config.legendPos?config.legendPos.split(\"-\"):[],caption=chart.getChildren(\"caption\")&&chart.getChildren(\"caption\")[0],subCaption=chart.getChildren(\"subCaption\")&&chart.getChildren(\"subCaption\")[0],remSpace;if(legendPos[0]===_lib.POSITION_LEFT||legendPos[0]===_lib.POSITION_RIGHT){config.align=legendPos[0];config.verticalAlign=_lib.POSITION_MIDDLE;isVertical=config.layout=\"vertical\"}if(legendPos[0]===_lib.POSITION_ABSOLUTE){xPos=config.legendXPosition;yPos=config.legendYPosition;xLim=chartConfig.width-width-chartBorderWidth;yLim=chartConfig.height-height-chartBorderWidth;if(xPos>xLim){xPos=xLim}if(yPos>yLim){yPos=yLim}}else if(isVertical){if(legendPos[0]===_lib.POSITION_LEFT){xPos=marginLeft+canvasMarginLeft+chartBorderWidth}else if(legendPos[0]===_lib.POSITION_RIGHT){xPos=chartConfig.width-marginRight-canvasMarginRight-width-chartBorderWidth}topSpace=(0,_lib.pluckNumber)(oriCanvasTop,canvasTop);bottomSpace=(0,_lib.pluckNumber)(oriCanvasBottom,canvasBottom);if(legendPos[1]===_lib.POSITION_TOP){yPos=topSpace+(config.y||0);yPos=this._calculateTopPosition(yPos)}else if(legendPos[1]===_lib.POSITION_BOTTOM){yPos=chartHeight-bottomSpace-height+(config.y||0);remSpace=bottomSpace-(chartBorderWidth+marginBottom+actionBarHeight+(caption&&caption.config.isOnTop===0&&caption.config.height?caption.config.height+caption.config.captionPadding:0)+(subCaption&&caption.config.isOnTop===0?subCaption.config.height:0));if(remSpace<0){yPos+=remSpace}}else{yPos=topSpace+(chartHeight-bottomSpace-topSpace-height)*.5+(config.y||0)}}else{spaceLeftByChart=chartConfig.width-(marginLeft+canvasMarginLeft+(marginRight+canvasMarginRight));spaceRightLeft=alignLegendWithCanvas?canvasWidth-width:spaceLeftByChart-width;xLeft=alignLegendWithCanvas?(0,_lib.pluckNumber)(oriCanvasLeft,canvasLeft):marginLeft+canvasMarginLeft;xRight=alignLegendWithCanvas?chartConfig.width-(0,_lib.pluckNumber)(oriCanvasRight,canvasRight):marginRight+canvasMarginRight;if(legendPos[1]===_lib.POSITION_LEFT){xPos=xLeft}else if(legendPos[1]===_lib.POSITION_RIGHT){xPos=chartConfig.width-(width+xRight)}else{xPos=xLeft+spaceRightLeft/2}if(legendPos[0]===_lib.POSITION_TOP){yPos=marginTop+canvasMarginTop;yPos=this._calculateTopPosition(yPos)}else{yPos=chartHeight-height-canvasMarginBottom-marginBottom-actionBarHeight}}return(0,_lib.crispBound)(xPos,yPos,width,height,borderWidth)};_proto.setTranslation=function setTranslation(x,y){var legend=this,config=legend.config;config._translateX=x;config._translateY=y;config.translate=\"t\"+x+\",\"+y};_proto.allocatePosition=function allocatePosition(){var legend=this,legendConfig=legend.config,dim;if(legendConfig.translate){dim=(0,_lib.crispBound)(legendConfig._translateX,legendConfig._translateY,legendConfig.width,legendConfig.height,legendConfig.borderWidth)}else{dim=legend.getPosition()}legendConfig.xPos=dim.x;legendConfig.yPos=dim.y;legendConfig.width=dim.width;legendConfig.height=dim.height};_proto._manageLegendPosition=function _manageLegendPosition(allottedSpace){var legend=this,config=legend.config,legendPosition=config.legendPos?config.legendPos.split(\"-\"):[],spaceTakenByLegend,dim={left:0,right:0,top:0,bottom:0};config.padding=4;config.textPadding=4;if(legendPosition[0]===_lib.POSITION_ABSOLUTE){spaceTakenByLegend=legend._placeLegendBlockBottom(allottedSpace,.6)}else if(legendPosition[0]===_lib.POSITION_LEFT||legendPosition[0]===_lib.POSITION_RIGHT){spaceTakenByLegend=legend._placeLegendBlockRight(allottedSpace)}else{spaceTakenByLegend=legend._placeLegendBlockBottom(allottedSpace)}if(legendPosition[0]===_lib.POSITION_LEFT){dim.left=spaceTakenByLegend&&spaceTakenByLegend.right||0}else if(legendPosition[0]===_lib.POSITION_RIGHT){dim.right=spaceTakenByLegend&&spaceTakenByLegend.right||0}else if(legendPosition[0]===_lib.POSITION_TOP){dim.top=spaceTakenByLegend&&spaceTakenByLegend.bottom||0}else if(legendPosition[0]!==_lib.POSITION_ABSOLUTE){dim.bottom=spaceTakenByLegend&&spaceTakenByLegend.bottom||0;dim.right=spaceTakenByLegend&&spaceTakenByLegend.right||0}return dim};_proto.setDimension=function setDimension(dim){var legend=this,config=this.config,itemArr=legend.getSortedLegendItems(),len=itemArr.length,availableWidth=dim.width,availableHeight=dim.height,allowedMaxHeight=availableHeight,itemConfig,userConfig,name,item,maxWidth=0,totalWidth=0,totalNumber=0,averageWidth=0,perItemWidth=0,maxHeight=0,legendCaptionHeight=0,tempTableStructure=[],padding=config.padding,textPadding=config.textPadding,SmartLabel=legend.getFromEnv(\"smartLabel\"),itemStyle=legend.getStateCosmetics(\"default\"),legendFontSize=this.computeFontSize(config.legendFontSizeWithUnit),legendLineHeight=parseInt((0,_lib.setLineHeight)({fontSize:legendFontSize+PXSTRING}),10),itemFontSize=parseInt(itemStyle.text[\"font-size\"],10)||10,nonItemWidth,rowHeight,usedHeight,textWidth,legendCaption=config.title,captionPadding=legendCaption.padding,captionWidth=0,minimiseWrappingInLegend=config.minimiseWrappingInLegend,legendPadding=config.legendPadding,legendScale=config.legendScale,alignLegendWithCanvas=config.alignLegendWithCanvas,legendnumcolumns=config.numColumns,legendnumrows=config.numRows,symbolPadding=config.oriSymbolPadding,legendHeight,symbolWidthSpace,dimensions,i,k,itemWidth,itemHeight=Number.MAX_SAFE_INTEGER,parent,children,childLegends,legendSpace,numRows,validLegendItem,smartText,scroll,horizontalScroll,originalAvailableWidth=availableWidth,nonTextElemWidth,hasLegendCaption=false,hasUserGivenLegendNumRows=!!legendnumrows,shiftRows,shiftColumns,insertionState=0;dimensions={width:2*padding,height:2*padding};legend.setStateCosmetics(\"default\",{text:{fill:itemStyle.text.fill,\"font-family\":itemStyle.text[\"font-family\"],cursor:itemStyle.text.cursor,\"font-size\":legendFontSize,\"line-height\":legendLineHeight,\"vertical-align\":_lib.POSITION_TOP,\"text-anchor\":_lib.POSITION_START,direction:itemStyle.text.direction,\"font-weight\":itemStyle.text[\"font-weight\"]},symbol:{bgColor:itemStyle.symbol.bgColor,cursor:itemStyle.symbol.cursor,borderColor:itemStyle.symbol.borderColor,bgAlpha:itemStyle.symbol.bgAlpha,borderAlpha:itemStyle.symbol.borderAlpha,borderThickness:itemStyle.symbol.borderThickness,startAngle:itemStyle.symbol.startAngle,sides:itemStyle.symbol.sides}});symbolWidthSpace=itemFontSize+1;if(symbolWidthSpace<=0){symbolWidthSpace=1}availableWidth=Math.max(availableWidth-2*padding,0);symbolWidthSpace*=legendScale;symbolPadding*=legendScale;symbolWidthSpace=mathMin(symbolWidthSpace,availableWidth);if(symbolWidthSpace<=0){symbolPadding=symbolWidthSpace=0}config.symbolWidth=symbolWidthSpace;config.textPadding=4;config.legendHeight=legendHeight=symbolWidthSpace+2*symbolPadding;config.rowHeight=rowHeight=mathMax(parseInt(itemStyle.text[\"line-height\"],10)||12,legendHeight);nonItemWidth=textPadding+symbolPadding+padding;SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));usedHeight=legendPadding+config.borderWidth/2+1;usedHeight=mathMax(mathMin(usedHeight,availableHeight-legendLineHeight-8),0);legendPadding=rowHeight*.05;config.initialItemY=0;config.initialItemX=0;nonTextElemWidth=legendHeight+legendPadding+textPadding+symbolPadding+2*padding;for(i=0;i<len;i+=1){item=itemArr[i];itemConfig=item.config||(item.config={});userConfig=itemConfig;name=itemConfig.name=(0,_lib.parseUnsafeString)(userConfig.label);if(name===_lib.BLANKSTRING||userConfig.enabled===0||userConfig.enabled===false||item.getState(\"removed\")){itemConfig.enabled=0;continue}else{itemConfig.enabled=1}totalNumber+=1;validLegendItem=true;smartText=SmartLabel.getOriSize(name);maxWidth=mathMax(maxWidth,mathMin(smartText.width,availableWidth-nonTextElemWidth));maxHeight=mathMax(maxHeight,mathMin(smartText.height,allowedMaxHeight));itemConfig._selfTotalWidth=smartText.width+nonTextElemWidth;totalWidth+=smartText.width}config.validLegendItem=validLegendItem;averageWidth=totalWidth/totalNumber;totalWidth+=nonTextElemWidth*totalNumber;config.x=!alignLegendWithCanvas&&totalWidth>originalAvailableWidth?0:config.x;if(validLegendItem){averageWidth+=nonTextElemWidth;maxWidth+=nonTextElemWidth;if(legendCaption.oriText!==_lib.BLANKSTRING){hasLegendCaption=true;SmartLabel.setStyle(legendCaption.style);smartText=SmartLabel.getSmartText(legendCaption.oriText,availableWidth-2*padding);legendCaption.text=smartText.text;smartText.tooltext&&(legendCaption.originalText=smartText.tooltext);captionWidth=smartText.width+2*padding;legendCaptionHeight=smartText.height+captionPadding}itemWidth=maxWidth;if(!legendnumrows){if(totalWidth<=availableWidth){legendnumcolumns=!legendnumcolumns?totalNumber:legendnumcolumns;legendnumrows=mathCeil(totalNumber/legendnumcolumns);itemWidth=legendnumrows===1?totalWidth/totalNumber:maxWidth}else if(!legendnumcolumns&&availableWidth>maxWidth&&(minimiseWrappingInLegend||averageWidth*1.5>maxWidth)){legendnumcolumns=mathFloor(availableWidth/maxWidth);if(totalNumber<legendnumcolumns){legendnumcolumns=totalNumber}itemWidth=maxWidth}else if(legendnumcolumns&&availableWidth/legendnumcolumns>averageWidth){itemWidth=availableWidth/legendnumcolumns;if(itemWidth>maxWidth){itemWidth=maxWidth}}else if(!legendnumcolumns&&availableWidth>=2*averageWidth){legendnumcolumns=mathFloor(availableWidth/averageWidth);if(totalNumber<legendnumcolumns){legendnumcolumns=totalNumber}itemWidth=mathFloor(availableWidth/legendnumcolumns);if(itemWidth>maxWidth){itemWidth=maxWidth}}else if(!legendnumcolumns){legendnumcolumns=1;itemWidth=availableWidth}}else if(!legendnumcolumns&&legendnumrows){insertionState=1;if(totalNumber<legendnumrows){legendnumrows=totalNumber}legendnumcolumns=mathCeil(totalNumber/legendnumrows)}else if(mathCeil(totalNumber/legendnumcolumns)<legendnumrows&&mathCeil(totalNumber/legendnumrows)<legendnumcolumns||totalNumber>legendnumcolumns*legendnumrows){legendnumrows=mathCeil(totalNumber/legendnumcolumns)}else if(legendnumcolumns===mathCeil(totalNumber/legendnumrows)){insertionState=1}perItemWidth=hasUserGivenLegendNumRows?maxWidth:itemWidth;if(!hasUserGivenLegendNumRows&&averageWidth*1.5<maxWidth){itemWidth=averageWidth}if(legendnumrows&&!minimiseWrappingInLegend){var newNumRows,newNumCols,newItemWidth=perItemWidth;if(maxWidth>averageWidth*1.5){newItemWidth=averageWidth}newNumCols=mathMin(totalNumber,mathFloor(availableWidth/newItemWidth));newNumRows=mathCeil(totalNumber/newNumCols);if(!(config.numRows&&newNumRows!==legendnumrows||config.numColumns&&newNumCols!==legendnumcolumns)&&!(legendnumrows===1&&newNumRows!==1)){perItemWidth=newItemWidth;legendnumcolumns=newNumCols;legendnumrows=newNumRows}}SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));for(i=0;i<len;i++){itemConfig=itemArr[i].config;if(legendnumrows===1){perItemWidth=maxWidth>averageWidth*2.5?averageWidth:itemConfig._selfTotalWidth}textWidth=Math.ceil(perItemWidth-nonTextElemWidth);if(textWidth===0){itemConfig.name=_lib.BLANKSTRING;itemConfig._totalWidth=symbolWidthSpace+symbolPadding;itemConfig._selfTotalWidth=itemConfig._totalWidth;itemConfig._selfTotalHeight=rowHeight}else{smartText=SmartLabel.getSmartText(itemConfig.name,textWidth<itemConfig._selfTotalWidth-nonTextElemWidth?textWidth+textPadding:UNDEF);itemConfig.name=smartText.text;itemConfig._textHeight=smartText.height;smartText.tooltext&&(itemConfig.originalText=smartText.tooltext);itemConfig._selfTotalHeight=smartText.height+textPadding>rowHeight?textPadding+smartText.height:rowHeight;itemConfig._totalWidth=symbolWidthSpace+nonItemWidth+smartText.width;itemConfig._selfTotalWidth=nonTextElemWidth+smartText.width;itemConfig._legendTestY=rowHeight>smartText.height?(rowHeight-smartText.height)/2:0;maxHeight=mathMax(maxHeight,itemConfig._textHeight);itemHeight=mathMax(1,mathMin(itemHeight,itemConfig._textHeight))}}parent={style:{display:\"grid\",justifyItems:\"center\",alignItems:\"start\"}};children=[];if(hasLegendCaption){children.push({style:{width:captionWidth,height:legendCaptionHeight,gridRowStart:1,gridRowEnd:2,gridColumnStart:1,gridColumnEnd:2}})}children.push({style:{display:\"grid\",justifyItems:\"start\",alignItems:\"start\",width:mathMin(totalWidth,availableWidth,perItemWidth*legendnumcolumns),paddingEnd:padding,paddingTop:padding,gridRowStart:children.length+1,gridRowEnd:children.length+2,gridColumnStart:1,gridColumnEnd:2}});childLegends=[];if(hasUserGivenLegendNumRows||legendnumrows===1){for(k=0,i=1;k<len;k++){item=itemArr[k];itemConfig=item.config;if(itemConfig.enabled===1){if(insertionState===0){shiftRows=mathCeil(i/legendnumcolumns);shiftColumns=i%legendnumcolumns===0?legendnumcolumns:i%legendnumcolumns}else{shiftRows=i%legendnumrows===0?legendnumrows:i%legendnumrows;shiftColumns=mathCeil(i/legendnumrows)}childLegends.push({style:{width:legendnumrows===1?itemConfig._selfTotalWidth:shiftColumns===legendnumcolumns?itemConfig._selfTotalWidth:perItemWidth,height:itemConfig._selfTotalHeight,gridRowStart:shiftRows,gridRowEnd:shiftRows+1,gridColumnStart:shiftColumns,gridColumnEnd:shiftColumns+1}});i+=1}}}else{legendnumrows=0;itemHeight=mathMax(itemHeight,rowHeight);for(k=0;k<len;k++){item=itemArr[k];itemConfig=item.config;if(itemConfig.enabled===1){legendnumrows+=Math.ceil(itemConfig._selfTotalHeight/itemHeight)}}legendnumrows===0&&(legendnumrows=Math.max(1,Math.ceil(totalNumber/legendnumcolumns)));tempTableStructure=emptyArrayCreator(legendnumrows).map((function(){return emptyArrayCreator(legendnumcolumns)}));var m=0,n=0,endRow;for(k=0,i=1;k<len;k++){item=itemArr[k];itemConfig=item.config;if(itemConfig.enabled===1){while(m<legendnumrows){while(n<legendnumcolumns){if(tempTableStructure[m][n]===UNDEF){shiftColumns=n+1;shiftRows=m+1;endRow=legendnumcolumns===1?1:+(itemConfig._selfTotalHeight/itemHeight).toFixed(0);tempTableStructure[m][n]=true;for(var p=m;p<m+endRow;p++){tempTableStructure[p][n]=true}}n++;if(tempTableStructure[m][n-1]){break}}if(n>=legendnumcolumns){n=0;m++}if(endRow){break}}childLegends.push({style:{width:shiftColumns===legendnumcolumns?itemConfig._selfTotalWidth:itemWidth,height:itemConfig._selfTotalHeight,gridRowStart:shiftRows,gridRowEnd:shiftRows+endRow,gridColumnStart:shiftColumns,gridColumnEnd:shiftColumns+1}});i+=1;endRow=UNDEF}}legendnumrows=0;for(i=legendnumrows;i<tempTableStructure.length;i++){for(k=0;k<legendnumcolumns;k++){if(tempTableStructure[i][k]){legendnumrows++;break}}}if(legendnumcolumns>1){children[children.length-1].style.gridTemplateRows=(itemHeight+\" \").repeat(legendnumrows).slice(0,-1)}}children[children.length-1].children=childLegends;legendSpace=(0,_faber.computeLayout)(_objectSpread(_objectSpread({},parent),{},{children:children}));config.itemWidth=perItemWidth;textWidth=mathCeil(perItemWidth-nonTextElemWidth);if(textWidth<0){symbolPadding=textWidth=textPadding=0}config.symbolPadding=symbolPadding;config.textPadding=textPadding;config.width=config.totalWidth=mathMax(legendSpace.layout.width,legendSpace.children[legendSpace.children.length-1].layout.width);SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));for(k=0,i=0;k<len;k++){item=itemArr[k];itemConfig=item.config;if(legendnumrows===1){textWidth=itemConfig._selfTotalWidth;if(textWidth<0){symbolPadding=textWidth=textPadding=0}}if(itemConfig.enabled===1){if(textWidth===0){itemConfig.name=_lib.BLANKSTRING;itemConfig._totalWidth=symbolWidthSpace+symbolPadding}itemConfig._legendX=legendSpace.children[legendSpace.children.length-1].children[i].layout.x;itemConfig._legendY=legendSpace.children[legendSpace.children.length-1].children[i].layout.y;itemConfig._legendH=legendSpace.children[legendSpace.children.length-1].children[i].layout.height;i+=1}}numRows=legendnumrows;dimensions.height+=numRows*rowHeight+legendCaptionHeight;config.height=config.totalHeight=legendSpace.layout.height+2*padding;config.rowHeight=rowHeight;config.legendNumColumns=legendnumcolumns;config.initialItemX=hasLegendCaption&&captionWidth>legendSpace.children[legendSpace.children.length-1].layout.width&&availableWidth>config.width?legendSpace.children[legendSpace.children.length-1].layout.x:0;config.initialItemY=legendSpace.children[legendSpace.children.length-1].layout.y;if(config.height-2*symbolPadding>availableHeight){config.height=availableHeight;scroll=config.scroll||(config.scroll={});scroll.enabled=true;scroll.flatScrollBars=config.flatScrollBars;scroll.scrollBar3DLighting=config.scrollBar3DLighting;config.width=config.width+12>availableWidth?config.width:config.width+12}else{config.scroll.enabled=false}if(config.width>availableWidth){config.width=availableWidth;horizontalScroll=config.horizontalScroll||(config.horizontalScroll={});horizontalScroll.enabled=true;horizontalScroll.flatScrollBars=config.flatScrollBars;horizontalScroll.scrollBar3DLighting=config.scrollBar3DLighting;if(config.height+12<=availableHeight){config.height=config.height+12}else{config.height=availableHeight;config.totalHeight+=4;scroll=config.scroll||(config.scroll={});scroll.enabled=true;scroll.flatScrollBars=config.flatScrollBars;scroll.scrollBar3DLighting=config.scrollBar3DLighting;config.scroll.enabled=true}}else{config.horizontalScroll.enabled=false}if(config.totalWidth>config.width&&config.totalWidth-config.width<=4){for(k=0,i=0;k<len;k++){item=itemArr[k];itemConfig=item.config;if(itemConfig.enabled===1){if(legendSpace.children[legendSpace.children.length-1].children[i].style.gridColumnStart%legendnumcolumns!==1){itemConfig._legendX+=4;if(legendSpace.children[legendSpace.children.length-1].children[i].style.gridRowStart===1){config.totalWidth+=4}}i+=1}}config.totalHeight+=4}usedHeight+=config.height;config.isActive=true;config.enabled=true}else{config.enabled=false;config.width=0;usedHeight=0}return{width:config.width,height:usedHeight}};_proto._placeLegendBlockBottom=function _placeLegendBlockBottom(availableHeight,widthFraction){if(widthFraction===void 0){widthFraction=1}var legend=this,chart=legend.getFromEnv(\"chart\"),chartConfig=chart.config,origRenderWidth=chart.getFromEnv(\"chartWidth\"),origRenderHeight=chart.getFromEnv(\"chartHeight\"),spacingLeft=chartConfig.canvasLeft,spacingRight=chartConfig.width-(chartConfig.canvasRight||0),SmartLabel=chart.getFromEnv(\"smartLabel\"),config=legend.config,marginLeft=config.chartMarginLeft,marginRight=config.chartMarginRight,marginTop=config.chartMarginTop,alignLegendWithCanvas=config.alignLegendWithCanvas,itemArr=legend.getSortedLegendItems(),len=itemArr.length,legendPadding=config.legendPadding,canvasMarginRight=chartConfig.canvasMarginRight,canvasMarginLeft=chartConfig.canvasMarginLeft,yAxis=chart.getChildren(\"yAxis\"),verticalAxis=yAxis&&yAxis[0].config.isVertical?yAxis:chart.getChildren(\"xAxis\"),axis1Obj=verticalAxis&&verticalAxis[0],axis2Obj=verticalAxis&&verticalAxis[1],axis1=axis1Obj&&axis1Obj.config||{},axis2=axis2Obj&&axis2Obj.config||{},title1Width=axis1.nameMaxW,title2Width=axis2.nameMaxW,axis1NameStyle=axis1.name&&axis1.name.style||{},axis2NameStyle=axis2.name&&axis2.name.style||{},axis1Title=axis1.axisName||_lib.BLANKSTRING,axis2Title=axis2.axisName||_lib.BLANKSTRING,usedHeight,availableWidth=chartConfig.canvasWidth-chartConfig.canvasMarginLeft-chartConfig.canvasMarginRight,widthLimit=chartConfig.width,heightLimit=chartConfig.height,yAxisTitleHeight,yAxisTitleWidth,title1,title2,legendPos=config.legendPos?config.legendPos.split(\"-\"):[];config.paddingBottom=chartConfig.height-chartConfig.canvasBottom;SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);SmartLabel.setStyle(axis1NameStyle);title1=SmartLabel.getOriSize(axis1Title);SmartLabel.setStyle(axis2NameStyle);title2=SmartLabel.getOriSize(axis2Title);if(availableWidth<legendPadding){config.padding=legendPadding=availableWidth=0}if(title1||title2){yAxisTitleHeight=(0,_lib.pluckNumber)(title1.height,0)>(0,_lib.pluckNumber)(title2.height,0)?(yAxisTitleWidth=title1Width)&&title1.width:(yAxisTitleWidth=title2Width)&&title2.width}availableWidth=alignLegendWithCanvas?availableWidth:origRenderWidth-(yAxisTitleHeight+marginTop>origRenderHeight-availableHeight?2*yAxisTitleWidth+marginRight+marginLeft+canvasMarginRight+canvasMarginLeft:marginRight+marginLeft+canvasMarginLeft+canvasMarginRight);if(legendPos[0]===_lib.POSITION_ABSOLUTE){availableWidth=widthLimit;if(config.legendMaxWidth<widthLimit){availableWidth=config.legendMaxWidth}else{availableWidth*=widthFraction}}if(!config.showLegend||len===0){usedHeight=0;config.height=0;config.width=0}else{config.x=(spacingLeft-marginLeft-spacingRight+marginRight)/2;usedHeight=legend.setDimension({width:availableWidth,height:legendPos[0]===_lib.POSITION_ABSOLUTE?config.legendMaxHeight<heightLimit?config.legendMaxHeight:heightLimit:availableHeight}).height}return{bottom:usedHeight,right:0}};_proto._placeLegendBlockRight=function _placeLegendBlockRight(availWidth){var legend=this,availableWidth=availWidth,legendConf=legend.config,chart=legend.getFromEnv(\"chart\"),chartConf=chart.config,SmartLabel=chart.getFromEnv(\"smartLabel\"),legendPadding=legendConf.legendPadding,itemStyle=legend.getStateCosmetics(\"default\"),availableHeight=chartConf.canvasHeight,dimensions={},itemArr=legend.getSortedLegendItems(),len=itemArr.length,usedWidth,gutterWidth=10;if(availableWidth<legendPadding){legendConf.padding=legendPadding=availableWidth=0}SmartLabel.useEllipsesOnOverflow(chartConf.useEllipsesWhenOverflow);SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));if(!legendConf.numColumns&&!legendConf.numRows){legendConf.numColumns=1}if(!legendConf.showLegend||len===0){dimensions.right=0;legendConf.height=0;legendConf.width=0}else{usedWidth=legend.setDimension({width:availableWidth-legendPadding,height:availableHeight}).width;dimensions.right=usedWidth+legendPadding;if(dimensions.right+gutterWidth<=availableWidth){dimensions.right+=gutterWidth}}return dimensions};_proto.postSpaceManager=function postSpaceManager(){var legend=this,legendConf=legend.config,legendPosition=legendConf.legendPos?legendConf.legendPos.split(\"-\"):[],chart=legend.getFromEnv(\"chart\"),availableHeight=chart.config.canvasHeight;if(legendPosition[0]===_lib.POSITION_RIGHT||legendPosition[0]===_lib.POSITION_LEFT){if(legendConf.totalHeight>availableHeight){if(legendConf.totalHeight<=legendConf.height){legendConf.scroll.enabled=true;legendConf.scroll.flatScrollBars=legendConf.flatScrollBars;legendConf.scroll.scrollBar3DLighting=legendConf.scrollBar3DLighting;legendConf.width+=(legendConf.scroll.scrollBarWidth=10)+(legendConf.scroll.scrollBarPadding=2)}legendConf.height=availableHeight}else{legendConf.scroll.enabled=false}}};_proto.configureAttributes=function configureAttributes(obj){if(obj===void 0){obj={}}_ComponentInterface.prototype.configureAttributes.call(this,obj);var legend=this,config=legend.config,chart=legend.getFromEnv(\"chart\"),chartConfig=chart.config,legendLineHeight,style=legend.getFromEnv(\"style\"),chartAttr=chart.getFromEnv(\"chart-attrib\"),is3D=chart.config.is3D,colorM=legend.getFromEnv(\"color-manager\"),borderColor,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,interactiveLegend=config.interactiveLegend=chart.hasInteractiveLegend!==false&&Boolean((0,_lib.pluckNumber)(chartAttr.interactivelegend,1)),borderAlpha,backgroundAlpha,roundEdges=(0,_lib.pluckNumber)(chartAttr.useroundedges,0),padding=4,outCancolor=style.outCancolor,textStyle=obj.style&&obj.style.text,legendItemFont=(0,_lib.pluck)(chartAttr.legenditemfont,textStyle&&textStyle[\"font-family\"],style.outCanfontFamily),legendScale=(0,_lib.pluckNumber)(chartAttr.legendiconscale,1),legendFontSize=(0,_lib.pluckFontSize)(chartAttr.legenditemfontsize,textStyle&&textStyle[\"font-size\"],style.fontSize)+PXSTRING,legendFontColor=(0,_lib.pluck)(chartAttr.legenditemfontcolor,textStyle&&textStyle.color,outCancolor).replace(/^#?([a-f0-9]+)/gi,\"#$1\"),legendItemHoverFontColor=(0,_lib.getFirstColor)((0,_lib.pluck)(chartAttr.legenditemhoverfontcolor,legendFontColor)),anchorMap;config.isActive=false;config.chartMarginTop=chartConfig.origMarginTop;config.chartMarginRight=chartConfig.origMarginRight;config.chartMarginBottom=chartConfig.origMarginBottom;config.chartMarginLeft=chartConfig.origMarginLeft;config.reverselegend=(0,_lib.pluckNumber)(chartAttr.reverselegend,0);config.showLegend=(0,_lib.pluckNumber)(chartAttr.showlegend,!chart.dontShowLegendByDefault,1);config.legendFontSizeWithUnit=(0,_lib.pluckFontSizeMaintainUnit)(chartAttr.legenditemfontsize,style.fontSizeWithUnit||style.fontSize);legendLineHeight=(0,_lib.setLineHeight)({fontSize:legendFontSize});config.legendPos=(0,_lib.pluck)(chartAttr.legendposition,chart.legendposition,obj.legendPosition,_lib.POSITION_BOTTOM).toLowerCase();config.numColumns=(0,_lib.pluckNumber)(Math.floor(chartAttr.legendnumcolumns));config.numRows=(0,_lib.pluckNumber)(Math.floor(chartAttr.legendnumrows));if(config.numColumns<0){config.numColumns=UNDEF}if(config.numRows<0){config.numRows=UNDEF}config.legendXPosition=mathMax((0,_lib.pluckNumber)(chartAttr.legendxposition,chart.legendxposition,obj.legendXPosition,0),0);config.legendYPosition=mathMax((0,_lib.pluckNumber)(chartAttr.legendyposition,chart.legendyposition,obj.legendYPosition,0),0);config.legendMaxWidth=(0,_lib.pluckNumber)(chartAttr.legendmaxwidth,chart.legendmaxwidth,obj.legendMaxWidth);config.legendMaxHeight=(0,_lib.pluckNumber)(chartAttr.legendmaxheight,chart.legendmaxheight,obj.legendMaxHeight);if(config.legendMaxWidth<0){config.legendMaxWidth=UNDEF}if(config.legendMaxHeight<0){config.legendMaxHeight=UNDEF}config.xL=config.yL=0;if(legendScale<=0||legendScale>5){legendScale=1}config.drawCustomLegendIcon=(0,_lib.pluckNumber)(chartAttr.drawcustomlegendicon,obj.drawcustomlegendicon,0);config.legendScale=legendScale;config.legendPadding=(0,_lib.pluckNumber)(chartAttr.legendpadding,7);config.alignLegendWithCanvas=(0,_lib.pluckNumber)(obj.alignlegendwithcanvas,chartConfig.alignLegendWithCanvas);config.title.style={fontFamily:(0,_lib.pluck)(chartAttr.legendcaptionfont,legendItemFont),fontSize:(0,_lib.pluckFontSize)(chartAttr.legendcaptionfontsize,style.fontSize)+PXSTRING,color:(0,_lib.pluck)(chartAttr.legendcaptionfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,\"#$1\"),fontWeight:styleValueMap.fontWeight[(0,_lib.pluckNumber)(chartAttr.legendcaptionfontbold,1)]||_lib.BLANKSTRING};anchorMap=chartAttr.legendcaptionalignment?chartAttr.legendcaptionalignment.toLowerCase():TEXT_ANCHOR_MAP.center;config.title.align=TEXT_ANCHOR_MAP[anchorMap]||TEXT_ANCHOR_MAP.center;config.title.style[\"text-anchor\"]=config.title.align;config.padding=padding;borderColor=(0,_lib.pluck)(chartAttr.legendbordercolor,colorM.getColor(palleteString.legendBorderColor));borderAlpha=config.borderAlpha=(0,_lib.pluckNumber)(chartAttr.legendborderalpha,100);config.borderColor=(0,_lib.convertColor)(borderColor,borderAlpha);config.borderWidth=(0,_lib.pluckNumber)(chartAttr.legendborderthickness,obj.legendborderthickness,!roundEdges||chartAttr.legendbordercolor?1:0);config.borderRadius=(0,_lib.pluckNumber)(roundEdges,0);config.backgroundAlpha=backgroundAlpha=(0,_lib.pluckNumber)(chartAttr.legendbgalpha,obj.legendbgalpha,100);config.backgroundColor=(0,_lib.convertColor)((0,_lib.pluck)(chartAttr.legendbgcolor,colorM.getColor(palleteString.legendBgColor)),backgroundAlpha);config.symbol3DLighting=Boolean((0,_lib.pluckNumber)(chartAttr.use3dlighting,chartAttr.useplotgradientcolor,1));config.symbol3DLighting=!chartConfig.usePattern&&config.symbol3DLighting;config.shadow=Boolean((0,_lib.pluckNumber)(chartAttr.legendshadow,1));if(config.shadow){config.shadow={enabled:config.shadow,opacity:mathMax(borderAlpha,backgroundAlpha)/100}}config.prevReversed=Boolean((0,_lib.pluckNumber)(config.reversed,0));config.reversed=Boolean((0,_lib.pluckNumber)(chartAttr.reverselegend,0));config.lineWidth=(0,_lib.pluckNumber)(chartAttr.linethickness,2);config.borderRadius=(0,_lib.pluckNumber)(chartAttr.legendborderradius,roundEdges?3:0);config.legendAllowDrag=Boolean((0,_lib.pluckNumber)(chartAttr.legendallowdrag,0));config.title.oriText=(0,_lib.parseUnsafeString)((0,_lib.getFirstValue)(chartAttr.legendcaption,_lib.BLANKSTRING));config.legendScrollBgColor=(0,_lib.getFirstColor)((0,_lib.pluck)(chartAttr.legendscrollbgcolor,chartAttr.scrollcolor,colorM.getColor(\"altHGridColor\")));config.legendScrollBarColor=(0,_lib.pluck)(chartAttr.legendscrollbarcolor,borderColor);config.legendScrollBtnColor=(0,_lib.pluck)(chartAttr.legendscrollbtncolor,borderColor);config.minimiseWrappingInLegend=(0,_lib.pluckNumber)(chartAttr.minimisewrappinginlegend,0);config.flatScrollBars=(0,_lib.pluckNumber)(chartAttr.flatscrollbars,0);config.scrollBar3DLighting=(0,_lib.pluckNumber)(chartAttr.scrollbar3dlighting,1);config.orderReversed=false;legend.setStateCosmetics(\"hidden\",{symbol:{fill:(0,_lib.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,\"cccccc\").replace(/^#?([a-f0-9]+)/gi,\"#$1\")),stroke:(0,_lib.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,\"cccccc\").replace(/^#?([a-f0-9]+)/gi,\"#$1\"))},text:{fill:(0,_lib.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,\"cccccc\").replace(/^#?([a-f0-9]+)/gi,\"#$1\"))}});legend.setStateCosmetics(\"default\",{text:{fill:(0,_lib.convertColor)(legendFontColor),\"font-family\":legendItemFont,cursor:interactiveLegend?_lib.preDefStr.POINTER:\"default\",\"font-size\":legendFontSize,\"line-height\":legendLineHeight,\"vertical-align\":_lib.POSITION_TOP,\"text-anchor\":_lib.POSITION_START,direction:chartConfig.textDirection===\"rtl\"?\"rtl\":\"initial\",\"font-weight\":styleValueMap.fontWeight[(0,_lib.pluckNumber)(chartAttr.legenditemfontbold,0)]||_lib.BLANKSTRING},symbol:{bgColor:(0,_lib.pluck)(chartAttr.legendiconbgcolor),cursor:interactiveLegend?_lib.preDefStr.POINTER:\"default\",borderColor:(0,_lib.pluck)(chartAttr.legendiconbordercolor),bgAlpha:(0,_lib.pluckNumber)(chartAttr.legendiconbgalpha,chartAttr.legendiconalpha,100),borderAlpha:(0,_lib.pluckNumber)(chartAttr.legendiconborderalpha,chartAttr.legendiconalpha,100),borderThickness:(0,_lib.pluckNumber)(chartAttr.legendiconborderthickness),startAngle:(0,_lib.pluckNumber)(chartAttr.legendiconstartangle,45),sides:(0,_lib.pluckNumber)(chartAttr.legendiconsides,obj.legendiconsides,4)}});legend.setStateCosmetics(\"hover\",(function(cosmetics,legenditem){if(!legenditem.hasState(\"hidden\")){if(!cosmetics.text){cosmetics.text={}}cosmetics.text.fill=(0,_lib.convertColor)(legendItemHoverFontColor.replace(/^#?([a-f0-9]+)/gi,\"#$1\"));cosmetics.text.cursor=INHERIT_STR}return cosmetics}));if(config.legendAllowDrag&&!config._dragEvtListenerBinded){legend.addEventListener(\"fc-dragstart\",config.handlers.dragstart);legend.addEventListener(\"fc-dragmove\",config.handlers.dragmove);config._dragEvtListenerBinded=true}else if(!config.legendAllowDrag&&config._dragEvtListenerBinded){legend.removeEventListener(\"fc-dragstart\",config.handlers.dragstart);legend.removeEventListener(\"fc-dragmove\",config.handlers.dragmove);config._dragEvtListenerBinded=false}};_proto.getLegendState=function getLegendState(){return this._legendState};_proto.hasState=function hasState(state){var states=this.getLegendState(),i,len;for(i=0,len=states.length;i<len;i++){if(states[i]===state){return true}}return false};_proto.setLegendState=function setLegendState(state,pushAtEnd){if(!this.hasState(state)){if(pushAtEnd){this._legendState.push(state)}else{this._legendState.unshift(state)}}this.asyncDraw()};_proto.removeLegendState=function removeLegendState(state){var i,len,notFound=1;if(state){for(i=0,len=this._legendState.length;i<len&&notFound;i++){if(state===this._legendState[i]){this._legendState.splice(i,1);notFound=0}}}else{this._legendState.length=0}this.asyncDraw()};_proto.setStateCosmetics=function setStateCosmetics(state,cosmetics){this._stateCosmetics[state]=cosmetics};_proto.removeStateCosmetics=function removeStateCosmetics(state){delete this._stateCosmetics[state]};_proto.getStateCosmetics=function getStateCosmetics(state){return this._stateCosmetics[state]};_proto.hide=function hide(){var legend=this,chart=legend.getFromEnv(\"chart\"),legendGroup=chart.getChildContainer(\"legendGroup\");legendGroup&&legendGroup.hide()};return Legend}(_componentInterface.ComponentInterface);var _default=Legend;exports.default=_default;"]},"metadata":{},"sourceType":"script"}