{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _libSvgToCanvas = require(\"../utils/lib-svg-to-canvas\");\n\nvar _jpegToPdf = require(\"../utils/jpeg-to-pdf\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _exportUtils = require(\"../utils/export-utils\");\n\nvar _eventApi = require(\"@fusioncharts/core/src/event-api\");\n\nvar NEW_CANVAS_ID = \"newCanvas\";\n\nvar win = window,\n    math = Math,\n    UNDEF,\n    mathMax = math.max,\n    Image = win.Image,\n    isIOS = win.navigator.userAgent.match(/(iPad|iPhone|iPod)/g),\n    IMAGEDATA = \"IMAGE-DATA\",\n    DEFAULT_LOG_URL = win.location.protocol === \"https:\" ? \"https://export.api3.fusioncharts.com/api/v1.0/logs\" : \"http://export.api3.fusioncharts.com/api/v1.0/logs\",\n    DEFAULT_EXPORT_URL = win.location.protocol === \"https:\" ? \"https://export.api3.fusioncharts.com/\" : \"http://export.api3.fusioncharts.com/\",\n    BLANKSTRING = \"\",\n    FCGlobal,\n    isImageSafe = function isImageSafe(imageUrl) {\n  if (imageUrl.match(/http:\\/\\/|https:\\/\\//)) {\n    if (/(http:\\/\\/|https:\\/\\/)([^\\/\\:]*)/.exec(imageUrl)[2]) {\n      if (win.location.hostname !== /(http:\\/\\/|https:\\/\\/)([^\\/\\:]*)/.exec(imageUrl)[2]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n},\n    getAspectWidthHeight = function getAspectWidthHeight(userWidth, userHeight, oriWidth, oriHeight) {\n  var width = userWidth,\n      height = userHeight;\n\n  if (isNaN(width)) {\n    width = (0, _lib.pluckNumber)(userHeight, oriHeight) * (oriWidth / oriHeight);\n  }\n\n  if (isNaN(height)) {\n    height = (0, _lib.pluckNumber)(userWidth, oriWidth) * (oriHeight / oriWidth);\n  }\n\n  return {\n    width: width,\n    height: height\n  };\n},\n    triggerExportCancelled = function triggerExportCancelled() {\n  (0, _eventApi.triggerEvent)(\"exportcancelled\");\n};\n\nfunction batchExport() {\n  var input = arguments[0],\n      exportArgs = input || {},\n      chart,\n      chartArr,\n      canvas,\n      canvasContext,\n      svgString,\n      chartCounter = 0,\n      allChartDrawingComplete = false,\n      len,\n      img,\n      chartObj,\n      exportOption = {\n    exportTargetWindow: (0, _lib.pluck)(exportArgs.exportTargetWindow, isIOS ? \"_parent\" : \"_self\"),\n    exportAction: function () {\n      var exportActionTemp;\n\n      if (exportArgs.exportAction && typeof exportArgs.exportAction === \"string\") {\n        exportActionTemp = exportArgs.exportAction.toLowerCase();\n        return [_exportUtils.EXPORTACTION.DOWNLOAD, _exportUtils.EXPORTACTION.SAVE, _exportUtils.EXPORTACTION.DOWNLOADSAVE].indexOf(exportActionTemp) >= 0 ? exportActionTemp : _exportUtils.EXPORTACTION.DOWNLOAD;\n      }\n\n      return _exportUtils.EXPORTACTION.DOWNLOAD;\n    }(),\n    exportFileName: (0, _lib.pluck)(exportArgs.exportFileName, \"FusionCharts\"),\n    exportHandler: (0, _lib.pluck)(exportArgs.exportHandler, DEFAULT_EXPORT_URL),\n    exportParameters: (0, _lib.pluck)(exportArgs.exportParameters, BLANKSTRING),\n    exportFormat: (0, _lib.pluck)(exportArgs.exportFormat, _exportUtils.EXPORTFORMAT.PNG),\n    exportCallback: (0, _lib.pluck)(exportArgs.exportCallback, BLANKSTRING),\n    exportAtClientSide: (0, _lib.pluckNumber)(exportArgs.exportAtClientSide, 1),\n    exportMode: function () {\n      var _exportMode;\n\n      if (typeof exportArgs.exportAtClientSide !== \"undefined\") {\n        _exportMode = {\n          1: _exportUtils.EXPORTMODE.AUTO,\n          0: _exportUtils.EXPORTMODE.SERVER\n        }[exportArgs.exportAtClientSide];\n      }\n\n      _exportMode = exportArgs.exportMode || _exportMode || _exportUtils.EXPORTMODE.AUTO;\n      _exportMode = _exportMode.toLowerCase();\n      return _exportMode;\n    }(),\n    logEnabled: (0, _lib.pluckNumber)(exportArgs.logEnabled, 0),\n    logMode: function () {\n      var _logMode = exportArgs.logMode;\n\n      if (typeof _logMode !== \"undefined\" && typeof _logMode === \"string\" && _logMode.toUpperCase() in _exportUtils.LOGMODE) {\n        return _exportUtils.LOGMODE[_logMode.toUpperCase()];\n      }\n\n      return _exportUtils.LOGMODE.AUTO;\n    }(),\n    logHandler: (0, _lib.pluck)(exportArgs.logHandler, DEFAULT_LOG_URL)\n  },\n      exportFormat = exportOption.exportFormat.toLowerCase(),\n      imageHeight = 0,\n      imageWidth = 0,\n      imagePadding = 10,\n      imagePaddingByTwo = imagePadding / 2,\n      i,\n      items = FCGlobal.items,\n      aspectWidthHeight = getAspectWidthHeight,\n      createPostDataForExport = function createPostDataForExport(streamType, streamValue, configuredExportAction) {\n    var _logEnabled;\n\n    _logEnabled = !!exportOption.logEnabled;\n\n    if (exportOption.logMode === _exportUtils.LOGMODE.CLIENT) {\n      _logEnabled = false;\n    }\n\n    return {\n      charttype: \"combined\",\n      stream_type: streamType || \"\",\n      stream: streamValue || \"\",\n      is_single_export: false,\n      is_full_version: !true,\n      version: _lib.PROJECT_VERSION,\n      user_time_zone: -new Date().getTimezoneOffset(),\n      log_enabled: _logEnabled,\n      parameters: [\"exportfilename=\" + exportOption.exportFileName, \"exportformat=\" + exportOption.exportFormat, \"exportaction=\" + (0, _exportUtils.createExportActionOldString)(exportOption.exportAction), \"exportactionnew=\" + exportOption.exportAction, \"configuredexportaction=\" + (configuredExportAction || exportOption.exportAction), \"exportparameters=\" + exportOption].join(\"|\")\n    };\n  },\n      createPostDataForLog = function createPostDataForLog() {\n    return {\n      chartType: \"combined\",\n      isSingleExport: false,\n      isFullVersion: !true,\n      exportAction: exportOption.exportAction,\n      userTimeZone: -new Date().getTimezoneOffset(),\n      exportFileName: [exportOption.exportFileName, exportOption.exportFormat].join(\".\"),\n      exportFormat: exportOption.exportFormat,\n      version: _lib.PROJECT_VERSION\n    };\n  },\n      logSeparatelyIfLogModeCLient = function logSeparatelyIfLogModeCLient(logMode) {\n    if (logMode === _exportUtils.LOGMODE.CLIENT) {\n      (0, _exportUtils.logCharts)(createPostDataForLog(), exportOption);\n    }\n  },\n      exportChart = function exportChart(dataUri) {\n    var postData, browserCanSelfDownload, configuredExportAction;\n    (0, _eventApi.triggerEvent)(\"beforeexport\", UNDEF, UNDEF, UNDEF, function () {\n      browserCanSelfDownload = typeof win.btoa !== \"undefined\" && (_libSvgToCanvas.browserDetails.name === \"Chrome\" || _libSvgToCanvas.browserDetails.name === \"Firefox\" || _libSvgToCanvas.browserDetails.name === \"Safari\" || _libSvgToCanvas.browserDetails.name === \"Edge\" || _libSvgToCanvas.browserDetails.name === \"ie\");\n\n      if (exportOption.exportMode === _exportUtils.EXPORTMODE.CLIENT || exportOption.exportMode === _exportUtils.EXPORTMODE.AUTO && browserCanSelfDownload) {\n        if (exportOption.exportAction === _exportUtils.EXPORTACTION.DOWNLOAD || exportOption.exportAction === _exportUtils.EXPORTACTION.DOWNLOADSAVE) {\n          if (exportOption.exportMode === _exportUtils.EXPORTMODE.AUTO) {\n            postData = createPostDataForExport(IMAGEDATA, dataUri);\n          } else {\n            postData = null;\n          }\n\n          (0, _libSvgToCanvas.downloadCharts)(\"url\", dataUri, exportOption.exportFileName + \".\" + exportFormat, postData, exportOption);\n          (0, _eventApi.triggerEvent)(\"exported\", UNDEF, {\n            fileName: exportOption.exportFileName + \".\" + exportFormat\n          });\n        }\n\n        if (exportOption.exportAction === _exportUtils.EXPORTACTION.SAVE || exportOption.exportAction === _exportUtils.EXPORTACTION.DOWNLOADSAVE) {\n          configuredExportAction = exportOption.exportAction;\n\n          if (exportOption.exportAction === _exportUtils.EXPORTACTION.DOWNLOADSAVE) {\n            exportOption.exportAction = _exportUtils.EXPORTACTION.SAVE;\n          }\n\n          postData = createPostDataForExport(IMAGEDATA, dataUri, configuredExportAction);\n          exportOption.paper = {\n            width: UNDEF,\n            height: UNDEF\n          };\n          exportOption.fusionCharts = {};\n          (0, _libSvgToCanvas.downloadCharts)(null, null, null, postData, exportOption);\n          delete exportOption.paper;\n          delete exportOption.fusioncharts;\n          logSeparatelyIfLogModeCLient(exportOption.logMode);\n        } else if (exportOption.logMode !== _exportUtils.LOGMODE.SERVER) {\n          (0, _exportUtils.logCharts)(createPostDataForLog(), exportOption);\n        }\n      } else {\n        postData = createPostDataForExport(IMAGEDATA, dataUri);\n        exportOption.paper = {\n          width: UNDEF,\n          height: UNDEF\n        };\n        exportOption.fusionCharts = {};\n        (0, _libSvgToCanvas.downloadCharts)(null, null, null, postData, exportOption);\n        delete exportOption.paper;\n        delete exportOption.fusioncharts;\n        logSeparatelyIfLogModeCLient(exportOption.logMode);\n      }\n    }, triggerExportCancelled);\n  },\n      drawSvgOnCanvasCallback = function drawSvgOnCanvasCallback() {\n    chartCounter -= 1;\n\n    if (chartCounter === 0 && allChartDrawingComplete) {\n      switch (exportFormat) {\n        case \"png\":\n          exportChart(canvas.toDataURL(\"image/png\"));\n          break;\n\n        case \"jpeg\":\n          exportChart(canvas.toDataURL(\"image/jpeg\"));\n          break;\n\n        case \"pdf\":\n          (0, _jpegToPdf.addImage)(canvas.toDataURL(\"image/jpeg\"), imageHeight, imageWidth);\n          exportChart((0, _jpegToPdf.getDataUrl)());\n          break;\n\n        default:\n          exportChart(canvas.toDataURL(\"image/png\"));\n          break;\n      }\n    }\n  },\n      drawChart = function drawChart() {\n    var item = this;\n    (0, _libSvgToCanvas.drawSvgOnCanvas)({\n      svg: arguments[0],\n      canvas: canvas,\n      x: item.x,\n      y: item.y,\n      width: item.width,\n      height: item.height,\n      useCanvas: arguments[1]\n    }, drawSvgOnCanvasCallback);\n  },\n      createCanvas = function createCanvas(callback) {\n    var background = exportArgs.background;\n    canvas = win.document.createElement(\"canvas\");\n    canvas.id = NEW_CANVAS_ID;\n    canvas.width = imageWidth;\n    canvas.height = imageHeight;\n    canvas.style.border = \"1px solid black\";\n    canvasContext = canvas.getContext(\"2d\");\n    canvasContext.fillStyle = background && background.bgColor || \"#ffffff\";\n    canvasContext.fillRect(0, 0, imageWidth, imageHeight);\n\n    if (background && background.bgImage && isImageSafe(background.bgImage)) {\n      img = new Image();\n      img.src = background.bgImage;\n      img._userData = background;\n      canvasContext.globalAlpha = (0, _lib.pluckNumber)(background.bgImageAlpha, 100) / 100;\n\n      img.onload = function () {\n        var userData = this._userData,\n            x = (0, _lib.pluckNumber)(userData.bgImageX, 0),\n            y = (0, _lib.pluckNumber)(userData.bgImageY, 0),\n            widthHeight = aspectWidthHeight(Number(userData.bgImageWidth), Number(userData.bgImageHeight), this.width, this.height);\n\n        try {\n          canvasContext.drawImage(this, x, y, widthHeight.width, widthHeight.height);\n        } finally {\n          canvasContext.globalAlpha = 1;\n          callback();\n        }\n      };\n\n      img.onerror = function () {\n        callback();\n      };\n    } else {\n      callback();\n    }\n  },\n      preDrawChart = function preDrawChart(chartID, ObjectInput) {\n    chart = FCGlobal.items[chartID];\n\n    if (!chart.jsVars.instanceAPI) {\n      return;\n    }\n\n    svgString = chart.jsVars.instanceAPI.getFromEnv(\"paper\").toSVG(true);\n    svgString = svgString.replace(/NS\\d+:/gi, \"xlink:\");\n    svgString = svgString.replace(/(\\sd\\s*=\\s*[\"'])[M\\s\\d\\.]*([\"'])/gi, \"$1M 0 0 L 0 0$2\");\n    svgString = svgString.replace(/(xlink:title\\s*=\\s*)['\"].*?[\"']/gi, \"\");\n    chartCounter += 1;\n\n    (function () {\n      var localSvgString = svgString,\n          useCanvas = FCGlobal.options[\"export\"].useCanvas;\n      (0, _exportUtils.cacheAllImages)(localSvgString, false, function () {\n        localSvgString = (0, _exportUtils.replaceImagesWithNonDataUrl)(localSvgString);\n        drawChart.call(ObjectInput || chart, localSvgString, useCanvas);\n      });\n    })();\n  },\n      createChartArr = function createChartArr() {\n    var charts = exportArgs.charts,\n        item,\n        chartObject,\n        loopControl,\n        widthHeight,\n        chartWidth,\n        chartHeight;\n    chartArr = [];\n\n    if (charts) {\n      for (loopControl in charts) {\n        if (charts.hasOwnProperty(loopControl) && (item = items[charts[loopControl].id])) {\n          chartObject = charts[loopControl];\n          chartWidth = item.width;\n          chartHeight = item.height;\n\n          if (isNaN(Number(chartWidth))) {\n            chartWidth = item.apiInstance.getFromEnv(\"chartWidth\");\n          }\n\n          if (isNaN(Number(chartHeight))) {\n            chartHeight = item.apiInstance.getFromEnv(\"chartHeight\");\n          }\n\n          widthHeight = aspectWidthHeight(Number(chartObject.width), Number(chartObject.height), chartWidth, chartHeight);\n          chartArr.push({\n            id: item.id,\n            width: widthHeight.width,\n            height: widthHeight.height,\n            x: chartObject.x,\n            y: chartObject.y\n          });\n        }\n      }\n    } else {\n      for (loopControl in items) {\n        if (items.hasOwnProperty(loopControl)) {\n          item = items[loopControl];\n          chartWidth = item.width;\n          chartHeight = item.height;\n\n          if (isNaN(Number(chartWidth))) {\n            chartWidth = item.apiInstance.getFromEnv(\"chartWidth\");\n          }\n\n          if (isNaN(Number(chartHeight))) {\n            chartHeight = item.apiInstance.getFromEnv(\"chartHeight\");\n          }\n\n          chartArr.push({\n            id: item.id,\n            width: chartWidth,\n            height: chartHeight\n          });\n        }\n      }\n    }\n  };\n\n  (function () {\n    var mappingObject;\n    mappingObject = {};\n    mappingObject[_exportUtils.EXPORTMODE.CLIENT] = 1;\n    mappingObject[_exportUtils.EXPORTMODE.AUTO] = 0;\n    mappingObject[_exportUtils.EXPORTMODE.SERVER] = 0;\n    exportOption.exportatclientside = mappingObject[exportOption.exportMode];\n  })();\n\n  if (!_libSvgToCanvas.browserDetails.hasCanvas) {\n    return;\n  }\n\n  createChartArr();\n\n  for (i = 0, len = chartArr.length; i < len; i += 1) {\n    chartObj = chartArr[i];\n    chartObj.x = (0, _lib.pluckNumber)(chartObj.x, imagePaddingByTwo);\n    chartObj.y = (0, _lib.pluckNumber)(chartObj.y, imageHeight + imagePaddingByTwo);\n    chartObj.height = (0, _lib.pluckNumber)(chartObj.height);\n    chartObj.width = (0, _lib.pluckNumber)(chartObj.width);\n    imageHeight = mathMax(imageHeight, chartObj.y + chartObj.height);\n    imageWidth = mathMax(imageWidth, chartObj.x + chartObj.width);\n  }\n\n  imageHeight = exportArgs.imageHeight || imageHeight + imagePaddingByTwo;\n  imageWidth = exportArgs.imageWidth || imageWidth + imagePaddingByTwo;\n  createCanvas(function () {\n    for (i = 0, len = chartArr.length; i < len; i += 1) {\n      chartObj = chartArr[i];\n\n      if (i === len - 1) {\n        allChartDrawingComplete = true;\n      }\n\n      preDrawChart(chartObj.id, chartObj);\n    }\n  });\n}\n\nfunction batchExportLinker(FC) {\n  FC.batchExport = batchExport;\n  FCGlobal = FC;\n}\n\nvar _default = {\n  extension: batchExportLinker,\n  name: \"batchExportLinker\",\n  type: \"extension\",\n  requiresFusionCharts: true\n};\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/batchexport/index.js"],"names":["exports","__esModule","default","_libSvgToCanvas","require","_jpegToPdf","_lib","_exportUtils","_eventApi","NEW_CANVAS_ID","win","window","math","Math","UNDEF","mathMax","max","Image","isIOS","navigator","userAgent","match","IMAGEDATA","DEFAULT_LOG_URL","location","protocol","DEFAULT_EXPORT_URL","BLANKSTRING","FCGlobal","isImageSafe","imageUrl","exec","hostname","getAspectWidthHeight","userWidth","userHeight","oriWidth","oriHeight","width","height","isNaN","pluckNumber","triggerExportCancelled","triggerEvent","batchExport","input","arguments","exportArgs","chart","chartArr","canvas","canvasContext","svgString","chartCounter","allChartDrawingComplete","len","img","chartObj","exportOption","exportTargetWindow","pluck","exportAction","exportActionTemp","toLowerCase","EXPORTACTION","DOWNLOAD","SAVE","DOWNLOADSAVE","indexOf","exportFileName","exportHandler","exportParameters","exportFormat","EXPORTFORMAT","PNG","exportCallback","exportAtClientSide","exportMode","_exportMode","EXPORTMODE","AUTO","SERVER","logEnabled","logMode","_logMode","toUpperCase","LOGMODE","logHandler","imageHeight","imageWidth","imagePadding","imagePaddingByTwo","i","items","aspectWidthHeight","createPostDataForExport","streamType","streamValue","configuredExportAction","_logEnabled","CLIENT","charttype","stream_type","stream","is_single_export","is_full_version","version","PROJECT_VERSION","user_time_zone","Date","getTimezoneOffset","log_enabled","parameters","createExportActionOldString","join","createPostDataForLog","chartType","isSingleExport","isFullVersion","userTimeZone","logSeparatelyIfLogModeCLient","logCharts","exportChart","dataUri","postData","browserCanSelfDownload","btoa","browserDetails","name","downloadCharts","fileName","paper","fusionCharts","fusioncharts","drawSvgOnCanvasCallback","toDataURL","addImage","getDataUrl","drawChart","item","drawSvgOnCanvas","svg","x","y","useCanvas","createCanvas","callback","background","document","createElement","id","style","border","getContext","fillStyle","bgColor","fillRect","bgImage","src","_userData","globalAlpha","bgImageAlpha","onload","userData","bgImageX","bgImageY","widthHeight","Number","bgImageWidth","bgImageHeight","drawImage","onerror","preDrawChart","chartID","ObjectInput","jsVars","instanceAPI","getFromEnv","toSVG","replace","localSvgString","options","cacheAllImages","replaceImagesWithNonDataUrl","call","createChartArr","charts","chartObject","loopControl","chartWidth","chartHeight","hasOwnProperty","apiInstance","push","mappingObject","exportatclientside","hasCanvas","length","batchExportLinker","FC","_default","extension","type","requiresFusionCharts"],"mappings":"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","sourcesContent":["\"use strict\";exports.__esModule=true;exports.default=void 0;var _libSvgToCanvas=require(\"../utils/lib-svg-to-canvas\");var _jpegToPdf=require(\"../utils/jpeg-to-pdf\");var _lib=require(\"@fusioncharts/core/src/lib\");var _exportUtils=require(\"../utils/export-utils\");var _eventApi=require(\"@fusioncharts/core/src/event-api\");var NEW_CANVAS_ID=\"newCanvas\";var win=window,math=Math,UNDEF,mathMax=math.max,Image=win.Image,isIOS=win.navigator.userAgent.match(/(iPad|iPhone|iPod)/g),IMAGEDATA=\"IMAGE-DATA\",DEFAULT_LOG_URL=win.location.protocol===\"https:\"?\"https://export.api3.fusioncharts.com/api/v1.0/logs\":\"http://export.api3.fusioncharts.com/api/v1.0/logs\",DEFAULT_EXPORT_URL=win.location.protocol===\"https:\"?\"https://export.api3.fusioncharts.com/\":\"http://export.api3.fusioncharts.com/\",BLANKSTRING=\"\",FCGlobal,isImageSafe=function isImageSafe(imageUrl){if(imageUrl.match(/http:\\/\\/|https:\\/\\//)){if(/(http:\\/\\/|https:\\/\\/)([^\\/\\:]*)/.exec(imageUrl)[2]){if(win.location.hostname!==/(http:\\/\\/|https:\\/\\/)([^\\/\\:]*)/.exec(imageUrl)[2]){return false}}}return true},getAspectWidthHeight=function getAspectWidthHeight(userWidth,userHeight,oriWidth,oriHeight){var width=userWidth,height=userHeight;if(isNaN(width)){width=(0,_lib.pluckNumber)(userHeight,oriHeight)*(oriWidth/oriHeight)}if(isNaN(height)){height=(0,_lib.pluckNumber)(userWidth,oriWidth)*(oriHeight/oriWidth)}return{width:width,height:height}},triggerExportCancelled=function triggerExportCancelled(){(0,_eventApi.triggerEvent)(\"exportcancelled\")};function batchExport(){var input=arguments[0],exportArgs=input||{},chart,chartArr,canvas,canvasContext,svgString,chartCounter=0,allChartDrawingComplete=false,len,img,chartObj,exportOption={exportTargetWindow:(0,_lib.pluck)(exportArgs.exportTargetWindow,isIOS?\"_parent\":\"_self\"),exportAction:function(){var exportActionTemp;if(exportArgs.exportAction&&typeof exportArgs.exportAction===\"string\"){exportActionTemp=exportArgs.exportAction.toLowerCase();return[_exportUtils.EXPORTACTION.DOWNLOAD,_exportUtils.EXPORTACTION.SAVE,_exportUtils.EXPORTACTION.DOWNLOADSAVE].indexOf(exportActionTemp)>=0?exportActionTemp:_exportUtils.EXPORTACTION.DOWNLOAD}return _exportUtils.EXPORTACTION.DOWNLOAD}(),exportFileName:(0,_lib.pluck)(exportArgs.exportFileName,\"FusionCharts\"),exportHandler:(0,_lib.pluck)(exportArgs.exportHandler,DEFAULT_EXPORT_URL),exportParameters:(0,_lib.pluck)(exportArgs.exportParameters,BLANKSTRING),exportFormat:(0,_lib.pluck)(exportArgs.exportFormat,_exportUtils.EXPORTFORMAT.PNG),exportCallback:(0,_lib.pluck)(exportArgs.exportCallback,BLANKSTRING),exportAtClientSide:(0,_lib.pluckNumber)(exportArgs.exportAtClientSide,1),exportMode:function(){var _exportMode;if(typeof exportArgs.exportAtClientSide!==\"undefined\"){_exportMode={1:_exportUtils.EXPORTMODE.AUTO,0:_exportUtils.EXPORTMODE.SERVER}[exportArgs.exportAtClientSide]}_exportMode=exportArgs.exportMode||_exportMode||_exportUtils.EXPORTMODE.AUTO;_exportMode=_exportMode.toLowerCase();return _exportMode}(),logEnabled:(0,_lib.pluckNumber)(exportArgs.logEnabled,0),logMode:function(){var _logMode=exportArgs.logMode;if(typeof _logMode!==\"undefined\"&&typeof _logMode===\"string\"&&_logMode.toUpperCase()in _exportUtils.LOGMODE){return _exportUtils.LOGMODE[_logMode.toUpperCase()]}return _exportUtils.LOGMODE.AUTO}(),logHandler:(0,_lib.pluck)(exportArgs.logHandler,DEFAULT_LOG_URL)},exportFormat=exportOption.exportFormat.toLowerCase(),imageHeight=0,imageWidth=0,imagePadding=10,imagePaddingByTwo=imagePadding/2,i,items=FCGlobal.items,aspectWidthHeight=getAspectWidthHeight,createPostDataForExport=function createPostDataForExport(streamType,streamValue,configuredExportAction){var _logEnabled;_logEnabled=!!exportOption.logEnabled;if(exportOption.logMode===_exportUtils.LOGMODE.CLIENT){_logEnabled=false}return{charttype:\"combined\",stream_type:streamType||\"\",stream:streamValue||\"\",is_single_export:false,is_full_version:!true,version:_lib.PROJECT_VERSION,user_time_zone:-(new Date).getTimezoneOffset(),log_enabled:_logEnabled,parameters:[\"exportfilename=\"+exportOption.exportFileName,\"exportformat=\"+exportOption.exportFormat,\"exportaction=\"+(0,_exportUtils.createExportActionOldString)(exportOption.exportAction),\"exportactionnew=\"+exportOption.exportAction,\"configuredexportaction=\"+(configuredExportAction||exportOption.exportAction),\"exportparameters=\"+exportOption].join(\"|\")}},createPostDataForLog=function createPostDataForLog(){return{chartType:\"combined\",isSingleExport:false,isFullVersion:!true,exportAction:exportOption.exportAction,userTimeZone:-(new Date).getTimezoneOffset(),exportFileName:[exportOption.exportFileName,exportOption.exportFormat].join(\".\"),exportFormat:exportOption.exportFormat,version:_lib.PROJECT_VERSION}},logSeparatelyIfLogModeCLient=function logSeparatelyIfLogModeCLient(logMode){if(logMode===_exportUtils.LOGMODE.CLIENT){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOption)}},exportChart=function exportChart(dataUri){var postData,browserCanSelfDownload,configuredExportAction;(0,_eventApi.triggerEvent)(\"beforeexport\",UNDEF,UNDEF,UNDEF,(function(){browserCanSelfDownload=typeof win.btoa!==\"undefined\"&&(_libSvgToCanvas.browserDetails.name===\"Chrome\"||_libSvgToCanvas.browserDetails.name===\"Firefox\"||_libSvgToCanvas.browserDetails.name===\"Safari\"||_libSvgToCanvas.browserDetails.name===\"Edge\"||_libSvgToCanvas.browserDetails.name===\"ie\");if(exportOption.exportMode===_exportUtils.EXPORTMODE.CLIENT||exportOption.exportMode===_exportUtils.EXPORTMODE.AUTO&&browserCanSelfDownload){if(exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOAD||exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){if(exportOption.exportMode===_exportUtils.EXPORTMODE.AUTO){postData=createPostDataForExport(IMAGEDATA,dataUri)}else{postData=null}(0,_libSvgToCanvas.downloadCharts)(\"url\",dataUri,exportOption.exportFileName+\".\"+exportFormat,postData,exportOption);(0,_eventApi.triggerEvent)(\"exported\",UNDEF,{fileName:exportOption.exportFileName+\".\"+exportFormat})}if(exportOption.exportAction===_exportUtils.EXPORTACTION.SAVE||exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){configuredExportAction=exportOption.exportAction;if(exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){exportOption.exportAction=_exportUtils.EXPORTACTION.SAVE}postData=createPostDataForExport(IMAGEDATA,dataUri,configuredExportAction);exportOption.paper={width:UNDEF,height:UNDEF};exportOption.fusionCharts={};(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOption);delete exportOption.paper;delete exportOption.fusioncharts;logSeparatelyIfLogModeCLient(exportOption.logMode)}else if(exportOption.logMode!==_exportUtils.LOGMODE.SERVER){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOption)}}else{postData=createPostDataForExport(IMAGEDATA,dataUri);exportOption.paper={width:UNDEF,height:UNDEF};exportOption.fusionCharts={};(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOption);delete exportOption.paper;delete exportOption.fusioncharts;logSeparatelyIfLogModeCLient(exportOption.logMode)}}),triggerExportCancelled)},drawSvgOnCanvasCallback=function drawSvgOnCanvasCallback(){chartCounter-=1;if(chartCounter===0&&allChartDrawingComplete){switch(exportFormat){case\"png\":exportChart(canvas.toDataURL(\"image/png\"));break;case\"jpeg\":exportChart(canvas.toDataURL(\"image/jpeg\"));break;case\"pdf\":(0,_jpegToPdf.addImage)(canvas.toDataURL(\"image/jpeg\"),imageHeight,imageWidth);exportChart((0,_jpegToPdf.getDataUrl)());break;default:exportChart(canvas.toDataURL(\"image/png\"));break}}},drawChart=function drawChart(){var item=this;(0,_libSvgToCanvas.drawSvgOnCanvas)({svg:arguments[0],canvas:canvas,x:item.x,y:item.y,width:item.width,height:item.height,useCanvas:arguments[1]},drawSvgOnCanvasCallback)},createCanvas=function createCanvas(callback){var background=exportArgs.background;canvas=win.document.createElement(\"canvas\");canvas.id=NEW_CANVAS_ID;canvas.width=imageWidth;canvas.height=imageHeight;canvas.style.border=\"1px solid black\";canvasContext=canvas.getContext(\"2d\");canvasContext.fillStyle=background&&background.bgColor||\"#ffffff\";canvasContext.fillRect(0,0,imageWidth,imageHeight);if(background&&background.bgImage&&isImageSafe(background.bgImage)){img=new Image;img.src=background.bgImage;img._userData=background;canvasContext.globalAlpha=(0,_lib.pluckNumber)(background.bgImageAlpha,100)/100;img.onload=function(){var userData=this._userData,x=(0,_lib.pluckNumber)(userData.bgImageX,0),y=(0,_lib.pluckNumber)(userData.bgImageY,0),widthHeight=aspectWidthHeight(Number(userData.bgImageWidth),Number(userData.bgImageHeight),this.width,this.height);try{canvasContext.drawImage(this,x,y,widthHeight.width,widthHeight.height)}finally{canvasContext.globalAlpha=1;callback()}};img.onerror=function(){callback()}}else{callback()}},preDrawChart=function preDrawChart(chartID,ObjectInput){chart=FCGlobal.items[chartID];if(!chart.jsVars.instanceAPI){return}svgString=chart.jsVars.instanceAPI.getFromEnv(\"paper\").toSVG(true);svgString=svgString.replace(/NS\\d+:/gi,\"xlink:\");svgString=svgString.replace(/(\\sd\\s*=\\s*[\"'])[M\\s\\d\\.]*([\"'])/gi,\"$1M 0 0 L 0 0$2\");svgString=svgString.replace(/(xlink:title\\s*=\\s*)['\"].*?[\"']/gi,\"\");chartCounter+=1;(function(){var localSvgString=svgString,useCanvas=FCGlobal.options[\"export\"].useCanvas;(0,_exportUtils.cacheAllImages)(localSvgString,false,(function(){localSvgString=(0,_exportUtils.replaceImagesWithNonDataUrl)(localSvgString);drawChart.call(ObjectInput||chart,localSvgString,useCanvas)}))})()},createChartArr=function createChartArr(){var charts=exportArgs.charts,item,chartObject,loopControl,widthHeight,chartWidth,chartHeight;chartArr=[];if(charts){for(loopControl in charts){if(charts.hasOwnProperty(loopControl)&&(item=items[charts[loopControl].id])){chartObject=charts[loopControl];chartWidth=item.width;chartHeight=item.height;if(isNaN(Number(chartWidth))){chartWidth=item.apiInstance.getFromEnv(\"chartWidth\")}if(isNaN(Number(chartHeight))){chartHeight=item.apiInstance.getFromEnv(\"chartHeight\")}widthHeight=aspectWidthHeight(Number(chartObject.width),Number(chartObject.height),chartWidth,chartHeight);chartArr.push({id:item.id,width:widthHeight.width,height:widthHeight.height,x:chartObject.x,y:chartObject.y})}}}else{for(loopControl in items){if(items.hasOwnProperty(loopControl)){item=items[loopControl];chartWidth=item.width;chartHeight=item.height;if(isNaN(Number(chartWidth))){chartWidth=item.apiInstance.getFromEnv(\"chartWidth\")}if(isNaN(Number(chartHeight))){chartHeight=item.apiInstance.getFromEnv(\"chartHeight\")}chartArr.push({id:item.id,width:chartWidth,height:chartHeight})}}}};(function(){var mappingObject;mappingObject={};mappingObject[_exportUtils.EXPORTMODE.CLIENT]=1;mappingObject[_exportUtils.EXPORTMODE.AUTO]=0;mappingObject[_exportUtils.EXPORTMODE.SERVER]=0;exportOption.exportatclientside=mappingObject[exportOption.exportMode]})();if(!_libSvgToCanvas.browserDetails.hasCanvas){return}createChartArr();for(i=0,len=chartArr.length;i<len;i+=1){chartObj=chartArr[i];chartObj.x=(0,_lib.pluckNumber)(chartObj.x,imagePaddingByTwo);chartObj.y=(0,_lib.pluckNumber)(chartObj.y,imageHeight+imagePaddingByTwo);chartObj.height=(0,_lib.pluckNumber)(chartObj.height);chartObj.width=(0,_lib.pluckNumber)(chartObj.width);imageHeight=mathMax(imageHeight,chartObj.y+chartObj.height);imageWidth=mathMax(imageWidth,chartObj.x+chartObj.width)}imageHeight=exportArgs.imageHeight||imageHeight+imagePaddingByTwo;imageWidth=exportArgs.imageWidth||imageWidth+imagePaddingByTwo;createCanvas((function(){for(i=0,len=chartArr.length;i<len;i+=1){chartObj=chartArr[i];if(i===len-1){allChartDrawingComplete=true}preDrawChart(chartObj.id,chartObj)}}))}function batchExportLinker(FC){FC.batchExport=batchExport;FCGlobal=FC}var _default={extension:batchExportLinker,name:\"batchExportLinker\",type:\"extension\",requiresFusionCharts:true};exports.default=_default;"]},"metadata":{},"sourceType":"script"}