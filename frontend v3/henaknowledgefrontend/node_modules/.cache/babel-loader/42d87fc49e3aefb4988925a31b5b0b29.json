{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _updateDependancyObj = function _updateDependancyObj(nativeInteraction, callback, component, store) {\n  var index, eventStore;\n\n  if (eventStore = store[nativeInteraction]) {\n    eventStore.some(function (eventInfo, i) {\n      if (eventInfo.callback === callback && eventInfo.component === component) {\n        index = i;\n        return true;\n      }\n\n      return false;\n    });\n    index !== _lib.UNDEF && eventStore.splice(index, 1);\n  }\n};\n\nvar InputManager = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(InputManager, _ComponentInterface);\n\n  function InputManager() {\n    return _ComponentInterface.apply(this, arguments) || this;\n  }\n\n  var _proto = InputManager.prototype;\n\n  _proto.configure = function configure() {\n    var manager = this,\n        chart = manager.getFromEnv(\"chart\"),\n        getInputConfigurations = chart.getInputConfigurations;\n    manager.addToEnv(\"canvas\", manager.getLinkedParent());\n    manager.addToEnv(\"inputOptions\", getInputConfigurations && getInputConfigurations.call(chart));\n    manager.config = {\n      controlObj: {},\n      dependancyObj: {}\n    };\n  };\n\n  _proto.addEventToChild = function addEventToChild() {\n    var manager = this,\n        children = manager.getChildren(),\n        derivedEvents = [\"zoomin\", \"zoomout\", \"dragzoomenabled\", \"dragzoomdisabled\", \"pinenabled\", \"pindisabled\", \"panenabled\", \"pandisabled\"];\n\n    var _loop = function _loop(child) {\n      derivedEvents.forEach(function (event) {\n        manager.addExtEventListener(event, manager.manageEvents.bind(manager), children[child][0]);\n      });\n    };\n\n    for (var child in children) {\n      _loop(child);\n    }\n  };\n\n  _proto.manageEvents = function manageEvents(event) {\n    var dependancyObj = this.config.dependancyObj,\n        eventType = event.type;\n    dependancyObj[eventType] && dependancyObj[eventType].forEach(function (inputObj) {\n      if (inputObj.component !== event.sender) {\n        inputObj.callback.call(inputObj.component, event);\n      }\n    });\n  };\n\n  _proto.fetchZoomableAxes = function fetchZoomableAxes() {\n    var manager = this;\n\n    if (!manager.config.axesObArr) {\n      var axesObArr = manager.config.axesObArr = [];\n      manager.getLinkedParent().getAxes().forEach(function (axisOb) {\n        if (axisOb.config.zoomable || axisOb.config.pannable) {\n          axesObArr.push({\n            axis: axisOb.axis,\n            stack: [],\n            isY: axisOb.isY\n          });\n        }\n      });\n      manager.addToEnv(\"axesObArr\", axesObArr);\n    }\n  };\n\n  _proto.draw = function draw() {\n    var manager = this;\n    manager.fetchZoomableAxes();\n    manager.addEventToChild();\n  };\n\n  _proto.getControl = function getControl(inputParams, exclusive) {\n    var inputManager = this,\n        controlObj = inputManager.config.controlObj,\n        canvas = inputManager.getLinkedParent(),\n        nativeInteraction,\n        control;\n\n    if (exclusive) {\n      return;\n    }\n\n    inputParams.forEach(function (inputParam) {\n      nativeInteraction = inputParam.nativeInteraction;\n\n      if (nativeInteraction instanceof Array) {\n        nativeInteraction.forEach(function (nativeInteractionElement) {\n          control = controlObj[nativeInteractionElement] || (controlObj[nativeInteractionElement] = []);\n          control.push({\n            callback: inputParam.callback,\n            component: inputParam.component\n          });\n          inputParam.component.addExtEventListener(nativeInteractionElement, inputParam.callback, canvas);\n        });\n      } else {\n        control = controlObj[nativeInteraction] || (controlObj[nativeInteraction] = []);\n        control.push({\n          callback: inputParam.callback,\n          component: inputParam.component\n        });\n        inputParam.component.addExtEventListener(nativeInteraction, inputParam.callback, canvas);\n      }\n    });\n  };\n\n  _proto.releaseControl = function releaseControl(inputParams) {\n    var inputManager = this,\n        canvas = inputManager.getLinkedParent(),\n        nativeInteraction;\n    inputParams.forEach(function (inputParam) {\n      nativeInteraction = inputParam.nativeInteraction;\n\n      if (nativeInteraction instanceof Array) {\n        nativeInteraction.forEach(function (nativeInteractionElement) {\n          inputParam.component.removeExtEventListener(nativeInteractionElement, inputParam.callback, canvas);\n\n          _updateDependancyObj(nativeInteractionElement, inputParam.callback, inputParam.component, inputManager.config.controlObj);\n        });\n      } else {\n        inputParam.component.removeExtEventListener(nativeInteraction, inputParam.callback, canvas);\n\n        _updateDependancyObj(nativeInteraction, inputParam.callback, inputParam.component, inputManager.config.controlObj);\n      }\n    });\n  };\n\n  _proto._updateControlObj = function _updateControlObj(nativeInteraction, callback) {\n    var controlObj = this.config.controlObj,\n        index,\n        eventStore;\n\n    if (eventStore = controlObj[nativeInteraction]) {\n      eventStore.some(function (eventInfo, i) {\n        if (eventInfo.callback === callback) {\n          index = i;\n          return true;\n        }\n\n        return false;\n      });\n      index !== _lib.UNDEF && eventStore.splice(index, 1);\n    }\n  };\n\n  _proto.registerDependancy = function registerDependancy(inputParams) {\n    var dependancyObj = this.config.dependancyObj,\n        derivedInteraction,\n        specificDependancy;\n    inputParams.forEach(function (inputParam) {\n      derivedInteraction = inputParam.derivedInteraction;\n\n      if (derivedInteraction instanceof Array) {\n        derivedInteraction.forEach(function (derivedInteractionElement) {\n          specificDependancy = dependancyObj[derivedInteractionElement] || (dependancyObj[derivedInteractionElement] = []);\n          specificDependancy.push({\n            callback: inputParam.callback,\n            component: inputParam.component,\n            derivedInteraction: derivedInteractionElement\n          });\n        });\n      } else {\n        specificDependancy = dependancyObj[derivedInteraction] || (dependancyObj[derivedInteraction] = []);\n        specificDependancy.push(inputParam);\n      }\n    });\n  };\n\n  _proto.removeDependancy = function removeDependancy(inputParams) {\n    var inputManager = this,\n        derivedInteraction;\n    inputParams.forEach(function (inputParam) {\n      derivedInteraction = inputParam.derivedInteraction;\n\n      if (derivedInteraction instanceof Array) {\n        derivedInteraction.forEach(function (derivedIntr) {\n          _updateDependancyObj(derivedIntr, inputParam.callback, inputParam.component, inputManager.config.dependancyObj);\n        });\n      } else {\n        _updateDependancyObj(derivedInteraction, inputParam.callback, inputParam.component, inputManager.config.dependancyObj);\n      }\n    });\n  };\n\n  _proto.zoomOut = function zoomOut() {\n    var zoomOutButton = this.getChildren(\"ZoomOutButton\");\n    zoomOutButton && zoomOutButton[0].zoomOut();\n  };\n\n  _proto.zoomTo = function zoomTo(startIndex, endIndex) {\n    var dragZoomIn = this.getChildren(\"DragZoomIn\");\n    dragZoomIn && dragZoomIn[0].zoomTo(startIndex, endIndex);\n  };\n\n  _proto.resetChart = function resetChart() {\n    var zoomResetButton = this.getChildren(\"ZoomResetButton\");\n    zoomResetButton && zoomResetButton[0].zoomOut();\n  };\n\n  _proto.setZoomMode = function setZoomMode(zoomModeEnable) {\n    var dragPin = this.getChildren(\"DragPin\");\n    dragPin && (zoomModeEnable ? dragPin[0].disable() : dragPin[0].enable());\n  };\n\n  return InputManager;\n}(_componentInterface.ComponentInterface);\n\nvar _default = InputManager;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/input-ext/input-manager.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_componentInterface","_lib","_updateDependancyObj","nativeInteraction","callback","component","store","index","eventStore","some","eventInfo","i","UNDEF","splice","InputManager","_ComponentInterface","apply","arguments","_proto","prototype","configure","manager","chart","getFromEnv","getInputConfigurations","addToEnv","getLinkedParent","call","config","controlObj","dependancyObj","addEventToChild","children","getChildren","derivedEvents","_loop","child","forEach","event","addExtEventListener","manageEvents","bind","eventType","type","inputObj","sender","fetchZoomableAxes","axesObArr","getAxes","axisOb","zoomable","pannable","push","axis","stack","isY","draw","getControl","inputParams","exclusive","inputManager","canvas","control","inputParam","Array","nativeInteractionElement","releaseControl","removeExtEventListener","_updateControlObj","registerDependancy","derivedInteraction","specificDependancy","derivedInteractionElement","removeDependancy","derivedIntr","zoomOut","zoomOutButton","zoomTo","startIndex","endIndex","dragZoomIn","resetChart","zoomResetButton","setZoomMode","zoomModeEnable","dragPin","disable","enable","ComponentInterface","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _lib=require(\"@fusioncharts/core/src/lib\");var _updateDependancyObj=function _updateDependancyObj(nativeInteraction,callback,component,store){var index,eventStore;if(eventStore=store[nativeInteraction]){eventStore.some((function(eventInfo,i){if(eventInfo.callback===callback&&eventInfo.component===component){index=i;return true}return false}));index!==_lib.UNDEF&&eventStore.splice(index,1)}};var InputManager=function(_ComponentInterface){(0,_inheritsLoose2.default)(InputManager,_ComponentInterface);function InputManager(){return _ComponentInterface.apply(this,arguments)||this}var _proto=InputManager.prototype;_proto.configure=function configure(){var manager=this,chart=manager.getFromEnv(\"chart\"),getInputConfigurations=chart.getInputConfigurations;manager.addToEnv(\"canvas\",manager.getLinkedParent());manager.addToEnv(\"inputOptions\",getInputConfigurations&&getInputConfigurations.call(chart));manager.config={controlObj:{},dependancyObj:{}}};_proto.addEventToChild=function addEventToChild(){var manager=this,children=manager.getChildren(),derivedEvents=[\"zoomin\",\"zoomout\",\"dragzoomenabled\",\"dragzoomdisabled\",\"pinenabled\",\"pindisabled\",\"panenabled\",\"pandisabled\"];var _loop=function _loop(child){derivedEvents.forEach((function(event){manager.addExtEventListener(event,manager.manageEvents.bind(manager),children[child][0])}))};for(var child in children){_loop(child)}};_proto.manageEvents=function manageEvents(event){var dependancyObj=this.config.dependancyObj,eventType=event.type;dependancyObj[eventType]&&dependancyObj[eventType].forEach((function(inputObj){if(inputObj.component!==event.sender){inputObj.callback.call(inputObj.component,event)}}))};_proto.fetchZoomableAxes=function fetchZoomableAxes(){var manager=this;if(!manager.config.axesObArr){var axesObArr=manager.config.axesObArr=[];manager.getLinkedParent().getAxes().forEach((function(axisOb){if(axisOb.config.zoomable||axisOb.config.pannable){axesObArr.push({axis:axisOb.axis,stack:[],isY:axisOb.isY})}}));manager.addToEnv(\"axesObArr\",axesObArr)}};_proto.draw=function draw(){var manager=this;manager.fetchZoomableAxes();manager.addEventToChild()};_proto.getControl=function getControl(inputParams,exclusive){var inputManager=this,controlObj=inputManager.config.controlObj,canvas=inputManager.getLinkedParent(),nativeInteraction,control;if(exclusive){return}inputParams.forEach((function(inputParam){nativeInteraction=inputParam.nativeInteraction;if(nativeInteraction instanceof Array){nativeInteraction.forEach((function(nativeInteractionElement){control=controlObj[nativeInteractionElement]||(controlObj[nativeInteractionElement]=[]);control.push({callback:inputParam.callback,component:inputParam.component});inputParam.component.addExtEventListener(nativeInteractionElement,inputParam.callback,canvas)}))}else{control=controlObj[nativeInteraction]||(controlObj[nativeInteraction]=[]);control.push({callback:inputParam.callback,component:inputParam.component});inputParam.component.addExtEventListener(nativeInteraction,inputParam.callback,canvas)}}))};_proto.releaseControl=function releaseControl(inputParams){var inputManager=this,canvas=inputManager.getLinkedParent(),nativeInteraction;inputParams.forEach((function(inputParam){nativeInteraction=inputParam.nativeInteraction;if(nativeInteraction instanceof Array){nativeInteraction.forEach((function(nativeInteractionElement){inputParam.component.removeExtEventListener(nativeInteractionElement,inputParam.callback,canvas);_updateDependancyObj(nativeInteractionElement,inputParam.callback,inputParam.component,inputManager.config.controlObj)}))}else{inputParam.component.removeExtEventListener(nativeInteraction,inputParam.callback,canvas);_updateDependancyObj(nativeInteraction,inputParam.callback,inputParam.component,inputManager.config.controlObj)}}))};_proto._updateControlObj=function _updateControlObj(nativeInteraction,callback){var controlObj=this.config.controlObj,index,eventStore;if(eventStore=controlObj[nativeInteraction]){eventStore.some((function(eventInfo,i){if(eventInfo.callback===callback){index=i;return true}return false}));index!==_lib.UNDEF&&eventStore.splice(index,1)}};_proto.registerDependancy=function registerDependancy(inputParams){var dependancyObj=this.config.dependancyObj,derivedInteraction,specificDependancy;inputParams.forEach((function(inputParam){derivedInteraction=inputParam.derivedInteraction;if(derivedInteraction instanceof Array){derivedInteraction.forEach((function(derivedInteractionElement){specificDependancy=dependancyObj[derivedInteractionElement]||(dependancyObj[derivedInteractionElement]=[]);specificDependancy.push({callback:inputParam.callback,component:inputParam.component,derivedInteraction:derivedInteractionElement})}))}else{specificDependancy=dependancyObj[derivedInteraction]||(dependancyObj[derivedInteraction]=[]);specificDependancy.push(inputParam)}}))};_proto.removeDependancy=function removeDependancy(inputParams){var inputManager=this,derivedInteraction;inputParams.forEach((function(inputParam){derivedInteraction=inputParam.derivedInteraction;if(derivedInteraction instanceof Array){derivedInteraction.forEach((function(derivedIntr){_updateDependancyObj(derivedIntr,inputParam.callback,inputParam.component,inputManager.config.dependancyObj)}))}else{_updateDependancyObj(derivedInteraction,inputParam.callback,inputParam.component,inputManager.config.dependancyObj)}}))};_proto.zoomOut=function zoomOut(){var zoomOutButton=this.getChildren(\"ZoomOutButton\");zoomOutButton&&zoomOutButton[0].zoomOut()};_proto.zoomTo=function zoomTo(startIndex,endIndex){var dragZoomIn=this.getChildren(\"DragZoomIn\");dragZoomIn&&dragZoomIn[0].zoomTo(startIndex,endIndex)};_proto.resetChart=function resetChart(){var zoomResetButton=this.getChildren(\"ZoomResetButton\");zoomResetButton&&zoomResetButton[0].zoomOut()};_proto.setZoomMode=function setZoomMode(zoomModeEnable){var dragPin=this.getChildren(\"DragPin\");dragPin&&(zoomModeEnable?dragPin[0].disable():dragPin[0].enable())};return InputManager}(_componentInterface.ComponentInterface);var _default=InputManager;exports.default=_default;"]},"metadata":{},"sourceType":"script"}