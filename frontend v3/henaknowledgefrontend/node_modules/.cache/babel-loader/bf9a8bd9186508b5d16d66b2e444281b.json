{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = _default;\n\nvar _lib = require(\"../../lib\");\n\nfunction _default(R) {\n  var win = window,\n      UNDEF,\n      math = Math,\n      mathSqrt = math.sqrt,\n      toFloat = win.parseFloat,\n      toInt = win.parseInt,\n      EMP = \"\",\n      SPC = \" \",\n      NONE = \"none\",\n      ROUND = \"round\",\n      STROKE_WIDTH = \"stroke-width\",\n      DROP_SHADOW = \"drop-shadow\",\n      BLACK = \"rgba(0,0,0,1)\",\n      hasSVGFilters = win.SVGFilterElement || win.SVGFEColorMatrixElement && win.SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE === 2,\n      forbiddenAttrs = {\n    \"drop-shadow\": \"drop-shadow\",\n    stroke: \"stroke\",\n    fill: \"fill\",\n    \"stroke-width\": \"stroke-width\",\n    \"stroke-opacity\": \"stroke-opacity\",\n    \"stroke-linecap\": \"stroke-linecap\",\n    \"stroke-linejoin\": \"stroke-linejoin\",\n    \"shape-rendering\": \"shape-rendering\",\n    opacity: \"opacity\",\n    \"fill-opacity\": \"fill-opacity\"\n  },\n      supervisor;\n\n  if (R.svg) {\n    if (hasSVGFilters) {\n      R.filterShadow = function (dependencyObj, hasGroup) {\n        var dx = dependencyObj.dx || 1,\n            dy = dependencyObj.dy || 1,\n            spread = dependencyObj.spread || 3,\n            color = dependencyObj.color || \"rgb(64,64,64)\",\n            filterDefs,\n            children,\n            paper = dependencyObj.paper,\n            cache = paper.cacheShadows || (paper.cacheShadows = {}),\n            hash = dependencyObj.id || DROP_SHADOW + \"-\" + (hasGroup ? \"layered\" : \"non-layered\") + \"-\" + [dx, dy, spread, color].join(SPC) + paper.container.id,\n            id = dependencyObj.id || R.getElementID(hash.replace(/[\\(\\)\\s%:,\\xb0#]/g, \"_\")),\n            hasShadowDef = !!(dependencyObj.id ? R._g.doc.getElementById(id) : cache[hash]),\n            opacity,\n            shadow;\n\n        if (paper && !hasShadowDef) {\n          color = R.color(color);\n\n          if (color.error) {\n            color = R.color(BLACK);\n          }\n\n          opacity = (0, _lib.pluck)(color.opacity, 1);\n          opacity = dependencyObj.opacity || opacity;\n          filterDefs = paper.addDefs({\n            filter: {\n              tagName: \"filter\",\n              id: id,\n              y: \"-1000%\",\n              x: \"-1000%\",\n              width: \"2000%\",\n              height: \"2000%\",\n              children: [{\n                tagName: \"feOffset\",\n                result: \"offOut\",\n                in: \"SourceGraphic\",\n                dx: toFloat(dx),\n                dy: toFloat(dy)\n              }, {\n                tagName: \"feColorMatrix\",\n                result: \"matrixOut\",\n                in: \"offOut\",\n                type: \"matrix\",\n                values: \"0 0 0 0 0\" + \" 0 0 0 0 0\" + \" 0 0 0 0 0\" + \" 0 0 0 \" + opacity + \" 0\"\n              }, {\n                tagName: \"feGaussianBlur\",\n                result: \"blurOut\",\n                in: \"matrixOut\",\n                stdDeviation: hasGroup ? 1 : mathSqrt(toFloat(spread))\n              }, {\n                tagName: \"feComposite\",\n                in: \"SourceGraphic\",\n                in2: \"blurOut\",\n                operator: \"over\"\n              }]\n            }\n          });\n          children = filterDefs.filter.children;\n          shadow = cache[hash] = {\n            use: 1,\n            hash: hash,\n            id: id,\n            filter: filterDefs.filter.element,\n            offset: children[0].element,\n            matrix: children[1].element,\n            blur: children[2].element,\n            blend: children[3].element\n          };\n        } else {\n          shadow = cache[hash];\n          shadow.use += 1;\n        }\n\n        return shadow;\n      };\n\n      R.el.dropshadow = function (dx, dy, spread, color, opacity, group) {\n        var o = this,\n            elem,\n            node,\n            shadow = o._.shadowFilter,\n            paper = o.paper,\n            cache = paper.cacheShadows || (paper.cacheShadows = {}),\n            hash = DROP_SHADOW + [dx, dy, spread, color].join(SPC),\n            prop,\n            tempOpacity,\n            strokeOpacity,\n            shadowCreated,\n            i,\n            el;\n        strokeOpacity = tempOpacity = opacity * .05;\n\n        for (i = 1; i <= 3; i++) {\n          strokeOpacity += tempOpacity * i * (opacity - strokeOpacity);\n        }\n\n        elem = group ? o.shadowElem || o.clone({\n          fill: NONE,\n          stroke: \"rgb(51, 51, 51)\",\n          \"stroke-width\": o.attr(\"stroke-width\") || 1,\n          opacity: strokeOpacity\n        }, group).translate(dx, dy).follow(o, supervisor, !group && \"before\") : o;\n        node = elem.shadowElem && elem.shadowElem.node || elem.node;\n\n        if (dx === NONE) {\n          if (shadow) {\n            shadow.use -= 1;\n            node.removeAttribute(\"filter\");\n            o.shadowElem && o.shadowElem.attr(\"opacity\", 0);\n\n            if (!shadow.use) {\n              hash = shadow.hash;\n\n              for (prop in shadow) {\n                el = shadow[prop];\n\n                if (el.parentNode) {\n                  el.parentNode.removeChild(el);\n                }\n\n                delete shadow[prop];\n              }\n\n              el = null;\n              delete cache[hash];\n            }\n\n            shadow = null;\n            delete o._.shadowFilter;\n          }\n        } else {\n          group && !o.shadowElem && (shadowCreated = true);\n          group && (o.shadowElem = elem);\n\n          if (!(shadow && cache[hash])) {\n            shadow = o._.shadowFilter = R.filterShadow({\n              paper: paper,\n              dx: dx,\n              dy: dy,\n              spread: spread,\n              color: color,\n              opacity: !group && strokeOpacity\n            }, !!group);\n          } else {\n            shadow = cache[hash];\n          }\n\n          !shadowCreated && o.shadowElem && o.shadowElem.attr(\"opacity\", strokeOpacity);\n          node.setAttribute(\"filter\", 'url(\"' + R._url + \"#\" + shadow.id + '\")');\n        }\n\n        return this;\n      };\n    }\n\n    supervisor = function supervisor(params, leader) {\n      var o = this,\n          del = {},\n          matrix,\n          key;\n\n      for (key in params) {\n        if (forbiddenAttrs[key]) {\n          del[key] = params[key];\n          delete params[key];\n        }\n\n        switch (key) {\n          case \"transform\":\n            matrix = leader.matrix.clone();\n            matrix.translate(o.__shadowx, o.__shadowy);\n            o.transform(matrix.toTransformString());\n            break;\n\n          case STROKE_WIDTH:\n            params[key] = del[key] || 1;\n            break;\n        }\n      }\n\n      o.attr(params);\n\n      for (key in del) {\n        params[key] = del[key];\n      }\n    };\n\n    R.ca[DROP_SHADOW] = function (_offX, _offY, spread, _color, scale, group) {\n      var o = this,\n          shadows = o._.shadows || (o._.shadows = []),\n          opacity,\n          shadow,\n          offset,\n          matrix,\n          tScale,\n          strScale,\n          i,\n          offX = _offX,\n          offY = _offY,\n          color = _color;\n\n      if (o.__shadowblocked) {\n        return false;\n      } else if (offX === NONE) {\n        while (shadow = shadows.pop()) {\n          shadow.remove();\n        }\n      } else {\n        color = R.color(color);\n\n        if (color.error) {\n          color = R.color(BLACK);\n        }\n\n        if (scale instanceof Array) {\n          tScale = scale[0];\n          strScale = scale[1];\n        } else {\n          tScale = strScale = scale;\n        }\n\n        tScale = 1 / (0, _lib.pluck)(tScale, 1);\n        strScale = 1 / (0, _lib.pluck)(strScale, 1);\n        offX = (0, _lib.pluck)(offX, 1) * tScale;\n        offY = (0, _lib.pluck)(offY, 1) * tScale;\n        opacity = (0, _lib.pluck)(color.opacity, 1) * .05;\n        offset = toInt(o.attr(STROKE_WIDTH) || 1, 10) + 6;\n        matrix = o.matrix.clone();\n        matrix.translate(offX, offY);\n\n        for (i = 1; i <= 3; i++) {\n          shadow = (shadows[i - 1] || o.clone().follow(o, supervisor, !group && \"before\")).attr({\n            stroke: color.hex,\n            \"stroke-opacity\": opacity * i,\n            opacity: \"1\",\n            \"stroke-width\": (offset - 2 * i) * strScale,\n            transform: matrix.toTransformString(),\n            \"stroke-linecap\": ROUND,\n            \"stroke-linejoin\": ROUND,\n            fill: NONE\n          });\n          shadow.__shadowlevel = i;\n          shadow.__shadowscale = strScale;\n          shadow.__shadowx = offX;\n          shadow.__shadowy = offY;\n          group && group.appendChild(shadow);\n          shadows.push(shadow);\n        }\n      }\n\n      return false;\n    };\n\n    R.el.shadow = function (_apply, _opacity, _scale, _group) {\n      var useFilter,\n          apply = _apply,\n          opacity = _opacity,\n          scale = _scale,\n          group = _group;\n\n      if (scale && scale.constructor === R.el.constructor) {\n        group = scale;\n        scale = UNDEF;\n      }\n\n      if (typeof apply === \"object\") {\n        opacity && opacity.constructor === R.el.constructor && (group = opacity);\n        opacity = apply.opacity;\n        scale = apply.scalefactor;\n        useFilter = apply.useFilter !== UNDEF ? !!apply.useFilter : !_lib.isIE9;\n        apply = apply.apply === UNDEF ? !!opacity : apply.apply;\n      }\n\n      opacity === UNDEF && (opacity = 1);\n\n      if (this.dropshadow) {\n        if (useFilter && !this.ca.hasOwnProperty(\"drop-shadow\")) {\n          apply && this.dropshadow(1, 1, 3, \"rgb(64,64,64)\", opacity, group) || this.dropshadow(NONE);\n          return this;\n        } else if (this._.shadowFilter) {\n          this.dropshadow(NONE);\n        }\n      }\n\n      return this.attr(DROP_SHADOW, apply ? [1, 1, 3, \"rgba(64,64,64,\" + opacity + \")\", scale, group] : NONE);\n    };\n  } else if (R.vml) {\n    R.ca[\"drop-shadow\"] = function (_offX, _offY, spread, _color, scale, group) {\n      var o = this,\n          shadow = o._.shadow,\n          style,\n          filter,\n          tScale,\n          opacity,\n          offX = _offX,\n          offY = _offY,\n          color = _color;\n\n      if (o.isShadow) {\n        return false;\n      }\n\n      if (offX === NONE) {\n        shadow && (shadow = o._.shadow = shadow.remove());\n      } else {\n        if (!shadow) {\n          shadow = o._.shadow = o.clone();\n          group && group.appendChild(shadow.follow(o)) || shadow.follow(o, UNDEF, \"before\");\n          shadow.attr({\n            fill: \"none\",\n            \"fill-opacity\": .5,\n            \"stroke-opacity\": 1\n          }).isShadow = true;\n\n          if (shadow.attr(STROKE_WIDTH) <= 0) {\n            shadow.attr(STROKE_WIDTH, 1);\n          }\n        }\n\n        style = shadow.node.runtimeStyle;\n        filter = style.filter.replace(/ progid:\\S+Blur\\([^\\)]+\\)/g, EMP);\n        color = R.color(color);\n\n        if (color.error) {\n          color = R.color(BLACK);\n        }\n\n        opacity = (0, _lib.pluck)(color.opacity, 1) / 5;\n\n        if (scale instanceof Array) {\n          tScale = scale[0];\n        } else {\n          tScale = scale;\n        }\n\n        tScale = 1 / (0, _lib.pluck)(scale, 1);\n        offX = (0, _lib.pluck)(offX, 1) * tScale;\n        offY = (0, _lib.pluck)(offY, 1) * tScale;\n        shadow.translate(offX, offY);\n        style.filter = filter + \" progid:DXImageTransform.Microsoft.Blur(pixelRadius=\" + toFloat(spread * .4) + \" makeShadow=True Color=\" + color.hex + ' shadowOpacity=\"' + opacity + '\");';\n      }\n\n      return false;\n    };\n\n    R.el.shadow = function (_apply, _opacity, _scale, _group) {\n      var o = this,\n          apply = _apply,\n          opacity = _opacity,\n          scale = _scale,\n          group = _group;\n\n      if (scale && scale.constructor === R.el.constructor) {\n        group = scale;\n        scale = UNDEF;\n      }\n\n      if (typeof apply === \"object\") {\n        opacity && opacity.type === \"group\" && (group = opacity);\n        opacity = apply.opacity;\n        scale = apply.scalefactor;\n        apply = apply.apply === UNDEF ? !!opacity : apply.apply;\n      }\n\n      opacity === UNDEF && (opacity = 1);\n      return o.attr(DROP_SHADOW, apply || !opacity ? [1, 1, 5, \"rgba(64,64,64,\" + opacity + \")\", scale, group] : NONE);\n    };\n  } else if (R.canvas) {\n    R.el.shadow = function () {\n      return this;\n    };\n  }\n}","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/_internal/redraphael/redraphael.shadow.js"],"names":["exports","__esModule","default","_default","_lib","require","R","win","window","UNDEF","math","Math","mathSqrt","sqrt","toFloat","parseFloat","toInt","parseInt","EMP","SPC","NONE","ROUND","STROKE_WIDTH","DROP_SHADOW","BLACK","hasSVGFilters","SVGFilterElement","SVGFEColorMatrixElement","SVG_FECOLORMATRIX_TYPE_SATURATE","forbiddenAttrs","stroke","fill","opacity","supervisor","svg","filterShadow","dependencyObj","hasGroup","dx","dy","spread","color","filterDefs","children","paper","cache","cacheShadows","hash","id","join","container","getElementID","replace","hasShadowDef","_g","doc","getElementById","shadow","error","pluck","addDefs","filter","tagName","y","x","width","height","result","in","type","values","stdDeviation","in2","operator","use","element","offset","matrix","blur","blend","el","dropshadow","group","o","elem","node","_","shadowFilter","prop","tempOpacity","strokeOpacity","shadowCreated","i","shadowElem","clone","attr","translate","follow","removeAttribute","parentNode","removeChild","setAttribute","_url","params","leader","del","key","__shadowx","__shadowy","transform","toTransformString","ca","_offX","_offY","_color","scale","shadows","tScale","strScale","offX","offY","__shadowblocked","pop","remove","Array","hex","__shadowlevel","__shadowscale","appendChild","push","_apply","_opacity","_scale","_group","useFilter","apply","constructor","scalefactor","isIE9","hasOwnProperty","vml","style","isShadow","runtimeStyle","canvas"],"mappings":"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","sourcesContent":["\"use strict\";exports.__esModule=true;exports.default=_default;var _lib=require(\"../../lib\");function _default(R){var win=window,UNDEF,math=Math,mathSqrt=math.sqrt,toFloat=win.parseFloat,toInt=win.parseInt,EMP=\"\",SPC=\" \",NONE=\"none\",ROUND=\"round\",STROKE_WIDTH=\"stroke-width\",DROP_SHADOW=\"drop-shadow\",BLACK=\"rgba(0,0,0,1)\",hasSVGFilters=win.SVGFilterElement||win.SVGFEColorMatrixElement&&win.SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE===2,forbiddenAttrs={\"drop-shadow\":\"drop-shadow\",stroke:\"stroke\",fill:\"fill\",\"stroke-width\":\"stroke-width\",\"stroke-opacity\":\"stroke-opacity\",\"stroke-linecap\":\"stroke-linecap\",\"stroke-linejoin\":\"stroke-linejoin\",\"shape-rendering\":\"shape-rendering\",opacity:\"opacity\",\"fill-opacity\":\"fill-opacity\"},supervisor;if(R.svg){if(hasSVGFilters){R.filterShadow=function(dependencyObj,hasGroup){var dx=dependencyObj.dx||1,dy=dependencyObj.dy||1,spread=dependencyObj.spread||3,color=dependencyObj.color||\"rgb(64,64,64)\",filterDefs,children,paper=dependencyObj.paper,cache=paper.cacheShadows||(paper.cacheShadows={}),hash=dependencyObj.id||DROP_SHADOW+\"-\"+(hasGroup?\"layered\":\"non-layered\")+\"-\"+[dx,dy,spread,color].join(SPC)+paper.container.id,id=dependencyObj.id||R.getElementID(hash.replace(/[\\(\\)\\s%:,\\xb0#]/g,\"_\")),hasShadowDef=!!(dependencyObj.id?R._g.doc.getElementById(id):cache[hash]),opacity,shadow;if(paper&&!hasShadowDef){color=R.color(color);if(color.error){color=R.color(BLACK)}opacity=(0,_lib.pluck)(color.opacity,1);opacity=dependencyObj.opacity||opacity;filterDefs=paper.addDefs({filter:{tagName:\"filter\",id:id,y:\"-1000%\",x:\"-1000%\",width:\"2000%\",height:\"2000%\",children:[{tagName:\"feOffset\",result:\"offOut\",in:\"SourceGraphic\",dx:toFloat(dx),dy:toFloat(dy)},{tagName:\"feColorMatrix\",result:\"matrixOut\",in:\"offOut\",type:\"matrix\",values:\"0 0 0 0 0\"+\" 0 0 0 0 0\"+\" 0 0 0 0 0\"+\" 0 0 0 \"+opacity+\" 0\"},{tagName:\"feGaussianBlur\",result:\"blurOut\",in:\"matrixOut\",stdDeviation:hasGroup?1:mathSqrt(toFloat(spread))},{tagName:\"feComposite\",in:\"SourceGraphic\",in2:\"blurOut\",operator:\"over\"}]}});children=filterDefs.filter.children;shadow=cache[hash]={use:1,hash:hash,id:id,filter:filterDefs.filter.element,offset:children[0].element,matrix:children[1].element,blur:children[2].element,blend:children[3].element}}else{shadow=cache[hash];shadow.use+=1}return shadow};R.el.dropshadow=function(dx,dy,spread,color,opacity,group){var o=this,elem,node,shadow=o._.shadowFilter,paper=o.paper,cache=paper.cacheShadows||(paper.cacheShadows={}),hash=DROP_SHADOW+[dx,dy,spread,color].join(SPC),prop,tempOpacity,strokeOpacity,shadowCreated,i,el;strokeOpacity=tempOpacity=opacity*.05;for(i=1;i<=3;i++){strokeOpacity+=tempOpacity*i*(opacity-strokeOpacity)}elem=group?o.shadowElem||o.clone({fill:NONE,stroke:\"rgb(51, 51, 51)\",\"stroke-width\":o.attr(\"stroke-width\")||1,opacity:strokeOpacity},group).translate(dx,dy).follow(o,supervisor,!group&&\"before\"):o;node=elem.shadowElem&&elem.shadowElem.node||elem.node;if(dx===NONE){if(shadow){shadow.use-=1;node.removeAttribute(\"filter\");o.shadowElem&&o.shadowElem.attr(\"opacity\",0);if(!shadow.use){hash=shadow.hash;for(prop in shadow){el=shadow[prop];if(el.parentNode){el.parentNode.removeChild(el)}delete shadow[prop]}el=null;delete cache[hash]}shadow=null;delete o._.shadowFilter}}else{group&&!o.shadowElem&&(shadowCreated=true);group&&(o.shadowElem=elem);if(!(shadow&&cache[hash])){shadow=o._.shadowFilter=R.filterShadow({paper:paper,dx:dx,dy:dy,spread:spread,color:color,opacity:!group&&strokeOpacity},!!group)}else{shadow=cache[hash]}!shadowCreated&&o.shadowElem&&o.shadowElem.attr(\"opacity\",strokeOpacity);node.setAttribute(\"filter\",'url(\"'+R._url+\"#\"+shadow.id+'\")')}return this}}supervisor=function supervisor(params,leader){var o=this,del={},matrix,key;for(key in params){if(forbiddenAttrs[key]){del[key]=params[key];delete params[key]}switch(key){case\"transform\":matrix=leader.matrix.clone();matrix.translate(o.__shadowx,o.__shadowy);o.transform(matrix.toTransformString());break;case STROKE_WIDTH:params[key]=del[key]||1;break}}o.attr(params);for(key in del){params[key]=del[key]}};R.ca[DROP_SHADOW]=function(_offX,_offY,spread,_color,scale,group){var o=this,shadows=o._.shadows||(o._.shadows=[]),opacity,shadow,offset,matrix,tScale,strScale,i,offX=_offX,offY=_offY,color=_color;if(o.__shadowblocked){return false}else if(offX===NONE){while(shadow=shadows.pop()){shadow.remove()}}else{color=R.color(color);if(color.error){color=R.color(BLACK)}if(scale instanceof Array){tScale=scale[0];strScale=scale[1]}else{tScale=strScale=scale}tScale=1/(0,_lib.pluck)(tScale,1);strScale=1/(0,_lib.pluck)(strScale,1);offX=(0,_lib.pluck)(offX,1)*tScale;offY=(0,_lib.pluck)(offY,1)*tScale;opacity=(0,_lib.pluck)(color.opacity,1)*.05;offset=toInt(o.attr(STROKE_WIDTH)||1,10)+6;matrix=o.matrix.clone();matrix.translate(offX,offY);for(i=1;i<=3;i++){shadow=(shadows[i-1]||o.clone().follow(o,supervisor,!group&&\"before\")).attr({stroke:color.hex,\"stroke-opacity\":opacity*i,opacity:\"1\",\"stroke-width\":(offset-2*i)*strScale,transform:matrix.toTransformString(),\"stroke-linecap\":ROUND,\"stroke-linejoin\":ROUND,fill:NONE});shadow.__shadowlevel=i;shadow.__shadowscale=strScale;shadow.__shadowx=offX;shadow.__shadowy=offY;group&&group.appendChild(shadow);shadows.push(shadow)}}return false};R.el.shadow=function(_apply,_opacity,_scale,_group){var useFilter,apply=_apply,opacity=_opacity,scale=_scale,group=_group;if(scale&&scale.constructor===R.el.constructor){group=scale;scale=UNDEF}if(typeof apply===\"object\"){opacity&&opacity.constructor===R.el.constructor&&(group=opacity);opacity=apply.opacity;scale=apply.scalefactor;useFilter=apply.useFilter!==UNDEF?!!apply.useFilter:!_lib.isIE9;apply=apply.apply===UNDEF?!!opacity:apply.apply}opacity===UNDEF&&(opacity=1);if(this.dropshadow){if(useFilter&&!this.ca.hasOwnProperty(\"drop-shadow\")){apply&&this.dropshadow(1,1,3,\"rgb(64,64,64)\",opacity,group)||this.dropshadow(NONE);return this}else if(this._.shadowFilter){this.dropshadow(NONE)}}return this.attr(DROP_SHADOW,apply?[1,1,3,\"rgba(64,64,64,\"+opacity+\")\",scale,group]:NONE)}}else if(R.vml){R.ca[\"drop-shadow\"]=function(_offX,_offY,spread,_color,scale,group){var o=this,shadow=o._.shadow,style,filter,tScale,opacity,offX=_offX,offY=_offY,color=_color;if(o.isShadow){return false}if(offX===NONE){shadow&&(shadow=o._.shadow=shadow.remove())}else{if(!shadow){shadow=o._.shadow=o.clone();group&&group.appendChild(shadow.follow(o))||shadow.follow(o,UNDEF,\"before\");shadow.attr({fill:\"none\",\"fill-opacity\":.5,\"stroke-opacity\":1}).isShadow=true;if(shadow.attr(STROKE_WIDTH)<=0){shadow.attr(STROKE_WIDTH,1)}}style=shadow.node.runtimeStyle;filter=style.filter.replace(/ progid:\\S+Blur\\([^\\)]+\\)/g,EMP);color=R.color(color);if(color.error){color=R.color(BLACK)}opacity=(0,_lib.pluck)(color.opacity,1)/5;if(scale instanceof Array){tScale=scale[0]}else{tScale=scale}tScale=1/(0,_lib.pluck)(scale,1);offX=(0,_lib.pluck)(offX,1)*tScale;offY=(0,_lib.pluck)(offY,1)*tScale;shadow.translate(offX,offY);style.filter=filter+\" progid:DXImageTransform.Microsoft.Blur(pixelRadius=\"+toFloat(spread*.4)+\" makeShadow=True Color=\"+color.hex+' shadowOpacity=\"'+opacity+'\");'}return false};R.el.shadow=function(_apply,_opacity,_scale,_group){var o=this,apply=_apply,opacity=_opacity,scale=_scale,group=_group;if(scale&&scale.constructor===R.el.constructor){group=scale;scale=UNDEF}if(typeof apply===\"object\"){opacity&&opacity.type===\"group\"&&(group=opacity);opacity=apply.opacity;scale=apply.scalefactor;apply=apply.apply===UNDEF?!!opacity:apply.apply}opacity===UNDEF&&(opacity=1);return o.attr(DROP_SHADOW,apply||!opacity?[1,1,5,\"rgba(64,64,64,\"+opacity+\")\",scale,group]:NONE)}}else if(R.canvas){R.el.shadow=function(){return this}}}"]},"metadata":{},"sourceType":"script"}