{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _canvas = _interopRequireDefault(require(\"./canvas.animation\"));\n\nvar mathMax = Math.max,\n    MAX_MITER_LINEJOIN = 2,\n    miterStr = _lib.preDefStr.miterStr,\n    NONE = _lib.preDefStr.noneStr,\n    ROUND = _lib.preDefStr.ROUND,\n    clipSumValue = \"clip-sum-value\",\n    clipCanvasInitStr = \"clip-canvas-init\",\n    clipCanvasStr = \"clip-canvas\",\n    _createGroup = function createGroup(groupName, parentContainer, canvas) {\n  var animationManager = canvas.getFromEnv(\"animationManager\");\n  return animationManager.setAnimation({\n    el: \"group\",\n    attr: {\n      name: groupName\n    },\n    container: parentContainer,\n    component: canvas,\n    label: \"group\"\n  });\n};\n\n(0, _dependencyManager.addDep)({\n  name: \"canvasAnimation\",\n  type: \"animationRule\",\n  extension: _canvas.default\n});\n\nvar Canvas = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(Canvas, _ComponentInterface);\n\n  function Canvas() {\n    var _this;\n\n    _this = _ComponentInterface.call(this) || this;\n    var canvas = (0, _assertThisInitialized2.default)(_this);\n    canvas.config = {};\n    canvas.config.axes = canvas.config.axes || [];\n    canvas.setLinkedItem(\"axes\", []);\n    canvas.setLinkedItem(\"primaryAxis\", {});\n    canvas.addToEnv(\"canvasConfig\", _this.config);\n    return _this;\n  }\n\n  var _proto = Canvas.prototype;\n\n  _proto.getName = function getName() {\n    return \"canvas\";\n  };\n\n  _proto.getType = function getType() {\n    return \"canvas\";\n  };\n\n  _proto.createGroup = function createGroup() {\n    var canvas = this,\n        canvasConfig = canvas.config,\n        chart = canvas.getFromEnv(\"chart\"),\n        chartChildContainer = chart.getChildContainer(),\n        parentGroup = chart.getContainer(\"parentgroup\"),\n        canvasDimensions = canvas.getEffectiveDimensions(),\n        chartAttr = canvas.getFromEnv(\"chart-attrib\"),\n        isAreaOverColumns = (0, _lib.pluckNumber)(chartAttr.areaovercolumns, 1),\n        floorContainer = canvas.getChildContainer(\"axisReferenceVisualsFloor\"),\n        bottomContainer = canvas.getChildContainer(\"axisReferenceVisualsBottom\"),\n        middleContainer = canvas.getChildContainer(\"axisReferenceVisualsMiddle\"),\n        topContainer = canvas.getChildContainer(\"axisReferenceVisualsTop\"),\n        ceilContainer = canvas.getChildContainer(\"axisReferenceVisualsCeil\"),\n        areaContainer = canvas.getChildContainer(\"areaGroup\"),\n        areaShadowContainer = canvas.getChildContainer(\"areaShadowGroup\"),\n        columnContainer = canvas.getChildContainer(\"columnGroup\"),\n        columnShadowContainer = canvas.getChildContainer(\"columnShadowGroup\"),\n        plotGroup = chartChildContainer.plotGroup,\n        clipPath = [canvasDimensions.left, canvasDimensions.top, canvasDimensions.width, canvasDimensions.height].toString();\n    !canvas.getContainer(\"canvasGroup\") && canvas.addContainer(\"canvasGroup\", _createGroup(\"canvas\", parentGroup, canvas)).insertAfter(chartChildContainer.backgroundGroup);\n\n    if (!bottomContainer) {\n      bottomContainer = canvas.addChildContainer(\"axisReferenceVisualsBottom\", _createGroup(\"axisReferenceVisualsBottom\", parentGroup, canvas)).insertAfter(chartChildContainer.axisBottomGroup);\n    }\n\n    bottomContainer.attr({\n      \"clip-rect\": canvasConfig.canvasBorderWidth > 0 ? clipPath : null\n    });\n\n    if (!floorContainer) {\n      floorContainer = canvas.addChildContainer(\"axisReferenceVisualsFloor\", _createGroup(\"axisReferenceVisualsFloor\", parentGroup, canvas)).insertAfter(chartChildContainer.axisBottomGroup);\n    }\n\n    floorContainer.attr({\n      \"clip-rect\": clipPath\n    });\n    !canvas.getChildContainer(\"crossline\") && canvas.addChildContainer(\"crossline\", _createGroup(\"crossline\", parentGroup, canvas)).insertBefore(chartChildContainer.plotGroup);\n    !canvas.getChildContainer(\"crosslineBottom\") && canvas.addChildContainer(\"crosslineBottom\", _createGroup(\"crosslineBottom\", parentGroup, canvas)).insertBefore(chartChildContainer.plotGroup);\n    !canvas.getChildContainer(\"crosslineTop\") && canvas.addChildContainer(\"crosslineTop\", _createGroup(\"crosslineTop\", parentGroup, canvas)).insertBefore(chartChildContainer.abovePlotGroup);\n    !canvas.getChildContainer(\"datalabelsGroup\") && canvas.addChildContainer(\"datalabelsGroup\", _createGroup(\"canvasdatalabel\", chart.getChildContainer(\"datalabelsGroup\"), canvas));\n\n    if (!middleContainer) {\n      middleContainer = canvas.addChildContainer(\"axisReferenceVisualsMiddle\", _createGroup(\"axisReferenceVisualsMiddle\", parentGroup, canvas)).insertBefore(chartChildContainer.plotGroup);\n    }\n\n    middleContainer.attr({\n      \"clip-rect\": clipPath\n    });\n\n    if (!topContainer) {\n      topContainer = canvas.addChildContainer(\"axisReferenceVisualsTop\", _createGroup(\"axisReferenceVisualsTop\", parentGroup, canvas)).insertBefore(chartChildContainer.datalabelsGroup);\n    }\n\n    !canvas.getChildContainer(\"quadrantGroup\") && canvas.addChildContainer(\"quadrantGroup\", _createGroup(\"quadrant\", parentGroup, canvas)).insertAfter(middleContainer);\n\n    if (!ceilContainer) {\n      canvas.addChildContainer(\"axisReferenceVisualsCeil\", _createGroup(\"axisReferenceVisualsCeil\", parentGroup, canvas)).insertBefore(chartChildContainer.datalabelsGroup);\n    }\n\n    !canvas.getChildContainer(\"sumLabelsLayer\") && canvas.addChildContainer(\"sumLabelsLayer\", chartChildContainer.sumLabelsLayer);\n\n    if (!columnShadowContainer) {\n      columnShadowContainer = canvas.addChildContainer(\"columnShadowGroup\", _createGroup(\"column-shadow-group\", plotGroup, canvas));\n    }\n\n    if (!columnContainer) {\n      columnContainer = canvas.addChildContainer(\"columnGroup\", _createGroup(\"column\", plotGroup, canvas));\n    }\n\n    if (!areaShadowContainer) {\n      areaShadowContainer = canvas.addChildContainer(\"areaShadowGroup\", _createGroup(\"area-shadow-group\", plotGroup, canvas));\n    }\n\n    if (!areaContainer) {\n      areaContainer = canvas.addChildContainer(\"areaGroup\", _createGroup(\"area\", plotGroup, canvas));\n    }\n\n    if (!isAreaOverColumns) {\n      areaShadowContainer.insertBefore(columnShadowContainer);\n      areaContainer.insertBefore(columnShadowContainer);\n    } else {\n      columnShadowContainer.insertBefore(areaShadowContainer);\n      columnContainer.insertBefore(areaShadowContainer);\n    }\n\n    !canvas.getChildContainer(\"lineShadowGroup\") && canvas.addChildContainer(\"lineShadowGroup\", _createGroup(\"line-shadow-group\", plotGroup, canvas));\n    !canvas.getChildContainer(\"lineGroup\") && canvas.addChildContainer(\"lineGroup\", _createGroup(\"line\", plotGroup, canvas));\n    !canvas.getChildContainer(\"defaultShadowGroup\") && canvas.addChildContainer(\"defaultShadowGroup\", _createGroup(\"default-shadow-group\", plotGroup, canvas));\n    !canvas.getChildContainer(\"defaultGroup\") && canvas.addChildContainer(\"defaultGroup\", _createGroup(\"default\", plotGroup, canvas));\n  };\n\n  _proto.isWithinCanvas = function isWithinCanvas(x, y) {\n    var canvas = this,\n        conf = canvas.config,\n        left = conf.canvasLeft,\n        right = left + conf.canvasWidth,\n        top = conf.canvasTop,\n        bottom = top + conf.canvasHeight;\n    return x >= left && x <= right && y >= top && y <= bottom;\n  };\n\n  _proto.setCanvasPadding = function setCanvasPadding() {\n    var iapi = this,\n        canvasConfig = iapi.config,\n        dimensions;\n    dimensions = iapi.getCanvasPadding();\n    canvasConfig.canvasPaddingLeft = mathMax(canvasConfig.canvasPaddingLeft, dimensions.paddingLeft || 0);\n    canvasConfig.canvasPaddingRight = mathMax(canvasConfig.canvasPaddingRight, dimensions.paddingRight || 0);\n    canvasConfig.canvasPaddingTop = mathMax(canvasConfig.canvasPaddingTop, dimensions.paddingTop || 0);\n    canvasConfig.canvasPaddingBottom = mathMax(canvasConfig.canvasPaddingBottom, dimensions.paddingBottom || 0);\n  };\n\n  _proto.getEffectiveDimensions = function getEffectiveDimensions() {\n    var canvas = this,\n        config = canvas.config,\n        left = config.canvasLeft,\n        top = config.canvasTop,\n        width = config.canvasWidth,\n        height = config.canvasHeight,\n        paddingLeft = config.canvasPaddingLeft,\n        paddingTop = config.canvasPaddingTop,\n        paddingRight = config.canvasPaddingRight,\n        paddingBottom = config.canvasPaddingBottom;\n    return {\n      left: left,\n      top: top,\n      width: width,\n      height: height,\n      paddingLeft: paddingLeft,\n      paddingTop: paddingTop,\n      paddingRight: paddingRight,\n      paddingBottom: paddingBottom\n    };\n  };\n\n  _proto.setDimension = function setDimension(dim) {\n    var canvas = this,\n        config = canvas.config;\n    config.canvasTop = dim.top;\n    config.canvasLeft = dim.left;\n    config.canvasWidth = dim.width;\n    config.canvasHeight = dim.height;\n  };\n\n  _proto.getCanvasPadding = function getCanvasPadding() {\n    var iapi = this,\n        dim,\n        key,\n        chartConfig = iapi.getFromEnv(\"chartConfig\"),\n        canvasWidth = chartConfig.canvasWidth,\n        canvasConfig = iapi.config,\n        paddingLeft,\n        paddingRight,\n        spaceLimit = canvasConfig.maxPaddingPercent * canvasWidth / 100,\n        returnDimension = {\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 0\n    };\n\n    iapi._mapChildren(function (child) {\n      dim = child.getCanvasPadding && child.getCanvasPadding() || {};\n\n      for (key in dim) {\n        if (dim.hasOwnProperty(key)) {\n          returnDimension[key] = mathMax(dim[key], returnDimension[key]);\n        }\n      }\n    });\n\n    paddingLeft = returnDimension.paddingLeft || 0;\n    paddingRight = returnDimension.paddingRight || 0;\n\n    if (spaceLimit < paddingLeft) {\n      returnDimension.paddingLeft = spaceLimit;\n    }\n\n    if (spaceLimit < paddingRight) {\n      returnDimension.paddingRight = spaceLimit;\n    }\n\n    return returnDimension;\n  };\n\n  _proto.configureAttributes = function configureAttributes(overrideConfig) {\n    if (overrideConfig === void 0) {\n      overrideConfig = {};\n    }\n\n    var canvas = this,\n        chart = canvas.getLinkedParent(),\n        chartConfig = canvas.getFromEnv(\"chartConfig\"),\n        canvasBorderThickness,\n        canBGAlpha,\n        showCanvasBorder,\n        shadow,\n        canvasConfig = canvas.config,\n        chartAttrs = canvas.getFromEnv(\"chart-attrib\"),\n        colorM = canvas.getFromEnv(\"color-manager\"),\n        is3D = chartConfig.is3D,\n        oriCanvasBorderThickness,\n        palleteString = is3D ? _lib.chartPaletteStr.chart3D : _lib.chartPaletteStr.chart2D,\n        isRoundEdges = canvasConfig.isRoundEdges = (0, _lib.pluckNumber)(chartAttrs.useroundedges, 0),\n        showAxisLine = (0, _lib.pluckNumber)(chartAttrs.showxaxisline, chartAttrs.showyaxisline, chartAttrs.showaxislines, 0),\n        hideAxisLine = showAxisLine ? 0 : 1;\n    canvasConfig.canvasBorderRadius = (0, _lib.pluckNumber)(chartAttrs.plotborderradius, isRoundEdges ? 2 : 0);\n    showCanvasBorder = canvasConfig.showCanvasBorder = Boolean((0, _lib.pluckNumber)(chartAttrs.showcanvasborder, hideAxisLine, canvasBorderThickness, isRoundEdges ? 0 : 1));\n    oriCanvasBorderThickness = canvasConfig.oriCanvasBorderThickness = mathMax((0, _lib.pluckNumber)(chartAttrs.canvasborderthickness, isRoundEdges ? 0 : (0, _lib.pluckNumber)(chart.config.canvasborderthickness, 2), 0));\n    canvasBorderThickness = canvasConfig.canvasBorderWidth = is3D ? 0 : showCanvasBorder ? oriCanvasBorderThickness : 0;\n    canvasConfig.canvasBorderColor = (0, _lib.convertColor)((0, _lib.pluck)(chartAttrs.canvasbordercolor, colorM.getColor(_lib.canvasBorderColorStr)), (0, _lib.pluck)(chartAttrs.canvasborderalpha, colorM.getColor(\"canvasBorderAlpha\")));\n    canBGAlpha = canvasConfig.canBGAlpha = (0, _lib.pluck)(chartAttrs.canvasbgalpha, colorM.getColor(_lib.canvasBGAlphaStr));\n    canvasConfig.canBGColor = {\n      FCcolor: {\n        color: (0, _lib.pluck)(chartAttrs.canvasbgcolor, colorM.getColor(palleteString.canvasBgColor)),\n        alpha: (0, _lib.pluck)(chartAttrs.canvasbgalpha, 100),\n        angle: (0, _lib.pluck)(chartAttrs.canvasbgangle, 0),\n        ratio: (0, _lib.pluck)(chartAttrs.canvasbgratio)\n      }\n    };\n    shadow = canvasConfig.shadow = (0, _lib.pluckNumber)(chartAttrs.showshadow, isRoundEdges, 0) && isRoundEdges ? {\n      enabled: true,\n      opacity: canBGAlpha / 100\n    } : 0;\n    canvasConfig.shadowOnCanvasFill = shadow && shadow.enabled;\n    canvasConfig.canvasPadding = (0, _lib.pluckNumber)(chartAttrs.canvaspadding, 0);\n    canvasConfig.origCanvasTopPad = (0, _lib.pluckNumber)(chartAttrs.canvastoppadding, 0);\n    canvasConfig.origCanvasBottomPad = (0, _lib.pluckNumber)(chartAttrs.canvasbottompadding, 0);\n    canvasConfig.origCanvasLeftPad = (0, _lib.pluckNumber)(chartAttrs.canvasleftpadding, 0);\n    canvasConfig.origCanvasRightPad = (0, _lib.pluckNumber)(chartAttrs.canvasrightpadding, 0);\n    Object.assign(canvasConfig, overrideConfig);\n    canvas.config.inputComponents = [];\n    canvas.config.maxPaddingPercent = 12.5;\n\n    canvas._mapChildren(function (child) {\n      if (child.getState(\"removed\") || child.getType && child.getType() === \"dataset\" || child.getType() === \"axisRefVisuals\") {\n        return;\n      }\n\n      child.configure && child.configure();\n    });\n  };\n\n  _proto.disposeAllInputs = function disposeAllInputs() {\n    this.config.inputComponents.forEach(function (input) {\n      input.dispose();\n    });\n    this.config.inputComponents.length = 0;\n  };\n\n  _proto.axisExists = function axisExists(axis) {\n    var axisArr = this.getLinkedItem(\"axes\"),\n        i,\n        ii,\n        status = false;\n\n    for (i = 0, ii = axisArr.length; i < ii; i++) {\n      if (axisArr[i].axis === axis) {\n        status = true;\n        break;\n      }\n    }\n\n    return status;\n  };\n\n  _proto.attachAxis = function attachAxis(axis, isY, config) {\n    var axisArr = this.getLinkedItem(\"axes\"),\n        axisType = isY ? \"yAxis\" : \"xAxis\",\n        axes = this.getFromEnv(axisType) || [];\n\n    if (!this.axisExists(axis)) {\n      axisArr.push({\n        axis: axis,\n        isY: isY,\n        config: config || {}\n      });\n      axes.push(axis);\n      this.addToEnv(axisType, axes);\n    }\n\n    return this;\n  };\n\n  _proto.setPrimaryAxis = function setPrimaryAxis(type, axis) {\n    var primaryAxis = this.getLinkedItem(\"primaryAxis\");\n    primaryAxis[type] = this.getLinkedItem(\"axes\").find(function (obj) {\n      return obj.axis === axis;\n    });\n  };\n\n  _proto.getAxes = function getAxes() {\n    var primaryAxis;\n\n    if (Object.keys(primaryAxis = this.getLinkedItem(\"primaryAxis\")).length) {\n      return [primaryAxis.xAxis, primaryAxis.yAxis];\n    }\n\n    return this.getLinkedItem(\"axes\").slice(0);\n  };\n\n  _proto.detachAxis = function detachAxis(axis, _index) {\n    var axisArr = this.getLinkedItem(\"axes\"),\n        index = Infinity;\n\n    if (_index) {\n      return axisArr.splice(_index, 1);\n    }\n\n    axisArr.forEach(function (axisOb, i) {\n      if (axisOb.axis === axis) {\n        index = i;\n      }\n    });\n    return axisArr.splice(index, 1);\n  };\n\n  _proto.preDraw = function preDraw() {\n    this._mapChildren(function (child) {\n      if (!child.getState(\"removed\")) {\n        child.preDraw && child.preDraw();\n      }\n    });\n  };\n\n  _proto.draw = function draw() {\n    this.createGroup();\n    !this.getFromEnv(\"chart\").config.skipCanvasDrawing && this.drawCanvas();\n  };\n\n  _proto.drawCanvas = function drawCanvas() {\n    var canvas = this,\n        chart = canvas.getFromEnv(\"chart\"),\n        isBar = chart.isBar,\n        chartAttrs = canvas.getFromEnv(\"chart-attrib\"),\n        animationManager = canvas.getFromEnv(\"animationManager\"),\n        chartConfig = chart.config,\n        config = canvas.config,\n        clip = config.clip = {},\n        clipCanvas,\n        dsGroup = chart.getChildContainer(\"plotGroup\"),\n        dataLabelsLayer = chart.getChildContainer(\"datalabelsGroup\"),\n        canvasBorderElementCheck = canvas.getGraphicalElement(\"canvasBorderElement\"),\n        canvasBorderElement,\n        canvasElementCheck = canvas.getGraphicalElement(\"canvasElement\"),\n        canvasElement,\n        canvasLeft = config.canvasLeft || (config.canvasLeft = chartConfig.canvasLeft),\n        canvasTop = config.canvasTop || (config.canvasTop = chartConfig.canvasTop),\n        canvasWidth = config.canvasWidth || (config.canvasWidth = chartConfig.canvasWidth),\n        canvasHeight = config.canvasHeight || (config.canvasHeight = chartConfig.canvasHeight),\n        xDepth = config.xDepth = chartConfig.xDepth || 0,\n        yDepth = config.yDepth = chartConfig.yDepth || 0,\n        canvasGroup = canvas.getContainer(\"canvasGroup\"),\n        quadrantGroup = canvas.getChildContainer(\"quadrantGroup\"),\n        canvasBorderRadius = config.canvasBorderRadius,\n        canvasBorderWidth = config.canvasBorderWidth,\n        borderWHlf = canvasBorderWidth * .5,\n        canvasBorderColor = config.canvasBorderColor,\n        canBGColor = config.canBGColor,\n        canBGAlpha = config.canBGAlpha,\n        shadow = config.shadow,\n        canvasBgColor,\n        attr,\n        showCanvasBg = config.showCanvasBG = Boolean((0, _lib.pluckNumber)(chartAttrs.showcanvasbg, 1)),\n        shadowOnCanvasFill = config.shadowOnCanvasFill,\n        showCanvasBorder = config.showCanvasBorder,\n        gutter,\n        clipAniamtionFn;\n    canvasBgColor = canBGColor;\n    attr = {\n      x: canvasLeft - borderWHlf,\n      y: canvasTop - borderWHlf,\n      width: canvasWidth + canvasBorderWidth,\n      height: canvasHeight + canvasBorderWidth,\n      r: canvasBorderRadius,\n      \"stroke-width\": canvasBorderWidth,\n      stroke: canvasBorderColor,\n      \"stroke-linejoin\": canvasBorderWidth > MAX_MITER_LINEJOIN ? ROUND : miterStr\n    };\n\n    if (showCanvasBorder) {\n      canvasBorderElementCheck && canvasBorderElementCheck.show();\n      canvasBorderElement = animationManager.setAnimation({\n        el: canvasBorderElementCheck || \"rect\",\n        component: canvas,\n        attr: {\n          x: canvasLeft - borderWHlf,\n          y: canvasTop - borderWHlf,\n          width: canvasWidth + canvasBorderWidth,\n          height: canvasHeight + canvasBorderWidth,\n          r: canvasBorderRadius,\n          \"stroke-width\": canvasBorderWidth,\n          stroke: canvasBorderColor,\n          \"stroke-linejoin\": canvasBorderWidth > MAX_MITER_LINEJOIN ? ROUND : miterStr\n        },\n        label: \"rect\",\n        container: canvasGroup\n      }).shadow(shadow);\n\n      if (!canvasBorderElementCheck) {\n        canvas.addGraphicalElement(\"canvasBorderElement\", canvasBorderElement);\n      }\n    } else if (canvasBorderElementCheck) {\n      canvas.removeGraphicalElement(canvasBorderElementCheck);\n      animationManager.setAnimation({\n        el: canvasBorderElementCheck,\n        component: canvas,\n        callback: function callback() {\n          canvasBorderElementCheck.hide();\n        }\n      });\n    }\n\n    gutter = showCanvasBorder ? 0 : config.oriCanvasBorderThickness;\n    clip[clipCanvasStr] = [mathMax(0, canvasLeft - xDepth - gutter), mathMax(0, canvasTop - yDepth - gutter), mathMax(1, canvasWidth + xDepth * 2 + 2 * gutter), mathMax(1, canvasHeight + yDepth + 2 * gutter)];\n    clip[clipSumValue] = [mathMax(0, canvasLeft - xDepth), isBar ? canvasTop : 0, mathMax(1, isBar ? chartConfig.width - canvasLeft : canvasWidth + xDepth * 2), mathMax(1, isBar ? canvasHeight + yDepth : canvasTop + canvasHeight)];\n    clip[clipCanvasInitStr] = [mathMax(0, canvasLeft - xDepth), mathMax(0, canvasTop - yDepth), 1, mathMax(1, canvasHeight + yDepth * 2)];\n    clipCanvas = clip[clipCanvasStr].slice(0);\n\n    clipAniamtionFn = function clipAniamtionFn(el, clipping) {\n      animationManager.setAnimation({\n        el: el,\n        attr: {\n          \"clip-rect\": clipping\n        },\n        label: \"container\",\n        component: canvas,\n        state: el.attrs[\"clip-rect\"] ? \"updating\" : \"appearing\"\n      });\n    };\n\n    if (!chartConfig.skipClipping) {\n      clipAniamtionFn(dsGroup, clipCanvas);\n      clipAniamtionFn(dataLabelsLayer, clipCanvas);\n      clipAniamtionFn(quadrantGroup, clipCanvas);\n      clipAniamtionFn(canvas.getChildContainer(\"sumLabelsLayer\"), clip[clipSumValue]);\n    }\n\n    if (showCanvasBg) {\n      attr = {\n        x: canvasLeft,\n        y: canvasTop,\n        width: canvasWidth,\n        height: canvasHeight,\n        r: canvasBorderRadius,\n        \"stroke-width\": 0,\n        stroke: NONE,\n        fill: (0, _lib.toRaphaelColor)(canvasBgColor)\n      };\n      canvasElementCheck && canvasElementCheck.show();\n      canvasElement = animationManager.setAnimation({\n        el: canvasElementCheck || \"rect\",\n        attr: attr,\n        label: \"rect\",\n        container: canvasGroup,\n        component: canvas\n      });\n\n      if (!canvasElementCheck) {\n        canvas.addGraphicalElement(\"canvasElement\", canvasElement);\n      }\n\n      if (shadowOnCanvasFill) {\n        canvasElement.shadow({\n          opacity: canBGAlpha / 100\n        });\n      } else {\n        canvasElement.shadow(false);\n      }\n    } else {\n      canvasElementCheck && animationManager.setAnimation({\n        el: canvasElementCheck,\n        component: canvas,\n        callback: function callback() {\n          canvasElementCheck.hide();\n        }\n      });\n    }\n  };\n\n  return Canvas;\n}(_componentInterface.ComponentInterface);\n\nvar _default = Canvas;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/charts/src/_internal/components/canvases/canvas.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_assertThisInitialized2","_inheritsLoose2","_componentInterface","_lib","_dependencyManager","_canvas","mathMax","Math","max","MAX_MITER_LINEJOIN","miterStr","preDefStr","NONE","noneStr","ROUND","clipSumValue","clipCanvasInitStr","clipCanvasStr","_createGroup","createGroup","groupName","parentContainer","canvas","animationManager","getFromEnv","setAnimation","el","attr","name","container","component","label","addDep","type","extension","Canvas","_ComponentInterface","_this","call","config","axes","setLinkedItem","addToEnv","_proto","prototype","getName","getType","canvasConfig","chart","chartChildContainer","getChildContainer","parentGroup","getContainer","canvasDimensions","getEffectiveDimensions","chartAttr","isAreaOverColumns","pluckNumber","areaovercolumns","floorContainer","bottomContainer","middleContainer","topContainer","ceilContainer","areaContainer","areaShadowContainer","columnContainer","columnShadowContainer","plotGroup","clipPath","left","top","width","height","toString","addContainer","insertAfter","backgroundGroup","addChildContainer","axisBottomGroup","canvasBorderWidth","insertBefore","abovePlotGroup","datalabelsGroup","sumLabelsLayer","isWithinCanvas","x","y","conf","canvasLeft","right","canvasWidth","canvasTop","bottom","canvasHeight","setCanvasPadding","iapi","dimensions","getCanvasPadding","canvasPaddingLeft","paddingLeft","canvasPaddingRight","paddingRight","canvasPaddingTop","paddingTop","canvasPaddingBottom","paddingBottom","setDimension","dim","key","chartConfig","spaceLimit","maxPaddingPercent","returnDimension","_mapChildren","child","hasOwnProperty","configureAttributes","overrideConfig","getLinkedParent","canvasBorderThickness","canBGAlpha","showCanvasBorder","shadow","chartAttrs","colorM","is3D","oriCanvasBorderThickness","palleteString","chartPaletteStr","chart3D","chart2D","isRoundEdges","useroundedges","showAxisLine","showxaxisline","showyaxisline","showaxislines","hideAxisLine","canvasBorderRadius","plotborderradius","Boolean","showcanvasborder","canvasborderthickness","canvasBorderColor","convertColor","pluck","canvasbordercolor","getColor","canvasBorderColorStr","canvasborderalpha","canvasbgalpha","canvasBGAlphaStr","canBGColor","FCcolor","color","canvasbgcolor","canvasBgColor","alpha","angle","canvasbgangle","ratio","canvasbgratio","showshadow","enabled","opacity","shadowOnCanvasFill","canvasPadding","canvaspadding","origCanvasTopPad","canvastoppadding","origCanvasBottomPad","canvasbottompadding","origCanvasLeftPad","canvasleftpadding","origCanvasRightPad","canvasrightpadding","Object","assign","inputComponents","getState","configure","disposeAllInputs","forEach","input","dispose","length","axisExists","axis","axisArr","getLinkedItem","i","ii","status","attachAxis","isY","axisType","push","setPrimaryAxis","primaryAxis","find","obj","getAxes","keys","xAxis","yAxis","slice","detachAxis","_index","index","Infinity","splice","axisOb","preDraw","draw","skipCanvasDrawing","drawCanvas","isBar","clip","clipCanvas","dsGroup","dataLabelsLayer","canvasBorderElementCheck","getGraphicalElement","canvasBorderElement","canvasElementCheck","canvasElement","xDepth","yDepth","canvasGroup","quadrantGroup","borderWHlf","showCanvasBg","showCanvasBG","showcanvasbg","gutter","clipAniamtionFn","r","stroke","show","addGraphicalElement","removeGraphicalElement","callback","hide","clipping","state","attrs","skipClipping","fill","toRaphaelColor","ComponentInterface","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _lib=require(\"@fusioncharts/core/src/lib\");var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _canvas=_interopRequireDefault(require(\"./canvas.animation\"));var mathMax=Math.max,MAX_MITER_LINEJOIN=2,miterStr=_lib.preDefStr.miterStr,NONE=_lib.preDefStr.noneStr,ROUND=_lib.preDefStr.ROUND,clipSumValue=\"clip-sum-value\",clipCanvasInitStr=\"clip-canvas-init\",clipCanvasStr=\"clip-canvas\",_createGroup=function createGroup(groupName,parentContainer,canvas){var animationManager=canvas.getFromEnv(\"animationManager\");return animationManager.setAnimation({el:\"group\",attr:{name:groupName},container:parentContainer,component:canvas,label:\"group\"})};(0,_dependencyManager.addDep)({name:\"canvasAnimation\",type:\"animationRule\",extension:_canvas.default});var Canvas=function(_ComponentInterface){(0,_inheritsLoose2.default)(Canvas,_ComponentInterface);function Canvas(){var _this;_this=_ComponentInterface.call(this)||this;var canvas=(0,_assertThisInitialized2.default)(_this);canvas.config={};canvas.config.axes=canvas.config.axes||[];canvas.setLinkedItem(\"axes\",[]);canvas.setLinkedItem(\"primaryAxis\",{});canvas.addToEnv(\"canvasConfig\",_this.config);return _this}var _proto=Canvas.prototype;_proto.getName=function getName(){return\"canvas\"};_proto.getType=function getType(){return\"canvas\"};_proto.createGroup=function createGroup(){var canvas=this,canvasConfig=canvas.config,chart=canvas.getFromEnv(\"chart\"),chartChildContainer=chart.getChildContainer(),parentGroup=chart.getContainer(\"parentgroup\"),canvasDimensions=canvas.getEffectiveDimensions(),chartAttr=canvas.getFromEnv(\"chart-attrib\"),isAreaOverColumns=(0,_lib.pluckNumber)(chartAttr.areaovercolumns,1),floorContainer=canvas.getChildContainer(\"axisReferenceVisualsFloor\"),bottomContainer=canvas.getChildContainer(\"axisReferenceVisualsBottom\"),middleContainer=canvas.getChildContainer(\"axisReferenceVisualsMiddle\"),topContainer=canvas.getChildContainer(\"axisReferenceVisualsTop\"),ceilContainer=canvas.getChildContainer(\"axisReferenceVisualsCeil\"),areaContainer=canvas.getChildContainer(\"areaGroup\"),areaShadowContainer=canvas.getChildContainer(\"areaShadowGroup\"),columnContainer=canvas.getChildContainer(\"columnGroup\"),columnShadowContainer=canvas.getChildContainer(\"columnShadowGroup\"),plotGroup=chartChildContainer.plotGroup,clipPath=[canvasDimensions.left,canvasDimensions.top,canvasDimensions.width,canvasDimensions.height].toString();!canvas.getContainer(\"canvasGroup\")&&canvas.addContainer(\"canvasGroup\",_createGroup(\"canvas\",parentGroup,canvas)).insertAfter(chartChildContainer.backgroundGroup);if(!bottomContainer){bottomContainer=canvas.addChildContainer(\"axisReferenceVisualsBottom\",_createGroup(\"axisReferenceVisualsBottom\",parentGroup,canvas)).insertAfter(chartChildContainer.axisBottomGroup)}bottomContainer.attr({\"clip-rect\":canvasConfig.canvasBorderWidth>0?clipPath:null});if(!floorContainer){floorContainer=canvas.addChildContainer(\"axisReferenceVisualsFloor\",_createGroup(\"axisReferenceVisualsFloor\",parentGroup,canvas)).insertAfter(chartChildContainer.axisBottomGroup)}floorContainer.attr({\"clip-rect\":clipPath});!canvas.getChildContainer(\"crossline\")&&canvas.addChildContainer(\"crossline\",_createGroup(\"crossline\",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup);!canvas.getChildContainer(\"crosslineBottom\")&&canvas.addChildContainer(\"crosslineBottom\",_createGroup(\"crosslineBottom\",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup);!canvas.getChildContainer(\"crosslineTop\")&&canvas.addChildContainer(\"crosslineTop\",_createGroup(\"crosslineTop\",parentGroup,canvas)).insertBefore(chartChildContainer.abovePlotGroup);!canvas.getChildContainer(\"datalabelsGroup\")&&canvas.addChildContainer(\"datalabelsGroup\",_createGroup(\"canvasdatalabel\",chart.getChildContainer(\"datalabelsGroup\"),canvas));if(!middleContainer){middleContainer=canvas.addChildContainer(\"axisReferenceVisualsMiddle\",_createGroup(\"axisReferenceVisualsMiddle\",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup)}middleContainer.attr({\"clip-rect\":clipPath});if(!topContainer){topContainer=canvas.addChildContainer(\"axisReferenceVisualsTop\",_createGroup(\"axisReferenceVisualsTop\",parentGroup,canvas)).insertBefore(chartChildContainer.datalabelsGroup)}!canvas.getChildContainer(\"quadrantGroup\")&&canvas.addChildContainer(\"quadrantGroup\",_createGroup(\"quadrant\",parentGroup,canvas)).insertAfter(middleContainer);if(!ceilContainer){canvas.addChildContainer(\"axisReferenceVisualsCeil\",_createGroup(\"axisReferenceVisualsCeil\",parentGroup,canvas)).insertBefore(chartChildContainer.datalabelsGroup)}!canvas.getChildContainer(\"sumLabelsLayer\")&&canvas.addChildContainer(\"sumLabelsLayer\",chartChildContainer.sumLabelsLayer);if(!columnShadowContainer){columnShadowContainer=canvas.addChildContainer(\"columnShadowGroup\",_createGroup(\"column-shadow-group\",plotGroup,canvas))}if(!columnContainer){columnContainer=canvas.addChildContainer(\"columnGroup\",_createGroup(\"column\",plotGroup,canvas))}if(!areaShadowContainer){areaShadowContainer=canvas.addChildContainer(\"areaShadowGroup\",_createGroup(\"area-shadow-group\",plotGroup,canvas))}if(!areaContainer){areaContainer=canvas.addChildContainer(\"areaGroup\",_createGroup(\"area\",plotGroup,canvas))}if(!isAreaOverColumns){areaShadowContainer.insertBefore(columnShadowContainer);areaContainer.insertBefore(columnShadowContainer)}else{columnShadowContainer.insertBefore(areaShadowContainer);columnContainer.insertBefore(areaShadowContainer)}!canvas.getChildContainer(\"lineShadowGroup\")&&canvas.addChildContainer(\"lineShadowGroup\",_createGroup(\"line-shadow-group\",plotGroup,canvas));!canvas.getChildContainer(\"lineGroup\")&&canvas.addChildContainer(\"lineGroup\",_createGroup(\"line\",plotGroup,canvas));!canvas.getChildContainer(\"defaultShadowGroup\")&&canvas.addChildContainer(\"defaultShadowGroup\",_createGroup(\"default-shadow-group\",plotGroup,canvas));!canvas.getChildContainer(\"defaultGroup\")&&canvas.addChildContainer(\"defaultGroup\",_createGroup(\"default\",plotGroup,canvas))};_proto.isWithinCanvas=function isWithinCanvas(x,y){var canvas=this,conf=canvas.config,left=conf.canvasLeft,right=left+conf.canvasWidth,top=conf.canvasTop,bottom=top+conf.canvasHeight;return x>=left&&x<=right&&y>=top&&y<=bottom};_proto.setCanvasPadding=function setCanvasPadding(){var iapi=this,canvasConfig=iapi.config,dimensions;dimensions=iapi.getCanvasPadding();canvasConfig.canvasPaddingLeft=mathMax(canvasConfig.canvasPaddingLeft,dimensions.paddingLeft||0);canvasConfig.canvasPaddingRight=mathMax(canvasConfig.canvasPaddingRight,dimensions.paddingRight||0);canvasConfig.canvasPaddingTop=mathMax(canvasConfig.canvasPaddingTop,dimensions.paddingTop||0);canvasConfig.canvasPaddingBottom=mathMax(canvasConfig.canvasPaddingBottom,dimensions.paddingBottom||0)};_proto.getEffectiveDimensions=function getEffectiveDimensions(){var canvas=this,config=canvas.config,left=config.canvasLeft,top=config.canvasTop,width=config.canvasWidth,height=config.canvasHeight,paddingLeft=config.canvasPaddingLeft,paddingTop=config.canvasPaddingTop,paddingRight=config.canvasPaddingRight,paddingBottom=config.canvasPaddingBottom;return{left:left,top:top,width:width,height:height,paddingLeft:paddingLeft,paddingTop:paddingTop,paddingRight:paddingRight,paddingBottom:paddingBottom}};_proto.setDimension=function setDimension(dim){var canvas=this,config=canvas.config;config.canvasTop=dim.top;config.canvasLeft=dim.left;config.canvasWidth=dim.width;config.canvasHeight=dim.height};_proto.getCanvasPadding=function getCanvasPadding(){var iapi=this,dim,key,chartConfig=iapi.getFromEnv(\"chartConfig\"),canvasWidth=chartConfig.canvasWidth,canvasConfig=iapi.config,paddingLeft,paddingRight,spaceLimit=canvasConfig.maxPaddingPercent*canvasWidth/100,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};iapi._mapChildren((function(child){dim=child.getCanvasPadding&&child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=mathMax(dim[key],returnDimension[key])}}}));paddingLeft=returnDimension.paddingLeft||0;paddingRight=returnDimension.paddingRight||0;if(spaceLimit<paddingLeft){returnDimension.paddingLeft=spaceLimit}if(spaceLimit<paddingRight){returnDimension.paddingRight=spaceLimit}return returnDimension};_proto.configureAttributes=function configureAttributes(overrideConfig){if(overrideConfig===void 0){overrideConfig={}}var canvas=this,chart=canvas.getLinkedParent(),chartConfig=canvas.getFromEnv(\"chartConfig\"),canvasBorderThickness,canBGAlpha,showCanvasBorder,shadow,canvasConfig=canvas.config,chartAttrs=canvas.getFromEnv(\"chart-attrib\"),colorM=canvas.getFromEnv(\"color-manager\"),is3D=chartConfig.is3D,oriCanvasBorderThickness,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,isRoundEdges=canvasConfig.isRoundEdges=(0,_lib.pluckNumber)(chartAttrs.useroundedges,0),showAxisLine=(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showyaxisline,chartAttrs.showaxislines,0),hideAxisLine=showAxisLine?0:1;canvasConfig.canvasBorderRadius=(0,_lib.pluckNumber)(chartAttrs.plotborderradius,isRoundEdges?2:0);showCanvasBorder=canvasConfig.showCanvasBorder=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasborder,hideAxisLine,canvasBorderThickness,isRoundEdges?0:1));oriCanvasBorderThickness=canvasConfig.oriCanvasBorderThickness=mathMax((0,_lib.pluckNumber)(chartAttrs.canvasborderthickness,isRoundEdges?0:(0,_lib.pluckNumber)(chart.config.canvasborderthickness,2),0));canvasBorderThickness=canvasConfig.canvasBorderWidth=is3D?0:showCanvasBorder?oriCanvasBorderThickness:0;canvasConfig.canvasBorderColor=(0,_lib.convertColor)((0,_lib.pluck)(chartAttrs.canvasbordercolor,colorM.getColor(_lib.canvasBorderColorStr)),(0,_lib.pluck)(chartAttrs.canvasborderalpha,colorM.getColor(\"canvasBorderAlpha\")));canBGAlpha=canvasConfig.canBGAlpha=(0,_lib.pluck)(chartAttrs.canvasbgalpha,colorM.getColor(_lib.canvasBGAlphaStr));canvasConfig.canBGColor={FCcolor:{color:(0,_lib.pluck)(chartAttrs.canvasbgcolor,colorM.getColor(palleteString.canvasBgColor)),alpha:(0,_lib.pluck)(chartAttrs.canvasbgalpha,100),angle:(0,_lib.pluck)(chartAttrs.canvasbgangle,0),ratio:(0,_lib.pluck)(chartAttrs.canvasbgratio)}};shadow=canvasConfig.shadow=(0,_lib.pluckNumber)(chartAttrs.showshadow,isRoundEdges,0)&&isRoundEdges?{enabled:true,opacity:canBGAlpha/100}:0;canvasConfig.shadowOnCanvasFill=shadow&&shadow.enabled;canvasConfig.canvasPadding=(0,_lib.pluckNumber)(chartAttrs.canvaspadding,0);canvasConfig.origCanvasTopPad=(0,_lib.pluckNumber)(chartAttrs.canvastoppadding,0);canvasConfig.origCanvasBottomPad=(0,_lib.pluckNumber)(chartAttrs.canvasbottompadding,0);canvasConfig.origCanvasLeftPad=(0,_lib.pluckNumber)(chartAttrs.canvasleftpadding,0);canvasConfig.origCanvasRightPad=(0,_lib.pluckNumber)(chartAttrs.canvasrightpadding,0);Object.assign(canvasConfig,overrideConfig);canvas.config.inputComponents=[];canvas.config.maxPaddingPercent=12.5;canvas._mapChildren((function(child){if(child.getState(\"removed\")||child.getType&&child.getType()===\"dataset\"||child.getType()===\"axisRefVisuals\"){return}child.configure&&child.configure()}))};_proto.disposeAllInputs=function disposeAllInputs(){this.config.inputComponents.forEach((function(input){input.dispose()}));this.config.inputComponents.length=0};_proto.axisExists=function axisExists(axis){var axisArr=this.getLinkedItem(\"axes\"),i,ii,status=false;for(i=0,ii=axisArr.length;i<ii;i++){if(axisArr[i].axis===axis){status=true;break}}return status};_proto.attachAxis=function attachAxis(axis,isY,config){var axisArr=this.getLinkedItem(\"axes\"),axisType=isY?\"yAxis\":\"xAxis\",axes=this.getFromEnv(axisType)||[];if(!this.axisExists(axis)){axisArr.push({axis:axis,isY:isY,config:config||{}});axes.push(axis);this.addToEnv(axisType,axes)}return this};_proto.setPrimaryAxis=function setPrimaryAxis(type,axis){var primaryAxis=this.getLinkedItem(\"primaryAxis\");primaryAxis[type]=this.getLinkedItem(\"axes\").find((function(obj){return obj.axis===axis}))};_proto.getAxes=function getAxes(){var primaryAxis;if(Object.keys(primaryAxis=this.getLinkedItem(\"primaryAxis\")).length){return[primaryAxis.xAxis,primaryAxis.yAxis]}return this.getLinkedItem(\"axes\").slice(0)};_proto.detachAxis=function detachAxis(axis,_index){var axisArr=this.getLinkedItem(\"axes\"),index=Infinity;if(_index){return axisArr.splice(_index,1)}axisArr.forEach((function(axisOb,i){if(axisOb.axis===axis){index=i}}));return axisArr.splice(index,1)};_proto.preDraw=function preDraw(){this._mapChildren((function(child){if(!child.getState(\"removed\")){child.preDraw&&child.preDraw()}}))};_proto.draw=function draw(){this.createGroup();!this.getFromEnv(\"chart\").config.skipCanvasDrawing&&this.drawCanvas()};_proto.drawCanvas=function drawCanvas(){var canvas=this,chart=canvas.getFromEnv(\"chart\"),isBar=chart.isBar,chartAttrs=canvas.getFromEnv(\"chart-attrib\"),animationManager=canvas.getFromEnv(\"animationManager\"),chartConfig=chart.config,config=canvas.config,clip=config.clip={},clipCanvas,dsGroup=chart.getChildContainer(\"plotGroup\"),dataLabelsLayer=chart.getChildContainer(\"datalabelsGroup\"),canvasBorderElementCheck=canvas.getGraphicalElement(\"canvasBorderElement\"),canvasBorderElement,canvasElementCheck=canvas.getGraphicalElement(\"canvasElement\"),canvasElement,canvasLeft=config.canvasLeft||(config.canvasLeft=chartConfig.canvasLeft),canvasTop=config.canvasTop||(config.canvasTop=chartConfig.canvasTop),canvasWidth=config.canvasWidth||(config.canvasWidth=chartConfig.canvasWidth),canvasHeight=config.canvasHeight||(config.canvasHeight=chartConfig.canvasHeight),xDepth=config.xDepth=chartConfig.xDepth||0,yDepth=config.yDepth=chartConfig.yDepth||0,canvasGroup=canvas.getContainer(\"canvasGroup\"),quadrantGroup=canvas.getChildContainer(\"quadrantGroup\"),canvasBorderRadius=config.canvasBorderRadius,canvasBorderWidth=config.canvasBorderWidth,borderWHlf=canvasBorderWidth*.5,canvasBorderColor=config.canvasBorderColor,canBGColor=config.canBGColor,canBGAlpha=config.canBGAlpha,shadow=config.shadow,canvasBgColor,attr,showCanvasBg=config.showCanvasBG=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasbg,1)),shadowOnCanvasFill=config.shadowOnCanvasFill,showCanvasBorder=config.showCanvasBorder,gutter,clipAniamtionFn;canvasBgColor=canBGColor;attr={x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,\"stroke-width\":canvasBorderWidth,stroke:canvasBorderColor,\"stroke-linejoin\":canvasBorderWidth>MAX_MITER_LINEJOIN?ROUND:miterStr};if(showCanvasBorder){canvasBorderElementCheck&&canvasBorderElementCheck.show();canvasBorderElement=animationManager.setAnimation({el:canvasBorderElementCheck||\"rect\",component:canvas,attr:{x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,\"stroke-width\":canvasBorderWidth,stroke:canvasBorderColor,\"stroke-linejoin\":canvasBorderWidth>MAX_MITER_LINEJOIN?ROUND:miterStr},label:\"rect\",container:canvasGroup}).shadow(shadow);if(!canvasBorderElementCheck){canvas.addGraphicalElement(\"canvasBorderElement\",canvasBorderElement)}}else if(canvasBorderElementCheck){canvas.removeGraphicalElement(canvasBorderElementCheck);animationManager.setAnimation({el:canvasBorderElementCheck,component:canvas,callback:function callback(){canvasBorderElementCheck.hide()}})}gutter=showCanvasBorder?0:config.oriCanvasBorderThickness;clip[clipCanvasStr]=[mathMax(0,canvasLeft-xDepth-gutter),mathMax(0,canvasTop-yDepth-gutter),mathMax(1,canvasWidth+xDepth*2+2*gutter),mathMax(1,canvasHeight+yDepth+2*gutter)];clip[clipSumValue]=[mathMax(0,canvasLeft-xDepth),isBar?canvasTop:0,mathMax(1,isBar?chartConfig.width-canvasLeft:canvasWidth+xDepth*2),mathMax(1,isBar?canvasHeight+yDepth:canvasTop+canvasHeight)];clip[clipCanvasInitStr]=[mathMax(0,canvasLeft-xDepth),mathMax(0,canvasTop-yDepth),1,mathMax(1,canvasHeight+yDepth*2)];clipCanvas=clip[clipCanvasStr].slice(0);clipAniamtionFn=function clipAniamtionFn(el,clipping){animationManager.setAnimation({el:el,attr:{\"clip-rect\":clipping},label:\"container\",component:canvas,state:el.attrs[\"clip-rect\"]?\"updating\":\"appearing\"})};if(!chartConfig.skipClipping){clipAniamtionFn(dsGroup,clipCanvas);clipAniamtionFn(dataLabelsLayer,clipCanvas);clipAniamtionFn(quadrantGroup,clipCanvas);clipAniamtionFn(canvas.getChildContainer(\"sumLabelsLayer\"),clip[clipSumValue])}if(showCanvasBg){attr={x:canvasLeft,y:canvasTop,width:canvasWidth,height:canvasHeight,r:canvasBorderRadius,\"stroke-width\":0,stroke:NONE,fill:(0,_lib.toRaphaelColor)(canvasBgColor)};canvasElementCheck&&canvasElementCheck.show();canvasElement=animationManager.setAnimation({el:canvasElementCheck||\"rect\",attr:attr,label:\"rect\",container:canvasGroup,component:canvas});if(!canvasElementCheck){canvas.addGraphicalElement(\"canvasElement\",canvasElement)}if(shadowOnCanvasFill){canvasElement.shadow({opacity:canBGAlpha/100})}else{canvasElement.shadow(false)}}else{canvasElementCheck&&animationManager.setAnimation({el:canvasElementCheck,component:canvas,callback:function callback(){canvasElementCheck.hide()}})}};return Canvas}(_componentInterface.ComponentInterface);var _default=Canvas;exports.default=_default;"]},"metadata":{},"sourceType":"script"}