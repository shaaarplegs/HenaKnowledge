{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\OneDrive\\\\Desktop\\\\14_06_2021\\\\henaknowledge\\\\frontend v3\\\\henaknowledgefrontend\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Welcome = props => {\n  _s();\n\n  const loginState = useSelector(state => state.auth.isLoggedin);\n  const [user, setuser] = useState({});\n  const [isLoading, SetisLoading] = useState(false);\n  let Url;\n\n  if (localStorage.getItem(\"userType\") === \"Teacher\") {\n    Url = `http://localhost:8080/Teacher/getTeacher?username=`;\n  } else if (localStorage.getItem(\"userType\") === \"Student\") {\n    Url = `http://localhost:8080/Student/getStudent?username=`;\n  } else if (localStorage.getItem(\"userType\") === \"Admin\") {\n    Url = `http://localhost:8080/Admin/getAdmin?username=`;\n  }\n\n  useEffect(() => {\n    SetisLoading(true);\n    axios.get(`${Url}${localStorage.getItem(\"username\")}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(res => {\n      SetisLoading(false);\n      setuser(res.data);\n      localStorage.setItem('firstName', res.data.firstName);\n      localStorage.setItem('lastName', res.data.lastName);\n      localStorage.setItem('email', res.data.email);\n      localStorage.setItem('personID', res.data.personID);\n    }).catch(error => {\n      SetisLoading(false);\n      console.log(error.response);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movingtext\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"obtaining data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }, this), \"Welcome \", loginState ? user.firstName + \" \" + user.lastName : \"user\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Welcome, \"HSEe7y3TztsGlcK3aiMNIC+02F4=\", false, function () {\n  return [useSelector];\n});\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/14_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/src/Components/Welcome/Welcome.js"],"names":["React","useState","useEffect","axios","useSelector","Welcome","props","loginState","state","auth","isLoggedin","user","setuser","isLoading","SetisLoading","Url","localStorage","getItem","get","headers","Authorization","then","res","data","setItem","firstName","lastName","email","personID","catch","error","console","log","response"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAO,aAAP;;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAMC,UAAU,GAAGH,WAAW,CAAEI,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWC,UAAvB,CAA9B;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C;AAEA,MAAIc,GAAJ;;AACA,MAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,SAAzC,EAAoD;AAClDF,IAAAA,GAAG,GAAI,oDAAP;AACD,GAFD,MAEO,IAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,SAAzC,EAAoD;AACzDF,IAAAA,GAAG,GAAI,oDAAP;AACD,GAFM,MAEA,IAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,OAAzC,EAAkD;AACvDF,IAAAA,GAAG,GAAI,gDAAP;AACD;;AACDb,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAX,IAAAA,KAAK,CACFe,GADH,CACQ,GAAEH,GAAI,GAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,EADjD,EACoD;AAChDE,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASJ,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA4B;AAD9C;AADuC,KADpD,EAMGI,IANH,CAMSC,GAAD,IAAS;AACbR,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,MAAAA,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP;AACAP,MAAAA,YAAY,CAACQ,OAAb,CAAqB,WAArB,EAAkCF,GAAG,CAACC,IAAJ,CAASE,SAA3C;AACAT,MAAAA,YAAY,CAACQ,OAAb,CAAqB,UAArB,EAAiCF,GAAG,CAACC,IAAJ,CAASG,QAA1C;AACAV,MAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACC,IAAJ,CAASI,KAAvC;AACAX,MAAAA,YAAY,CAACQ,OAAb,CAAqB,UAArB,EAAiCF,GAAG,CAACC,IAAJ,CAASK,QAA1C;AACD,KAbH,EAcGC,KAdH,CAcUC,KAAD,IAAW;AAChBhB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAlB;AACD,KAjBH;AAkBD,GApBQ,EAoBN,EApBM,CAAT;AAsBA,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,eACGpB,SAAS,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADhB,cAEWN,UAAU,GAAGI,IAAI,CAACc,SAAL,GAAiB,GAAjB,GAAuBd,IAAI,CAACe,QAA/B,GAA0C,MAF/D;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA1CD;;GAAMrB,O;UACeD,W;;;KADfC,O;AA4CN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./style.css\";\r\n\r\nconst Welcome = (props) => {\r\n  const loginState = useSelector((state) => state.auth.isLoggedin);\r\n\r\n  const [user, setuser] = useState({});\r\n  const [isLoading, SetisLoading] = useState(false);\r\n\r\n  let Url;\r\n  if (localStorage.getItem(\"userType\") === \"Teacher\") {\r\n    Url = `http://localhost:8080/Teacher/getTeacher?username=`;\r\n  } else if (localStorage.getItem(\"userType\") === \"Student\") {\r\n    Url = `http://localhost:8080/Student/getStudent?username=`;\r\n  } else if (localStorage.getItem(\"userType\") === \"Admin\") {\r\n    Url = `http://localhost:8080/Admin/getAdmin?username=`;\r\n  }\r\n  useEffect(() => {\r\n    SetisLoading(true);\r\n    axios\r\n      .get(`${Url}${localStorage.getItem(\"username\")}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        SetisLoading(false);\r\n        setuser(res.data);\r\n        localStorage.setItem('firstName', res.data.firstName)\r\n        localStorage.setItem('lastName', res.data.lastName)\r\n        localStorage.setItem('email', res.data.email)\r\n        localStorage.setItem('personID', res.data.personID)\r\n      })\r\n      .catch((error) => {\r\n        SetisLoading(false);\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"movingtext\">\r\n      {isLoading && <p>obtaining data...</p>}\r\n      Welcome {loginState ? user.firstName + \" \" + user.lastName : \"user\"}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Welcome;\r\n"]},"metadata":{},"sourceType":"module"}