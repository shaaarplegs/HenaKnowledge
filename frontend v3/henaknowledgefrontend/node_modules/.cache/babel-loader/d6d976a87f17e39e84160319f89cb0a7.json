{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"../component-interface\");\n\nvar _lib = require(\"../lib\");\n\nvar MOTHER_OF_COLOR = \"#eeeeee\",\n    ORIENTATION_HORIZ = \"horizontal\",\n    callManageSpaceIfPresent = function callManageSpaceIfPresent(child) {\n  child.manageSpace && child.manageSpace();\n};\n\nvar ToolBar = function (_SmartRenderer) {\n  (0, _inheritsLoose2.default)(ToolBar, _SmartRenderer);\n\n  function ToolBar(id) {\n    var _this2;\n\n    _this2 = _SmartRenderer.call(this, id) || this;\n    _this2.props = {};\n    return _this2;\n  }\n\n  var _proto = ToolBar.prototype;\n\n  _proto.configureAttributes = function configureAttributes(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = this,\n        conf = _this.config,\n        chartConfig = _this.getFromEnv(\"chartConfig\");\n\n    _this.__setDefaultConfig();\n\n    this.props.width = (0, _lib.pluckNumber)(options.width, 0);\n    this.props.height = (0, _lib.pluckNumber)(options.height, 0);\n    conf.orientation = (0, _lib.pluck)(options.toolbarorientation, conf.orientation);\n    conf.hPadding = (0, _lib.pluck)(options.toolbarhpadding, conf.hPadding);\n    conf.vPadding = (0, _lib.pluck)(options.toolbarvpadding, conf.vPadding);\n    conf.backgroundcolor = (0, _lib.pluck)(options.toolbarbackgroundcolor, conf.backgroundcolor);\n    conf.backgroundalpha = (0, _lib.pluck)(options.toolbarbackgroundalpha, conf.backgroundalpha);\n    conf.bordercolor = (0, _lib.pluck)(options.toolbarbordercolor, conf.bordercolor);\n    conf.borderalpha = (0, _lib.pluck)(options.toolbarborderalpha, conf.borderalpha);\n    conf.borderthickness = (0, _lib.pluck)(options.toolbarborderthickness, conf.borderthickness);\n    conf.hDirection = (0, _lib.pluckNumber)(options.toolbarhdirection, chartConfig.toolbarHAlign === \"r\" ? -1 : 1);\n    conf.vDirection = (0, _lib.pluckNumber)(options.toolbarvdirection, chartConfig.toolbarBAlign === \"b\" ? -1 : 1);\n    conf.hAlign = (0, _lib.pluck)(options.hAlign, \"center\").toLowerCase();\n    conf.vAlign = (0, _lib.pluck)(options.vAlign, \"middle\").toLowerCase();\n    conf.marginTop = (0, _lib.pluckNumber)(options.marginTop, options.spacing, conf.marginTop);\n    conf.marginLeft = (0, _lib.pluckNumber)(options.marginLeft, options.spacing, conf.marginLeft);\n    conf.marginRight = (0, _lib.pluckNumber)(options.marginRight, options.spacing, conf.marginRight);\n    conf.marginBottom = (0, _lib.pluckNumber)(options.marginBottom, options.spacing, conf.marginBottom);\n  };\n\n  _proto.__setDefaultConfig = function __setDefaultConfig() {\n    var conf = this.config;\n    conf.orientation = ORIENTATION_HORIZ;\n    conf.hPadding = 0;\n    conf.vPadding = 0;\n    conf.backgroundcolor = MOTHER_OF_COLOR;\n    conf.backgroundalpha = 0;\n    conf.bordercolor = MOTHER_OF_COLOR;\n    conf.borderalpha = 0;\n    conf.borderthickness = 1;\n    conf.spacing = 2.5;\n    conf.marginTop = 2.5;\n    conf.marginLeft = 2.5;\n    conf.marginRight = 2.5;\n    conf.marginBottom = 2.5;\n  };\n\n  _proto.getLogicalSpace = function getLogicalSpace() {\n    var _this = this,\n        conf = _this.config,\n        props = _this.props,\n        _width = 0,\n        _height = 0;\n\n    if (_this.getChildren(\"tool\") && _this.getChildren(\"tool\").length) {\n      _this.getChildren(\"tool\").forEach(function (tool) {\n        if (!tool.getState(\"removed\")) {\n          var _tool$getLogicalSpace = tool.getLogicalSpace(),\n              width = _tool$getLogicalSpace.width,\n              height = _tool$getLogicalSpace.height,\n              marginTop = _tool$getLogicalSpace.marginTop,\n              marginLeft = _tool$getLogicalSpace.marginLeft,\n              marginRight = _tool$getLogicalSpace.marginRight,\n              marginBottom = _tool$getLogicalSpace.marginBottom;\n\n          if (conf.orientation === \"horizontal\") {\n            width !== _lib.UNDEF && (_width += width + (marginRight || 0) + (marginLeft || 0));\n            _height < (height = height + (marginTop || 0) + (marginBottom || 0)) && (_height = height);\n          } else {\n            height !== _lib.UNDEF && (_height += height + (marginTop || 0) + (marginBottom || 0));\n            _width < (width = width + (marginRight || 0) + (marginLeft || 0)) && (_width = width);\n          }\n        }\n      });\n\n      _width += 2 * conf.hPadding;\n      _height += 2 * conf.vPadding;\n      props.width = props.width > _width ? props.width : _width;\n      props.height = props.height > _height ? props.height : _height;\n    }\n\n    return {\n      width: _width,\n      height: _height,\n      marginTop: conf.marginTop,\n      marginLeft: conf.marginLeft,\n      marginRight: conf.marginLeft,\n      marginBottom: conf.marginLeft\n    };\n  };\n\n  _proto.manageSpace = function manageSpace() {\n    var _this = this,\n        childTools = this.getChildren(\"tool\") || [],\n        pos;\n\n    if (this.config.orientation === \"horizontal\") {\n      pos = _this._placeToolHorizontally();\n    } else {\n      pos = _this._placeToolVertically();\n    }\n\n    for (var key in pos) {\n      if (pos.hasOwnProperty(key)) {\n        _this.getChild(key).setDimension(pos[key]);\n      }\n    }\n\n    childTools.forEach(callManageSpaceIfPresent);\n  };\n\n  _proto._placeToolHorizontally = function _placeToolHorizontally() {\n    var _this = this,\n        conf = _this.config,\n        props = _this.props,\n        centerSpaceRange,\n        availableSpaceForCenter,\n        centerPoint,\n        centerPivot,\n        leftPivot = conf.hPadding,\n        rigthPivot = props.width - conf.hPadding,\n        posById = {},\n        hAlignMap = {\n      left: [],\n      right: [],\n      center: []\n    },\n        hAlignSpace = {\n      left: 0,\n      right: 0,\n      center: 0\n    };\n\n    if (_this.getChildren(\"tool\") && _this.getChildren(\"tool\").length) {\n      (conf.hDirection > 0 ? _this.getChildren(\"tool\") : _this.getChildren(\"tool\").slice(0).reverse()).forEach(function (tool) {\n        if (!tool.getState(\"removed\")) {\n          var _tool$getAlignment = tool.getAlignment(),\n              hAlign = _tool$getAlignment.hAlign,\n              _tool$getLogicalSpace2 = tool.getLogicalSpace(),\n              width = _tool$getLogicalSpace2.width,\n              height = _tool$getLogicalSpace2.height,\n              marginTop = _tool$getLogicalSpace2.marginTop,\n              marginLeft = _tool$getLogicalSpace2.marginLeft,\n              marginRight = _tool$getLogicalSpace2.marginRight,\n              marginBottom = _tool$getLogicalSpace2.marginBottom,\n              id = tool.getId();\n\n          hAlignSpace[hAlign] += width + (marginLeft || 0) + (marginRight || 0);\n          hAlignMap[hAlign].push(id);\n          posById[id] = {};\n          posById[id].y = _this.props.y + marginTop + conf.vPadding + (props.height - conf.vPadding * 2 - (height + marginBottom + marginTop)) / 2;\n        }\n      });\n      hAlignMap.left.forEach(function (id) {\n        var _this$getChild$getLog = _this.getChild(id).getLogicalSpace(),\n            width = _this$getChild$getLog.width,\n            marginLeft = _this$getChild$getLog.marginLeft,\n            marginRight = _this$getChild$getLog.marginRight;\n\n        leftPivot += marginLeft || 0;\n        posById[id].x = _this.props.x + conf.hPadding + leftPivot;\n        leftPivot += width + (marginRight || 0);\n      });\n      hAlignMap.right.reverse().forEach(function (id) {\n        var _this$getChild$getLog2 = _this.getChild(id).getLogicalSpace(),\n            width = _this$getChild$getLog2.width,\n            marginLeft = _this$getChild$getLog2.marginLeft,\n            marginRight = _this$getChild$getLog2.marginRight;\n\n        rigthPivot -= width + (marginRight || 0);\n        posById[id].x = _this.props.x + conf.hPadding + rigthPivot;\n        rigthPivot -= marginLeft || 0;\n      });\n      centerSpaceRange = [hAlignSpace.left + conf.hPadding, props.width - (hAlignSpace.right + conf.hPadding)];\n      availableSpaceForCenter = Math.abs(centerSpaceRange[0] - centerSpaceRange[1]);\n      centerPoint = centerSpaceRange[0] + availableSpaceForCenter / 2;\n      centerPivot = centerPoint - hAlignSpace.center / 2;\n      hAlignMap.center.forEach(function (id) {\n        var _this$getChild$getLog3 = _this.getChild(id).getLogicalSpace(),\n            width = _this$getChild$getLog3.width,\n            marginLeft = _this$getChild$getLog3.marginLeft,\n            marginRight = _this$getChild$getLog3.marginRight;\n\n        centerPivot += marginLeft || 0;\n        posById[id].x = _this.props.x + conf.hPadding + centerPivot;\n        centerPivot += width + marginRight || 0;\n      });\n    }\n\n    return posById;\n  };\n\n  _proto.getAlignment = function getAlignment() {\n    return {\n      hAlign: this.config.hAlign,\n      vAlign: this.config.vAlign\n    };\n  };\n\n  _proto._placeToolVertically = function _placeToolVertically() {\n    var _this = this,\n        conf = _this.config,\n        props = _this.props,\n        middleSpaceRange,\n        availableSpaceForCenter,\n        middlePoint,\n        middlePivot,\n        topPivot = conf.vPadding,\n        bottomPivot = props.height - conf.vPadding,\n        vAlignMap = {\n      top: [],\n      middle: [],\n      bottom: []\n    },\n        vAlignSpace = {\n      top: 0,\n      middle: 0,\n      bottom: 0\n    },\n        posById = {};\n\n    if (_this.getChildren(\"tool\") && _this.getChildren(\"tool\").length) {\n      (conf.vDirection > 0 ? _this.getChildren(\"tool\") : _this.getChildren(\"tool\").reverse()).forEach(function (tool) {\n        if (!tool.getState(\"removed\")) {\n          var _tool$getAlignment2 = tool.getAlignment(),\n              vAlign = _tool$getAlignment2.vAlign,\n              _tool$getLogicalSpace3 = tool.getLogicalSpace(),\n              width = _tool$getLogicalSpace3.width,\n              height = _tool$getLogicalSpace3.height,\n              marginTop = _tool$getLogicalSpace3.marginTop,\n              marginLeft = _tool$getLogicalSpace3.marginLeft,\n              marginRight = _tool$getLogicalSpace3.marginRight,\n              marginBottom = _tool$getLogicalSpace3.marginBottom,\n              id = tool.getId();\n\n          vAlignSpace[vAlign] += height + (marginTop || 0) + (marginBottom || 0);\n          vAlignMap[vAlign].push(tool.getId());\n          posById[id] = {};\n          posById[id].x = _this.props.x + marginLeft + conf.hPadding + marginLeft + (props.width - conf.hPadding * 2 - (width + marginLeft + marginRight)) / 2;\n        }\n      });\n      vAlignMap.top.forEach(function (id) {\n        var _this$getChild$getLog4 = _this.getChild(id).getLogicalSpace(),\n            height = _this$getChild$getLog4.height,\n            marginTop = _this$getChild$getLog4.marginTop,\n            marginBottom = _this$getChild$getLog4.marginBottom;\n\n        topPivot += marginTop || 0;\n        posById[id].y = _this.props.y + conf.vPadding + topPivot;\n        topPivot += height + (marginBottom || 0);\n      });\n      vAlignMap.bottom.reverse().forEach(function (id) {\n        var _this$getChild$getLog5 = _this.getChild(id).getLogicalSpace(),\n            height = _this$getChild$getLog5.height,\n            marginTop = _this$getChild$getLog5.marginTop,\n            marginBottom = _this$getChild$getLog5.marginBottom;\n\n        bottomPivot -= height + (marginBottom || 0);\n        posById[id].y = _this.props.y + conf.vPadding + bottomPivot;\n        bottomPivot -= marginTop || 0;\n      });\n      middleSpaceRange = [vAlignSpace.top + conf.vPadding, props.height - (vAlignSpace.bottom + conf.vPadding)];\n      availableSpaceForCenter = Math.abs(middleSpaceRange[0] - middleSpaceRange[1]);\n      middlePoint = middleSpaceRange[0] + availableSpaceForCenter / 2;\n      middlePivot = middlePoint - vAlignSpace.middle / 2;\n      vAlignMap.middle.forEach(function (id) {\n        var _this$getChild$getLog6 = _this.getChild(id).getLogicalSpace(),\n            height = _this$getChild$getLog6.height,\n            marginTop = _this$getChild$getLog6.marginTop,\n            marginBottom = _this$getChild$getLog6.marginBottom;\n\n        middlePivot += marginTop || 0;\n        posById[id].y = _this.props.y + conf.vPadding + middlePivot;\n        middlePivot += height + marginBottom || 0;\n      });\n    }\n\n    return posById;\n  };\n\n  _proto.setDimension = function setDimension(dim) {\n    if (dim === void 0) {\n      dim = {};\n    }\n\n    dim.x !== _lib.UNDEF && (this.props.x = dim.x);\n    dim.y !== _lib.UNDEF && (this.props.y = dim.y);\n    dim.width !== _lib.UNDEF && (this.props.width = dim.width);\n    dim.height !== _lib.UNDEF && (this.props.height = dim.height);\n  };\n\n  _proto.getDimension = function getDimension() {\n    return this.props;\n  };\n\n  _proto.draw = function draw() {\n    var _this = this,\n        conf = _this.config;\n\n    _this.addGraphicalElement({\n      id: \"group\",\n      el: \"group\",\n      attr: {\n        name: \"toolbar\"\n      },\n      container: {\n        id: \"toolbar-master\",\n        isParent: true\n      },\n      component: _this,\n      label: \"group\"\n    });\n\n    _this.addGraphicalElement({\n      id: \"carpet\",\n      el: \"rect\",\n      attr: Object.assign({\n        fill: (0, _lib.toRaphaelColor)({\n          color: conf.backgroundcolor,\n          alpha: conf.backgroundalpha\n        }),\n        stroke: (0, _lib.toRaphaelColor)({\n          color: conf.bordercolor,\n          alpha: conf.borderalpha\n        }),\n        \"stroke-width\": conf.borderthickness\n      }, _this.getDimension()),\n      container: {\n        label: \"group\",\n        id: \"group\"\n      },\n      component: _this,\n      label: \"carpet\"\n    });\n  };\n\n  _proto.getName = function getName() {\n    return \"toolbar\";\n  };\n\n  _proto.getType = function getType() {\n    return \"Toolbar\";\n  };\n\n  return ToolBar;\n}(_componentInterface.SmartRenderer);\n\nvar _default = ToolBar;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/toolbox/toolbar.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_componentInterface","_lib","MOTHER_OF_COLOR","ORIENTATION_HORIZ","callManageSpaceIfPresent","child","manageSpace","ToolBar","_SmartRenderer","id","_this2","call","props","_proto","prototype","configureAttributes","options","_this","conf","config","chartConfig","getFromEnv","__setDefaultConfig","width","pluckNumber","height","orientation","pluck","toolbarorientation","hPadding","toolbarhpadding","vPadding","toolbarvpadding","backgroundcolor","toolbarbackgroundcolor","backgroundalpha","toolbarbackgroundalpha","bordercolor","toolbarbordercolor","borderalpha","toolbarborderalpha","borderthickness","toolbarborderthickness","hDirection","toolbarhdirection","toolbarHAlign","vDirection","toolbarvdirection","toolbarBAlign","hAlign","toLowerCase","vAlign","marginTop","spacing","marginLeft","marginRight","marginBottom","getLogicalSpace","_width","_height","getChildren","length","forEach","tool","getState","_tool$getLogicalSpace","UNDEF","childTools","pos","_placeToolHorizontally","_placeToolVertically","key","hasOwnProperty","getChild","setDimension","centerSpaceRange","availableSpaceForCenter","centerPoint","centerPivot","leftPivot","rigthPivot","posById","hAlignMap","left","right","center","hAlignSpace","slice","reverse","_tool$getAlignment","getAlignment","_tool$getLogicalSpace2","getId","push","y","_this$getChild$getLog","x","_this$getChild$getLog2","Math","abs","_this$getChild$getLog3","middleSpaceRange","middlePoint","middlePivot","topPivot","bottomPivot","vAlignMap","top","middle","bottom","vAlignSpace","_tool$getAlignment2","_tool$getLogicalSpace3","_this$getChild$getLog4","_this$getChild$getLog5","_this$getChild$getLog6","dim","getDimension","draw","addGraphicalElement","el","attr","name","container","isParent","component","label","Object","assign","fill","toRaphaelColor","color","alpha","stroke","getName","getType","SmartRenderer","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"../component-interface\");var _lib=require(\"../lib\");var MOTHER_OF_COLOR=\"#eeeeee\",ORIENTATION_HORIZ=\"horizontal\",callManageSpaceIfPresent=function callManageSpaceIfPresent(child){child.manageSpace&&child.manageSpace()};var ToolBar=function(_SmartRenderer){(0,_inheritsLoose2.default)(ToolBar,_SmartRenderer);function ToolBar(id){var _this2;_this2=_SmartRenderer.call(this,id)||this;_this2.props={};return _this2}var _proto=ToolBar.prototype;_proto.configureAttributes=function configureAttributes(options){if(options===void 0){options={}}var _this=this,conf=_this.config,chartConfig=_this.getFromEnv(\"chartConfig\");_this.__setDefaultConfig();this.props.width=(0,_lib.pluckNumber)(options.width,0);this.props.height=(0,_lib.pluckNumber)(options.height,0);conf.orientation=(0,_lib.pluck)(options.toolbarorientation,conf.orientation);conf.hPadding=(0,_lib.pluck)(options.toolbarhpadding,conf.hPadding);conf.vPadding=(0,_lib.pluck)(options.toolbarvpadding,conf.vPadding);conf.backgroundcolor=(0,_lib.pluck)(options.toolbarbackgroundcolor,conf.backgroundcolor);conf.backgroundalpha=(0,_lib.pluck)(options.toolbarbackgroundalpha,conf.backgroundalpha);conf.bordercolor=(0,_lib.pluck)(options.toolbarbordercolor,conf.bordercolor);conf.borderalpha=(0,_lib.pluck)(options.toolbarborderalpha,conf.borderalpha);conf.borderthickness=(0,_lib.pluck)(options.toolbarborderthickness,conf.borderthickness);conf.hDirection=(0,_lib.pluckNumber)(options.toolbarhdirection,chartConfig.toolbarHAlign===\"r\"?-1:1);conf.vDirection=(0,_lib.pluckNumber)(options.toolbarvdirection,chartConfig.toolbarBAlign===\"b\"?-1:1);conf.hAlign=(0,_lib.pluck)(options.hAlign,\"center\").toLowerCase();conf.vAlign=(0,_lib.pluck)(options.vAlign,\"middle\").toLowerCase();conf.marginTop=(0,_lib.pluckNumber)(options.marginTop,options.spacing,conf.marginTop);conf.marginLeft=(0,_lib.pluckNumber)(options.marginLeft,options.spacing,conf.marginLeft);conf.marginRight=(0,_lib.pluckNumber)(options.marginRight,options.spacing,conf.marginRight);conf.marginBottom=(0,_lib.pluckNumber)(options.marginBottom,options.spacing,conf.marginBottom)};_proto.__setDefaultConfig=function __setDefaultConfig(){var conf=this.config;conf.orientation=ORIENTATION_HORIZ;conf.hPadding=0;conf.vPadding=0;conf.backgroundcolor=MOTHER_OF_COLOR;conf.backgroundalpha=0;conf.bordercolor=MOTHER_OF_COLOR;conf.borderalpha=0;conf.borderthickness=1;conf.spacing=2.5;conf.marginTop=2.5;conf.marginLeft=2.5;conf.marginRight=2.5;conf.marginBottom=2.5};_proto.getLogicalSpace=function getLogicalSpace(){var _this=this,conf=_this.config,props=_this.props,_width=0,_height=0;if(_this.getChildren(\"tool\")&&_this.getChildren(\"tool\").length){_this.getChildren(\"tool\").forEach((function(tool){if(!tool.getState(\"removed\")){var _tool$getLogicalSpace=tool.getLogicalSpace(),width=_tool$getLogicalSpace.width,height=_tool$getLogicalSpace.height,marginTop=_tool$getLogicalSpace.marginTop,marginLeft=_tool$getLogicalSpace.marginLeft,marginRight=_tool$getLogicalSpace.marginRight,marginBottom=_tool$getLogicalSpace.marginBottom;if(conf.orientation===\"horizontal\"){width!==_lib.UNDEF&&(_width+=width+(marginRight||0)+(marginLeft||0));_height<(height=height+(marginTop||0)+(marginBottom||0))&&(_height=height)}else{height!==_lib.UNDEF&&(_height+=height+(marginTop||0)+(marginBottom||0));_width<(width=width+(marginRight||0)+(marginLeft||0))&&(_width=width)}}}));_width+=2*conf.hPadding;_height+=2*conf.vPadding;props.width=props.width>_width?props.width:_width;props.height=props.height>_height?props.height:_height}return{width:_width,height:_height,marginTop:conf.marginTop,marginLeft:conf.marginLeft,marginRight:conf.marginLeft,marginBottom:conf.marginLeft}};_proto.manageSpace=function manageSpace(){var _this=this,childTools=this.getChildren(\"tool\")||[],pos;if(this.config.orientation===\"horizontal\"){pos=_this._placeToolHorizontally()}else{pos=_this._placeToolVertically()}for(var key in pos){if(pos.hasOwnProperty(key)){_this.getChild(key).setDimension(pos[key])}}childTools.forEach(callManageSpaceIfPresent)};_proto._placeToolHorizontally=function _placeToolHorizontally(){var _this=this,conf=_this.config,props=_this.props,centerSpaceRange,availableSpaceForCenter,centerPoint,centerPivot,leftPivot=conf.hPadding,rigthPivot=props.width-conf.hPadding,posById={},hAlignMap={left:[],right:[],center:[]},hAlignSpace={left:0,right:0,center:0};if(_this.getChildren(\"tool\")&&_this.getChildren(\"tool\").length){(conf.hDirection>0?_this.getChildren(\"tool\"):_this.getChildren(\"tool\").slice(0).reverse()).forEach((function(tool){if(!tool.getState(\"removed\")){var _tool$getAlignment=tool.getAlignment(),hAlign=_tool$getAlignment.hAlign,_tool$getLogicalSpace2=tool.getLogicalSpace(),width=_tool$getLogicalSpace2.width,height=_tool$getLogicalSpace2.height,marginTop=_tool$getLogicalSpace2.marginTop,marginLeft=_tool$getLogicalSpace2.marginLeft,marginRight=_tool$getLogicalSpace2.marginRight,marginBottom=_tool$getLogicalSpace2.marginBottom,id=tool.getId();hAlignSpace[hAlign]+=width+(marginLeft||0)+(marginRight||0);hAlignMap[hAlign].push(id);posById[id]={};posById[id].y=_this.props.y+marginTop+conf.vPadding+(props.height-conf.vPadding*2-(height+marginBottom+marginTop))/2}}));hAlignMap.left.forEach((function(id){var _this$getChild$getLog=_this.getChild(id).getLogicalSpace(),width=_this$getChild$getLog.width,marginLeft=_this$getChild$getLog.marginLeft,marginRight=_this$getChild$getLog.marginRight;leftPivot+=marginLeft||0;posById[id].x=_this.props.x+conf.hPadding+leftPivot;leftPivot+=width+(marginRight||0)}));hAlignMap.right.reverse().forEach((function(id){var _this$getChild$getLog2=_this.getChild(id).getLogicalSpace(),width=_this$getChild$getLog2.width,marginLeft=_this$getChild$getLog2.marginLeft,marginRight=_this$getChild$getLog2.marginRight;rigthPivot-=width+(marginRight||0);posById[id].x=_this.props.x+conf.hPadding+rigthPivot;rigthPivot-=marginLeft||0}));centerSpaceRange=[hAlignSpace.left+conf.hPadding,props.width-(hAlignSpace.right+conf.hPadding)];availableSpaceForCenter=Math.abs(centerSpaceRange[0]-centerSpaceRange[1]);centerPoint=centerSpaceRange[0]+availableSpaceForCenter/2;centerPivot=centerPoint-hAlignSpace.center/2;hAlignMap.center.forEach((function(id){var _this$getChild$getLog3=_this.getChild(id).getLogicalSpace(),width=_this$getChild$getLog3.width,marginLeft=_this$getChild$getLog3.marginLeft,marginRight=_this$getChild$getLog3.marginRight;centerPivot+=marginLeft||0;posById[id].x=_this.props.x+conf.hPadding+centerPivot;centerPivot+=width+marginRight||0}))}return posById};_proto.getAlignment=function getAlignment(){return{hAlign:this.config.hAlign,vAlign:this.config.vAlign}};_proto._placeToolVertically=function _placeToolVertically(){var _this=this,conf=_this.config,props=_this.props,middleSpaceRange,availableSpaceForCenter,middlePoint,middlePivot,topPivot=conf.vPadding,bottomPivot=props.height-conf.vPadding,vAlignMap={top:[],middle:[],bottom:[]},vAlignSpace={top:0,middle:0,bottom:0},posById={};if(_this.getChildren(\"tool\")&&_this.getChildren(\"tool\").length){(conf.vDirection>0?_this.getChildren(\"tool\"):_this.getChildren(\"tool\").reverse()).forEach((function(tool){if(!tool.getState(\"removed\")){var _tool$getAlignment2=tool.getAlignment(),vAlign=_tool$getAlignment2.vAlign,_tool$getLogicalSpace3=tool.getLogicalSpace(),width=_tool$getLogicalSpace3.width,height=_tool$getLogicalSpace3.height,marginTop=_tool$getLogicalSpace3.marginTop,marginLeft=_tool$getLogicalSpace3.marginLeft,marginRight=_tool$getLogicalSpace3.marginRight,marginBottom=_tool$getLogicalSpace3.marginBottom,id=tool.getId();vAlignSpace[vAlign]+=height+(marginTop||0)+(marginBottom||0);vAlignMap[vAlign].push(tool.getId());posById[id]={};posById[id].x=_this.props.x+marginLeft+conf.hPadding+marginLeft+(props.width-conf.hPadding*2-(width+marginLeft+marginRight))/2}}));vAlignMap.top.forEach((function(id){var _this$getChild$getLog4=_this.getChild(id).getLogicalSpace(),height=_this$getChild$getLog4.height,marginTop=_this$getChild$getLog4.marginTop,marginBottom=_this$getChild$getLog4.marginBottom;topPivot+=marginTop||0;posById[id].y=_this.props.y+conf.vPadding+topPivot;topPivot+=height+(marginBottom||0)}));vAlignMap.bottom.reverse().forEach((function(id){var _this$getChild$getLog5=_this.getChild(id).getLogicalSpace(),height=_this$getChild$getLog5.height,marginTop=_this$getChild$getLog5.marginTop,marginBottom=_this$getChild$getLog5.marginBottom;bottomPivot-=height+(marginBottom||0);posById[id].y=_this.props.y+conf.vPadding+bottomPivot;bottomPivot-=marginTop||0}));middleSpaceRange=[vAlignSpace.top+conf.vPadding,props.height-(vAlignSpace.bottom+conf.vPadding)];availableSpaceForCenter=Math.abs(middleSpaceRange[0]-middleSpaceRange[1]);middlePoint=middleSpaceRange[0]+availableSpaceForCenter/2;middlePivot=middlePoint-vAlignSpace.middle/2;vAlignMap.middle.forEach((function(id){var _this$getChild$getLog6=_this.getChild(id).getLogicalSpace(),height=_this$getChild$getLog6.height,marginTop=_this$getChild$getLog6.marginTop,marginBottom=_this$getChild$getLog6.marginBottom;middlePivot+=marginTop||0;posById[id].y=_this.props.y+conf.vPadding+middlePivot;middlePivot+=height+marginBottom||0}))}return posById};_proto.setDimension=function setDimension(dim){if(dim===void 0){dim={}}dim.x!==_lib.UNDEF&&(this.props.x=dim.x);dim.y!==_lib.UNDEF&&(this.props.y=dim.y);dim.width!==_lib.UNDEF&&(this.props.width=dim.width);dim.height!==_lib.UNDEF&&(this.props.height=dim.height)};_proto.getDimension=function getDimension(){return this.props};_proto.draw=function draw(){var _this=this,conf=_this.config;_this.addGraphicalElement({id:\"group\",el:\"group\",attr:{name:\"toolbar\"},container:{id:\"toolbar-master\",isParent:true},component:_this,label:\"group\"});_this.addGraphicalElement({id:\"carpet\",el:\"rect\",attr:Object.assign({fill:(0,_lib.toRaphaelColor)({color:conf.backgroundcolor,alpha:conf.backgroundalpha}),stroke:(0,_lib.toRaphaelColor)({color:conf.bordercolor,alpha:conf.borderalpha}),\"stroke-width\":conf.borderthickness},_this.getDimension()),container:{label:\"group\",id:\"group\"},component:_this,label:\"carpet\"})};_proto.getName=function getName(){return\"toolbar\"};_proto.getType=function getType(){return\"Toolbar\"};return ToolBar}(_componentInterface.SmartRenderer);var _default=ToolBar;exports.default=_default;"]},"metadata":{},"sourceType":"script"}