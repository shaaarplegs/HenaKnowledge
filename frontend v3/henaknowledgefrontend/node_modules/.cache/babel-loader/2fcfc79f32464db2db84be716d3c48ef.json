{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _centerLabel = _interopRequireDefault(require(\"./center-label.animation\"));\n\nvar UNDEF,\n    HIDDEN = \"hidden\",\n    VISIBLE = \"visible\";\n\nfunction replaceMacros(text, macrosArr, valuesArr) {\n  var parsedText = text;\n\n  if (parsedText) {\n    var i = macrosArr.length || 0,\n        regExpression;\n\n    while (i--) {\n      regExpression = new RegExp(macrosArr[i], \"gi\");\n      parsedText = parsedText.replace(regExpression, valuesArr[i]);\n    }\n  }\n\n  return parsedText;\n}\n\n(0, _dependencyManager.addDep)({\n  name: \"centerLabelAnimation\",\n  type: \"animationRule\",\n  extension: _centerLabel.default\n});\n\nvar CenterLabel = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(CenterLabel, _ComponentInterface);\n\n  function CenterLabel() {\n    return _ComponentInterface.apply(this, arguments) || this;\n  }\n\n  var _proto = CenterLabel.prototype;\n\n  _proto.getName = function getName() {\n    return \"centerLabel\";\n  };\n\n  _proto.getType = function getType() {\n    return \"centerLabel\";\n  };\n\n  _proto.configure = function configure(config) {\n    var chartAttr = this.getFromEnv(\"chart-attrib\"),\n        numberFormatter = this.getFromEnv(\"number-formatter\"),\n        dataLabelStyle = config.dataLabelStyle,\n        centerLabel = this;\n    centerLabel.config = {\n      label: (0, _lib.parseUnsafeString)((0, _lib.pluck)(chartAttr.defaultcenterlabel, \"\")),\n      font: (0, _lib.pluck)(chartAttr.centerlabelfont, dataLabelStyle.fontFamily),\n      fontSize: (0, _lib.pluckNumber)(chartAttr.centerlabelfontsize, parseInt(dataLabelStyle.fontSize, 10)),\n      color: (0, _lib.getFirstColor)((0, _lib.pluck)(chartAttr.centerlabelcolor, chartAttr.valuefontcolor, config.style.inCanvasStyle.color, \"555555\")),\n      alpha: (0, _lib.pluckNumber)(chartAttr.centerlabelalpha, 100),\n      bold: (0, _lib.pluckNumber)(chartAttr.centerlabelbold, dataLabelStyle.fontWeight),\n      italic: (0, _lib.pluckNumber)(chartAttr.centerlabelitalic, dataLabelStyle.style),\n      bgColor: (0, _lib.pluck)(chartAttr.centerlabelbgcolor, \"\"),\n      bgAlpha: (0, _lib.pluckNumber)(chartAttr.centerlabelbgalpha, 100),\n      borderColor: (0, _lib.pluck)(chartAttr.centerlabelbordercolor, dataLabelStyle.borderColor),\n      borderAlpha: (0, _lib.pluckNumber)(chartAttr.centerlabelborderalpha, 100),\n      borderThickness: (0, _lib.pluckNumber)(chartAttr.centerlabelborderthickness, dataLabelStyle.borderThickness),\n      borderRadius: (0, _lib.pluckNumber)(chartAttr.centerlabelborderradius, dataLabelStyle.borderRadius),\n      textPadding: (0, _lib.pluckNumber)(chartAttr.centerlabeltextpadding, dataLabelStyle.borderPadding),\n      padding: (0, _lib.pluckNumber)(chartAttr.centerlabelpadding, 2),\n      bgOval: (0, _lib.pluckNumber)(chartAttr.centerlabelbgoval, 0),\n      shadow: (0, _lib.pluckNumber)(chartAttr.showcenterlabelshadow, 0),\n      hoverColor: chartAttr.centerlabelhovercolor && (0, _lib.getFirstColor)((0, _lib.pluck)(chartAttr.centerlabelhovercolor)),\n      hoverAlpha: (0, _lib.pluckNumber)(chartAttr.centerlabelhoveralpha),\n      toolText: (0, _lib.parseUnsafeString)((0, _lib.pluck)(chartAttr.centerlabeltooltext, _lib.BLANKSTRING), false)\n    };\n    centerLabel.addExtEventListener(\"datasetrollover\", function (event) {\n      var data = event.data,\n          label = (0, _lib.pluck)(replaceMacros((0, _lib.parseUnsafeString)(event.sender.getFromEnv(\"dataSource\").chart.centerlabel), [\"\\\\$value\", \"\\\\$percentValue\", \"\\\\$displayValue\", \"\\\\$label\"], [numberFormatter.scale(data.value), data.pValue, data.displayValue, data.label]), \"\");\n      centerLabel.draw(label, false);\n    }, this.getFromEnv(\"chart\").getDatasets()[0]);\n    centerLabel.addExtEventListener(\"datasetrollout\", function (event) {\n      centerLabel.draw((0, _lib.pluck)(event.sender.config.label, \"\"), false);\n    }, this.getFromEnv(\"chart\").getDatasets()[0]);\n  };\n\n  _proto.draw = function draw(labelText) {\n    var centerLabel = this,\n        text,\n        chart = centerLabel.getFromEnv(\"chart\"),\n        cx = chart.config.canvasLeft + chart.config.canvasWidth * .5,\n        cy = chart.config.canvasTop + chart.config.canvasHeight * .5,\n        dx = chart.getDatasets()[0].config.innerSize,\n        dy = chart.getDatasets()[0].config.innerSize,\n        seriesData = chart.getDatasets()[0].config,\n        labelConfig = this.config,\n        animationManager = centerLabel.getFromEnv(\"animationManager\"),\n        smartLabel = centerLabel.getFromEnv(\"smartLabel\"),\n        centerLabelGraphicsDummy = this.getGraphicalElement(\"centerLabel\"),\n        centerLabelGraphics = centerLabelGraphicsDummy,\n        centerLabelBgGraphics = this.getGraphicalElement(\"centerLabelBg\"),\n        grp = chart.getChildContainer(\"plotGroup\"),\n        labelPadding = labelConfig.padding,\n        textpadding = labelConfig.textPadding * 2,\n        cssObj = {\n      fontFamily: labelConfig.font,\n      fontSize: labelConfig.fontSize + \"px\",\n      lineHeight: 1.2 * labelConfig.fontSize + \"px\",\n      fontWeight: labelConfig.bold ? \"bold\" : \"\",\n      fontStyle: labelConfig.italic ? \"italic\" : \"\"\n    },\n        txtW = (dx * .5 - labelPadding) * 1.414 - textpadding,\n        txtH = (dy * .5 - labelPadding) * 1.414 - textpadding,\n        smartLabelObj,\n        toolTipController = centerLabel.getFromEnv(\"toolTipController\");\n    text = (0, _lib.pluck)(labelText, labelConfig.label);\n    smartLabel.setStyle(cssObj);\n    smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);\n    smartLabelObj = smartLabel.getSmartText(text, txtW, txtH);\n\n    if (text) {\n      if (labelConfig.bgOval) {\n        centerLabelBgGraphics = animationManager.setAnimation({\n          el: centerLabelBgGraphics || \"circle\",\n          attr: {\n            cx: cx,\n            cy: cy,\n            r: dx * .5 - labelPadding,\n            visibility: VISIBLE,\n            container: grp,\n            fill: (0, _lib.hashify)(labelConfig.bgColor),\n            \"fill-opacity\": labelConfig.bgAlpha / 100,\n            stroke: (0, _lib.hashify)(labelConfig.borderColor),\n            \"stroke-width\": labelConfig.borderThickness,\n            \"stroke-opacity\": labelConfig.borderAlpha / 100\n          },\n          component: centerLabel\n        });\n      }\n\n      centerLabelGraphics = animationManager.setAnimation({\n        el: centerLabelGraphicsDummy || \"text\",\n        component: centerLabel,\n        container: grp,\n        css: cssObj,\n        attr: {\n          x: cx,\n          y: cy,\n          text: smartLabelObj.text,\n          visibility: VISIBLE,\n          direction: chart.config.textDirection,\n          fill: (0, _lib.toRaphaelColor)({\n            FCcolor: {\n              color: labelConfig.color,\n              alpha: labelConfig.alpha\n            }\n          }),\n          \"text-bound\": labelConfig.bgOval ? \"none\" : [(0, _lib.toRaphaelColor)({\n            FCcolor: {\n              color: labelConfig.bgColor,\n              alpha: labelConfig.bgAlpha\n            }\n          }), (0, _lib.toRaphaelColor)({\n            FCcolor: {\n              color: labelConfig.borderColor,\n              alpha: labelConfig.borderAlpha\n            }\n          }), labelConfig.borderThickness, labelConfig.textPadding, labelConfig.borderRadius]\n        },\n        label: \"text\"\n      });\n      toolTipController.enableToolTip(centerLabelGraphics, labelConfig.toolText || smartLabelObj.tooltext);\n    } else {\n      centerLabelGraphics && animationManager.setAnimation({\n        el: centerLabelGraphics,\n        attr: {\n          visibility: HIDDEN\n        },\n        component: centerLabel\n      });\n      centerLabelBgGraphics && animationManager.setAnimation({\n        el: centerLabelBgGraphics,\n        attr: {\n          visibility: HIDDEN\n        },\n        component: centerLabel\n      });\n    }\n\n    if (!centerLabelGraphicsDummy) {\n      centerLabel.addEventListener(\"fc-mouseover\", centerLabelOnFcMouseOver);\n      centerLabel.addEventListener(\"fc-mouseout\", centerLabelOnFcMouseOut);\n      centerLabel.addEventListener(\"fc-click\", centerLabelOnFcClick);\n      centerLabel.addGraphicalElement(\"centerLabel\", centerLabelGraphics);\n      centerLabel.addGraphicalElement(\"centerLabelBg\", centerLabelBgGraphics);\n    } else {\n      centerLabelGraphics.attr(\"text\") !== text && centerLabel.centerLabelChange(text);\n    }\n\n    seriesData.lastCenterLabelConfig = labelConfig;\n    seriesData.centerLabelConfig = labelConfig;\n\n    function centerLabelOnFcMouseOver() {\n      centerLabel._centerLabelRollover(chart);\n    }\n\n    function centerLabelOnFcMouseOut() {\n      centerLabel._centerLabelRollout(chart);\n    }\n\n    function centerLabelOnFcClick() {\n      centerLabel._centerLabelClick(chart);\n    }\n  };\n\n  _proto.centerLabelChange = function centerLabelChange(labelText) {\n    var centerLabelapi = this,\n        chart = centerLabelapi.getFromEnv(\"chart\"),\n        chartConfig = chart.config,\n        chartInstance = centerLabelapi.getFromEnv(\"chartInstance\"),\n        eventArgs = {\n      height: chartConfig.height,\n      width: chartConfig.width,\n      pixelHeight: chart.getFromEnv(\"chartWidth\"),\n      pixelWidth: chart.getFromEnv(\"chartHeight\"),\n      id: chartInstance.id,\n      renderer: chartInstance.args.renderer,\n      container: chartInstance.options.containerElement,\n      centerLabelText: labelText\n    };\n    chart.fireChartInstanceEvent(\"centerLabelChanged\", eventArgs);\n  };\n\n  _proto._centerLabelRollover = function _centerLabelRollover(chart) {\n    var chartConfig = chart.config,\n        chartInstance = chart.getFromEnv(\"chartInstance\"),\n        labelConfig = this.config,\n        cLabel = this,\n        eventArgs = {\n      height: chartConfig.height,\n      width: chartConfig.width,\n      pixelHeight: chart.getFromEnv(\"chartWidth\"),\n      pixelWidth: chart.getFromEnv(\"chartHeight\"),\n      id: chartInstance.id,\n      renderer: chartInstance.args.renderer,\n      container: chartInstance.options.containerElement,\n      centerLabelText: labelConfig && labelConfig.label\n    };\n    this.getFromEnv(\"paper\").attr(\"text\") && chart.fireChartInstanceEvent(\"centerLabelRollover\", eventArgs, UNDEF, cLabel.hoverOnCenterLabel.bind(cLabel, chart));\n  };\n\n  _proto._centerLabelRollout = function _centerLabelRollout(chart) {\n    var chartConfig = chart.config,\n        cLabel = this,\n        chartInstance = chart.getFromEnv(\"chartInstance\"),\n        labelConfig = this.config,\n        eventArgs = {\n      height: chartConfig.height,\n      width: chartConfig.width,\n      pixelHeight: chart.getFromEnv(\"chartWidth\"),\n      pixelWidth: chart.getFromEnv(\"chartHeight\"),\n      id: chartInstance.id,\n      renderer: chartInstance.args.renderer,\n      container: chartInstance.options.containerElement,\n      centerLabelText: labelConfig && labelConfig.label\n    };\n    this.getFromEnv(\"paper\").attr(\"text\") && chart.fireChartInstanceEvent(\"centerLabelRollout\", eventArgs, UNDEF, cLabel.hoverOffCenterLabel.bind(cLabel, chart));\n  };\n\n  _proto._centerLabelClick = function _centerLabelClick(chart) {\n    var chartConfig = chart.config,\n        chartInstance = chart.getFromEnv(\"chartInstance\"),\n        eventArgs = {\n      height: chartConfig.height,\n      width: chartConfig.width,\n      pixelHeight: chart.getFromEnv(\"chartWidth\"),\n      pixelWidth: chart.getFromEnv(\"chartHeight\"),\n      id: chartInstance.id,\n      renderer: chartInstance.args.renderer,\n      container: chartInstance.options.containerElement\n    },\n        labelConfig;\n    labelConfig = this.config;\n    eventArgs.centerLabelText = labelConfig && labelConfig.label;\n    this.getFromEnv(\"paper\").attr(\"text\") && chart.fireChartInstanceEvent(\"centerLabelClick\", eventArgs);\n  };\n\n  _proto.hoverOnCenterLabel = function hoverOnCenterLabel(chart) {\n    var labelConfig = chart.getChildren(\"dataset\")[0].config.lastCenterLabelConfig;\n\n    if (labelConfig.hoverColor || labelConfig.hoverAlpha) {\n      this.getGraphicalElement(\"centerLabel\").attr({\n        fill: (0, _lib.toRaphaelColor)({\n          FCcolor: {\n            color: labelConfig.hoverColor || labelConfig.color,\n            alpha: labelConfig.hoverAlpha || labelConfig.alpha\n          }\n        })\n      });\n    }\n  };\n\n  _proto.hoverOffCenterLabel = function hoverOffCenterLabel(chart) {\n    var labelConfig = chart.getChildren(\"dataset\")[0].config.lastCenterLabelConfig;\n\n    if (labelConfig.hoverColor || labelConfig.hoverAlpha) {\n      this.getGraphicalElement(\"centerLabel\").attr({\n        fill: (0, _lib.toRaphaelColor)({\n          FCcolor: {\n            color: labelConfig.color,\n            alpha: labelConfig.alpha\n          }\n        })\n      });\n    }\n  };\n\n  return CenterLabel;\n}(_componentInterface.ComponentInterface);\n\nexports.default = CenterLabel;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/center-label-extension/center-label-extension.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_componentInterface","_lib","_dependencyManager","_centerLabel","UNDEF","HIDDEN","VISIBLE","replaceMacros","text","macrosArr","valuesArr","parsedText","i","length","regExpression","RegExp","replace","addDep","name","type","extension","CenterLabel","_ComponentInterface","apply","arguments","_proto","prototype","getName","getType","configure","config","chartAttr","getFromEnv","numberFormatter","dataLabelStyle","centerLabel","label","parseUnsafeString","pluck","defaultcenterlabel","font","centerlabelfont","fontFamily","fontSize","pluckNumber","centerlabelfontsize","parseInt","color","getFirstColor","centerlabelcolor","valuefontcolor","style","inCanvasStyle","alpha","centerlabelalpha","bold","centerlabelbold","fontWeight","italic","centerlabelitalic","bgColor","centerlabelbgcolor","bgAlpha","centerlabelbgalpha","borderColor","centerlabelbordercolor","borderAlpha","centerlabelborderalpha","borderThickness","centerlabelborderthickness","borderRadius","centerlabelborderradius","textPadding","centerlabeltextpadding","borderPadding","padding","centerlabelpadding","bgOval","centerlabelbgoval","shadow","showcenterlabelshadow","hoverColor","centerlabelhovercolor","hoverAlpha","centerlabelhoveralpha","toolText","centerlabeltooltext","BLANKSTRING","addExtEventListener","event","data","sender","chart","centerlabel","scale","value","pValue","displayValue","draw","getDatasets","labelText","cx","canvasLeft","canvasWidth","cy","canvasTop","canvasHeight","dx","innerSize","dy","seriesData","labelConfig","animationManager","smartLabel","centerLabelGraphicsDummy","getGraphicalElement","centerLabelGraphics","centerLabelBgGraphics","grp","getChildContainer","labelPadding","textpadding","cssObj","lineHeight","fontStyle","txtW","txtH","smartLabelObj","toolTipController","setStyle","useEllipsesOnOverflow","useEllipsesWhenOverflow","getSmartText","setAnimation","el","attr","r","visibility","container","fill","hashify","stroke","component","css","x","y","direction","textDirection","toRaphaelColor","FCcolor","enableToolTip","tooltext","addEventListener","centerLabelOnFcMouseOver","centerLabelOnFcMouseOut","centerLabelOnFcClick","addGraphicalElement","centerLabelChange","lastCenterLabelConfig","centerLabelConfig","_centerLabelRollover","_centerLabelRollout","_centerLabelClick","centerLabelapi","chartConfig","chartInstance","eventArgs","height","width","pixelHeight","pixelWidth","id","renderer","args","options","containerElement","centerLabelText","fireChartInstanceEvent","cLabel","hoverOnCenterLabel","bind","hoverOffCenterLabel","getChildren","ComponentInterface"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _lib=require(\"@fusioncharts/core/src/lib\");var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _centerLabel=_interopRequireDefault(require(\"./center-label.animation\"));var UNDEF,HIDDEN=\"hidden\",VISIBLE=\"visible\";function replaceMacros(text,macrosArr,valuesArr){var parsedText=text;if(parsedText){var i=macrosArr.length||0,regExpression;while(i--){regExpression=new RegExp(macrosArr[i],\"gi\");parsedText=parsedText.replace(regExpression,valuesArr[i])}}return parsedText}(0,_dependencyManager.addDep)({name:\"centerLabelAnimation\",type:\"animationRule\",extension:_centerLabel.default});var CenterLabel=function(_ComponentInterface){(0,_inheritsLoose2.default)(CenterLabel,_ComponentInterface);function CenterLabel(){return _ComponentInterface.apply(this,arguments)||this}var _proto=CenterLabel.prototype;_proto.getName=function getName(){return\"centerLabel\"};_proto.getType=function getType(){return\"centerLabel\"};_proto.configure=function configure(config){var chartAttr=this.getFromEnv(\"chart-attrib\"),numberFormatter=this.getFromEnv(\"number-formatter\"),dataLabelStyle=config.dataLabelStyle,centerLabel=this;centerLabel.config={label:(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.defaultcenterlabel,\"\")),font:(0,_lib.pluck)(chartAttr.centerlabelfont,dataLabelStyle.fontFamily),fontSize:(0,_lib.pluckNumber)(chartAttr.centerlabelfontsize,parseInt(dataLabelStyle.fontSize,10)),color:(0,_lib.getFirstColor)((0,_lib.pluck)(chartAttr.centerlabelcolor,chartAttr.valuefontcolor,config.style.inCanvasStyle.color,\"555555\")),alpha:(0,_lib.pluckNumber)(chartAttr.centerlabelalpha,100),bold:(0,_lib.pluckNumber)(chartAttr.centerlabelbold,dataLabelStyle.fontWeight),italic:(0,_lib.pluckNumber)(chartAttr.centerlabelitalic,dataLabelStyle.style),bgColor:(0,_lib.pluck)(chartAttr.centerlabelbgcolor,\"\"),bgAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelbgalpha,100),borderColor:(0,_lib.pluck)(chartAttr.centerlabelbordercolor,dataLabelStyle.borderColor),borderAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelborderalpha,100),borderThickness:(0,_lib.pluckNumber)(chartAttr.centerlabelborderthickness,dataLabelStyle.borderThickness),borderRadius:(0,_lib.pluckNumber)(chartAttr.centerlabelborderradius,dataLabelStyle.borderRadius),textPadding:(0,_lib.pluckNumber)(chartAttr.centerlabeltextpadding,dataLabelStyle.borderPadding),padding:(0,_lib.pluckNumber)(chartAttr.centerlabelpadding,2),bgOval:(0,_lib.pluckNumber)(chartAttr.centerlabelbgoval,0),shadow:(0,_lib.pluckNumber)(chartAttr.showcenterlabelshadow,0),hoverColor:chartAttr.centerlabelhovercolor&&(0,_lib.getFirstColor)((0,_lib.pluck)(chartAttr.centerlabelhovercolor)),hoverAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelhoveralpha),toolText:(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.centerlabeltooltext,_lib.BLANKSTRING),false)};centerLabel.addExtEventListener(\"datasetrollover\",(function(event){var data=event.data,label=(0,_lib.pluck)(replaceMacros((0,_lib.parseUnsafeString)(event.sender.getFromEnv(\"dataSource\").chart.centerlabel),[\"\\\\$value\",\"\\\\$percentValue\",\"\\\\$displayValue\",\"\\\\$label\"],[numberFormatter.scale(data.value),data.pValue,data.displayValue,data.label]),\"\");centerLabel.draw(label,false)}),this.getFromEnv(\"chart\").getDatasets()[0]);centerLabel.addExtEventListener(\"datasetrollout\",(function(event){centerLabel.draw((0,_lib.pluck)(event.sender.config.label,\"\"),false)}),this.getFromEnv(\"chart\").getDatasets()[0])};_proto.draw=function draw(labelText){var centerLabel=this,text,chart=centerLabel.getFromEnv(\"chart\"),cx=chart.config.canvasLeft+chart.config.canvasWidth*.5,cy=chart.config.canvasTop+chart.config.canvasHeight*.5,dx=chart.getDatasets()[0].config.innerSize,dy=chart.getDatasets()[0].config.innerSize,seriesData=chart.getDatasets()[0].config,labelConfig=this.config,animationManager=centerLabel.getFromEnv(\"animationManager\"),smartLabel=centerLabel.getFromEnv(\"smartLabel\"),centerLabelGraphicsDummy=this.getGraphicalElement(\"centerLabel\"),centerLabelGraphics=centerLabelGraphicsDummy,centerLabelBgGraphics=this.getGraphicalElement(\"centerLabelBg\"),grp=chart.getChildContainer(\"plotGroup\"),labelPadding=labelConfig.padding,textpadding=labelConfig.textPadding*2,cssObj={fontFamily:labelConfig.font,fontSize:labelConfig.fontSize+\"px\",lineHeight:1.2*labelConfig.fontSize+\"px\",fontWeight:labelConfig.bold?\"bold\":\"\",fontStyle:labelConfig.italic?\"italic\":\"\"},txtW=(dx*.5-labelPadding)*1.414-textpadding,txtH=(dy*.5-labelPadding)*1.414-textpadding,smartLabelObj,toolTipController=centerLabel.getFromEnv(\"toolTipController\");text=(0,_lib.pluck)(labelText,labelConfig.label);smartLabel.setStyle(cssObj);smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabelObj=smartLabel.getSmartText(text,txtW,txtH);if(text){if(labelConfig.bgOval){centerLabelBgGraphics=animationManager.setAnimation({el:centerLabelBgGraphics||\"circle\",attr:{cx:cx,cy:cy,r:dx*.5-labelPadding,visibility:VISIBLE,container:grp,fill:(0,_lib.hashify)(labelConfig.bgColor),\"fill-opacity\":labelConfig.bgAlpha/100,stroke:(0,_lib.hashify)(labelConfig.borderColor),\"stroke-width\":labelConfig.borderThickness,\"stroke-opacity\":labelConfig.borderAlpha/100},component:centerLabel})}centerLabelGraphics=animationManager.setAnimation({el:centerLabelGraphicsDummy||\"text\",component:centerLabel,container:grp,css:cssObj,attr:{x:cx,y:cy,text:smartLabelObj.text,visibility:VISIBLE,direction:chart.config.textDirection,fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.color,alpha:labelConfig.alpha}}),\"text-bound\":labelConfig.bgOval?\"none\":[(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.bgColor,alpha:labelConfig.bgAlpha}}),(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.borderColor,alpha:labelConfig.borderAlpha}}),labelConfig.borderThickness,labelConfig.textPadding,labelConfig.borderRadius]},label:\"text\"});toolTipController.enableToolTip(centerLabelGraphics,labelConfig.toolText||smartLabelObj.tooltext)}else{centerLabelGraphics&&animationManager.setAnimation({el:centerLabelGraphics,attr:{visibility:HIDDEN},component:centerLabel});centerLabelBgGraphics&&animationManager.setAnimation({el:centerLabelBgGraphics,attr:{visibility:HIDDEN},component:centerLabel})}if(!centerLabelGraphicsDummy){centerLabel.addEventListener(\"fc-mouseover\",centerLabelOnFcMouseOver);centerLabel.addEventListener(\"fc-mouseout\",centerLabelOnFcMouseOut);centerLabel.addEventListener(\"fc-click\",centerLabelOnFcClick);centerLabel.addGraphicalElement(\"centerLabel\",centerLabelGraphics);centerLabel.addGraphicalElement(\"centerLabelBg\",centerLabelBgGraphics)}else{centerLabelGraphics.attr(\"text\")!==text&&centerLabel.centerLabelChange(text)}seriesData.lastCenterLabelConfig=labelConfig;seriesData.centerLabelConfig=labelConfig;function centerLabelOnFcMouseOver(){centerLabel._centerLabelRollover(chart)}function centerLabelOnFcMouseOut(){centerLabel._centerLabelRollout(chart)}function centerLabelOnFcClick(){centerLabel._centerLabelClick(chart)}};_proto.centerLabelChange=function centerLabelChange(labelText){var centerLabelapi=this,chart=centerLabelapi.getFromEnv(\"chart\"),chartConfig=chart.config,chartInstance=centerLabelapi.getFromEnv(\"chartInstance\"),eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv(\"chartWidth\"),pixelWidth:chart.getFromEnv(\"chartHeight\"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:chartInstance.options.containerElement,centerLabelText:labelText};chart.fireChartInstanceEvent(\"centerLabelChanged\",eventArgs)};_proto._centerLabelRollover=function _centerLabelRollover(chart){var chartConfig=chart.config,chartInstance=chart.getFromEnv(\"chartInstance\"),labelConfig=this.config,cLabel=this,eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv(\"chartWidth\"),pixelWidth:chart.getFromEnv(\"chartHeight\"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:chartInstance.options.containerElement,centerLabelText:labelConfig&&labelConfig.label};this.getFromEnv(\"paper\").attr(\"text\")&&chart.fireChartInstanceEvent(\"centerLabelRollover\",eventArgs,UNDEF,cLabel.hoverOnCenterLabel.bind(cLabel,chart))};_proto._centerLabelRollout=function _centerLabelRollout(chart){var chartConfig=chart.config,cLabel=this,chartInstance=chart.getFromEnv(\"chartInstance\"),labelConfig=this.config,eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv(\"chartWidth\"),pixelWidth:chart.getFromEnv(\"chartHeight\"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:chartInstance.options.containerElement,centerLabelText:labelConfig&&labelConfig.label};this.getFromEnv(\"paper\").attr(\"text\")&&chart.fireChartInstanceEvent(\"centerLabelRollout\",eventArgs,UNDEF,cLabel.hoverOffCenterLabel.bind(cLabel,chart))};_proto._centerLabelClick=function _centerLabelClick(chart){var chartConfig=chart.config,chartInstance=chart.getFromEnv(\"chartInstance\"),eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv(\"chartWidth\"),pixelWidth:chart.getFromEnv(\"chartHeight\"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:chartInstance.options.containerElement},labelConfig;labelConfig=this.config;eventArgs.centerLabelText=labelConfig&&labelConfig.label;this.getFromEnv(\"paper\").attr(\"text\")&&chart.fireChartInstanceEvent(\"centerLabelClick\",eventArgs)};_proto.hoverOnCenterLabel=function hoverOnCenterLabel(chart){var labelConfig=chart.getChildren(\"dataset\")[0].config.lastCenterLabelConfig;if(labelConfig.hoverColor||labelConfig.hoverAlpha){this.getGraphicalElement(\"centerLabel\").attr({fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.hoverColor||labelConfig.color,alpha:labelConfig.hoverAlpha||labelConfig.alpha}})})}};_proto.hoverOffCenterLabel=function hoverOffCenterLabel(chart){var labelConfig=chart.getChildren(\"dataset\")[0].config.lastCenterLabelConfig;if(labelConfig.hoverColor||labelConfig.hoverAlpha){this.getGraphicalElement(\"centerLabel\").attr({fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.color,alpha:labelConfig.alpha}})})}};return CenterLabel}(_componentInterface.ComponentInterface);exports.default=CenterLabel;"]},"metadata":{},"sourceType":"script"}