{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _annotationShape = _interopRequireDefault(require(\"./annotation-shape\"));\n\nvar STRAIGHT_ANGLE_DEGREES = 180,\n    FULL_ANGLE_DEGREES = 360,\n    DEFAULT_RADIUS_INNER = 0,\n    DEFAULT_ANGLE_START = 0,\n    DEFAULT_ANGLE_END = 360,\n    DEFAULT_PAPER_WIDTH = 700,\n    DEFAULT_PAPER_HEIGHT = 350,\n    RING_PATH = \"ringpath\",\n    ELLIPSE = \"ellipse\",\n    isPerfectCircle = function isPerfectCircle(config) {\n  return config.startAngle === DEFAULT_ANGLE_START && config.endAngle === DEFAULT_ANGLE_END;\n},\n    circleHasHole = function circleHasHole(config) {\n  return config.innerRadius > 0 || config.innerYRadius > 0;\n};\n\nfunction toRadian(degrees) {\n  return degrees * (Math.PI / STRAIGHT_ANGLE_DEGREES);\n}\n\nvar CircleAnnotation = function (_AnnotationShape) {\n  (0, _inheritsLoose2.default)(CircleAnnotation, _AnnotationShape);\n\n  function CircleAnnotation() {\n    return _AnnotationShape.apply(this, arguments) || this;\n  }\n\n  var _proto = CircleAnnotation.prototype;\n\n  _proto.getName = function getName() {\n    return \"circle\";\n  };\n\n  _proto.configureAttributes = function configureAttributes(rawConfig) {\n    if (rawConfig === void 0) {\n      rawConfig = {};\n    }\n\n    _AnnotationShape.prototype.configureAttributes.call(this, rawConfig);\n\n    var circle = this,\n        shapeConfig = circle.rawConfig,\n        chart = circle.getFromEnv(\"chart\"),\n        paperWidth = +chart.getFromEnv(\"chartHeight\") || DEFAULT_PAPER_WIDTH,\n        paperHeight = +chart.getFromEnv(\"chartWidth\") || DEFAULT_PAPER_HEIGHT;\n    circle.config.radius = shapeConfig.radius;\n    circle.config.xRadius = (0, _lib.pluckNumber)(parseFloat(shapeConfig.radius), parseFloat(shapeConfig.xRadius), Math.sqrt(Math.max(paperWidth, paperHeight)));\n    circle.config.yRadius = (0, _lib.pluckNumber)(parseFloat(shapeConfig.yRadius), circle.config.xRadius);\n    circle.config.startAngle = (0, _lib.pluckNumber)(parseFloat(shapeConfig.startAngle), DEFAULT_ANGLE_START);\n    circle.config.endAngle = (0, _lib.pluckNumber)(parseFloat(shapeConfig.endAngle), DEFAULT_ANGLE_END);\n    circle.config.innerRadius = (0, _lib.pluckNumber)(parseFloat(shapeConfig.innerRadius), DEFAULT_RADIUS_INNER);\n    circle.config.innerYRadius = (0, _lib.pluckNumber)(parseFloat(shapeConfig.innerYRadius), circle.config.innerRadius, DEFAULT_RADIUS_INNER);\n\n    if (circle.config.type === \"arc\") {\n      circle.config.elementType = RING_PATH;\n    } else {\n      if (isPerfectCircle(circle.config) && !circleHasHole(circle.config)) {\n        circle.config.elementType = ELLIPSE;\n      } else {\n        circle.config.elementType = RING_PATH;\n      }\n    }\n  };\n\n  _proto.updateAttr = function updateAttr() {\n    var circle = this,\n        config = this.config,\n        attr = config.calculatedAttrs,\n        attrs,\n        chart = circle.getFromEnv(\"chart\"),\n        chartHeight = +chart.getFromEnv(\"chartHeight\"),\n        chartWidth = +chart.getFromEnv(\"chartWidth\"),\n        xRadius = circle.getScaledVal(config.xRadius),\n        yRadius = circle.getScaledVal(config.yRadius),\n        innerRadius = circle.getScaledVal(config.innerRadius),\n        innerYRadius = circle.getScaledVal(config.innerYRadius),\n        pathArr;\n\n    if (!(0, _lib.pluck)(config.radius)) {\n      config.radius = chartWidth < chartHeight ? circle.getScaledVal(chartWidth) : circle.getScaledVal(chartHeight);\n      config.radius *= .3;\n\n      if (innerRadius > config.radius) {\n        innerRadius += config.radius;\n        config.radius = innerRadius - config.radius;\n        innerRadius = innerRadius - config.radius;\n      }\n\n      xRadius = yRadius = config.radius;\n      innerYRadius = innerRadius;\n    }\n\n    switch (config.elementType) {\n      case \"ringpath\":\n        pathArr = [(0, _lib.pluckNumber)(attr.x, circle.getScaledVal(config.x, true)), (0, _lib.pluckNumber)(attr.y, circle.getScaledVal(config.y, false)), xRadius, innerRadius, toRadian(FULL_ANGLE_DEGREES - config.endAngle), toRadian(FULL_ANGLE_DEGREES - config.startAngle), yRadius, innerYRadius];\n        attrs = {\n          ringpath: pathArr\n        };\n        break;\n\n      default:\n        attrs = {\n          cx: (0, _lib.pluckNumber)(attr.x, circle.getScaledVal(config.x, true)),\n          cy: (0, _lib.pluckNumber)(attr.y, circle.getScaledVal(config.y, false))\n        };\n    }\n\n    circle._setConfig(\"attr\", attrs);\n  };\n\n  _proto._getAnnotationAttrs = function _getAnnotationAttrs() {\n    var circle = this,\n        config = circle.config,\n        attr = circle.config.attr || {},\n        x = config.x,\n        y = config.y,\n        xRadius = circle.getScaledVal(config.xRadius),\n        yRadius = circle.getScaledVal(config.yRadius),\n        pathArr;\n\n    if (!config.xRadius) {\n      xRadius = 0;\n    }\n\n    if (!config.yRadius) {\n      yRadius = 0;\n    }\n\n    attr.fill = config.color;\n    attr.stroke = config.borderColor;\n    attr[\"stroke-width\"] = config.borderThickness;\n    attr[\"stroke-dasharray\"] = config.dashArrayStr;\n\n    switch (circle.config.elementType) {\n      case RING_PATH:\n        pathArr = [circle.getScaledVal(x, true), circle.getScaledVal(y, false), xRadius, circle.getScaledVal(config.innerRadius), toRadian(FULL_ANGLE_DEGREES - config.endAngle), toRadian(FULL_ANGLE_DEGREES - config.startAngle), yRadius, circle.getScaledVal(config.innerYRadius)];\n        attr.ringpath = attr.ringpath || pathArr;\n        break;\n\n      default:\n        attr.rx = xRadius;\n        attr.ry = yRadius;\n        attr.cx = typeof attr.cx === \"undefined\" ? circle.getScaledVal(x, true) : attr.cx;\n        attr.cy = typeof attr.cy === \"undefined\" ? circle.getScaledVal(y, false) : attr.cy;\n    }\n\n    return attr;\n  };\n\n  return CircleAnnotation;\n}(_annotationShape.default);\n\nvar _default = CircleAnnotation;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/annotation/shapes/annotation-circle.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_lib","_annotationShape","STRAIGHT_ANGLE_DEGREES","FULL_ANGLE_DEGREES","DEFAULT_RADIUS_INNER","DEFAULT_ANGLE_START","DEFAULT_ANGLE_END","DEFAULT_PAPER_WIDTH","DEFAULT_PAPER_HEIGHT","RING_PATH","ELLIPSE","isPerfectCircle","config","startAngle","endAngle","circleHasHole","innerRadius","innerYRadius","toRadian","degrees","Math","PI","CircleAnnotation","_AnnotationShape","apply","arguments","_proto","prototype","getName","configureAttributes","rawConfig","call","circle","shapeConfig","chart","getFromEnv","paperWidth","paperHeight","radius","xRadius","pluckNumber","parseFloat","sqrt","max","yRadius","type","elementType","updateAttr","attr","calculatedAttrs","attrs","chartHeight","chartWidth","getScaledVal","pathArr","pluck","x","y","ringpath","cx","cy","_setConfig","_getAnnotationAttrs","fill","color","stroke","borderColor","borderThickness","dashArrayStr","rx","ry","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _annotationShape=_interopRequireDefault(require(\"./annotation-shape\"));var STRAIGHT_ANGLE_DEGREES=180,FULL_ANGLE_DEGREES=360,DEFAULT_RADIUS_INNER=0,DEFAULT_ANGLE_START=0,DEFAULT_ANGLE_END=360,DEFAULT_PAPER_WIDTH=700,DEFAULT_PAPER_HEIGHT=350,RING_PATH=\"ringpath\",ELLIPSE=\"ellipse\",isPerfectCircle=function isPerfectCircle(config){return config.startAngle===DEFAULT_ANGLE_START&&config.endAngle===DEFAULT_ANGLE_END},circleHasHole=function circleHasHole(config){return config.innerRadius>0||config.innerYRadius>0};function toRadian(degrees){return degrees*(Math.PI/STRAIGHT_ANGLE_DEGREES)}var CircleAnnotation=function(_AnnotationShape){(0,_inheritsLoose2.default)(CircleAnnotation,_AnnotationShape);function CircleAnnotation(){return _AnnotationShape.apply(this,arguments)||this}var _proto=CircleAnnotation.prototype;_proto.getName=function getName(){return\"circle\"};_proto.configureAttributes=function configureAttributes(rawConfig){if(rawConfig===void 0){rawConfig={}}_AnnotationShape.prototype.configureAttributes.call(this,rawConfig);var circle=this,shapeConfig=circle.rawConfig,chart=circle.getFromEnv(\"chart\"),paperWidth=+chart.getFromEnv(\"chartHeight\")||DEFAULT_PAPER_WIDTH,paperHeight=+chart.getFromEnv(\"chartWidth\")||DEFAULT_PAPER_HEIGHT;circle.config.radius=shapeConfig.radius;circle.config.xRadius=(0,_lib.pluckNumber)(parseFloat(shapeConfig.radius),parseFloat(shapeConfig.xRadius),Math.sqrt(Math.max(paperWidth,paperHeight)));circle.config.yRadius=(0,_lib.pluckNumber)(parseFloat(shapeConfig.yRadius),circle.config.xRadius);circle.config.startAngle=(0,_lib.pluckNumber)(parseFloat(shapeConfig.startAngle),DEFAULT_ANGLE_START);circle.config.endAngle=(0,_lib.pluckNumber)(parseFloat(shapeConfig.endAngle),DEFAULT_ANGLE_END);circle.config.innerRadius=(0,_lib.pluckNumber)(parseFloat(shapeConfig.innerRadius),DEFAULT_RADIUS_INNER);circle.config.innerYRadius=(0,_lib.pluckNumber)(parseFloat(shapeConfig.innerYRadius),circle.config.innerRadius,DEFAULT_RADIUS_INNER);if(circle.config.type===\"arc\"){circle.config.elementType=RING_PATH}else{if(isPerfectCircle(circle.config)&&!circleHasHole(circle.config)){circle.config.elementType=ELLIPSE}else{circle.config.elementType=RING_PATH}}};_proto.updateAttr=function updateAttr(){var circle=this,config=this.config,attr=config.calculatedAttrs,attrs,chart=circle.getFromEnv(\"chart\"),chartHeight=+chart.getFromEnv(\"chartHeight\"),chartWidth=+chart.getFromEnv(\"chartWidth\"),xRadius=circle.getScaledVal(config.xRadius),yRadius=circle.getScaledVal(config.yRadius),innerRadius=circle.getScaledVal(config.innerRadius),innerYRadius=circle.getScaledVal(config.innerYRadius),pathArr;if(!(0,_lib.pluck)(config.radius)){config.radius=chartWidth<chartHeight?circle.getScaledVal(chartWidth):circle.getScaledVal(chartHeight);config.radius*=.3;if(innerRadius>config.radius){innerRadius+=config.radius;config.radius=innerRadius-config.radius;innerRadius=innerRadius-config.radius}xRadius=yRadius=config.radius;innerYRadius=innerRadius}switch(config.elementType){case\"ringpath\":pathArr=[(0,_lib.pluckNumber)(attr.x,circle.getScaledVal(config.x,true)),(0,_lib.pluckNumber)(attr.y,circle.getScaledVal(config.y,false)),xRadius,innerRadius,toRadian(FULL_ANGLE_DEGREES-config.endAngle),toRadian(FULL_ANGLE_DEGREES-config.startAngle),yRadius,innerYRadius];attrs={ringpath:pathArr};break;default:attrs={cx:(0,_lib.pluckNumber)(attr.x,circle.getScaledVal(config.x,true)),cy:(0,_lib.pluckNumber)(attr.y,circle.getScaledVal(config.y,false))}}circle._setConfig(\"attr\",attrs)};_proto._getAnnotationAttrs=function _getAnnotationAttrs(){var circle=this,config=circle.config,attr=circle.config.attr||{},x=config.x,y=config.y,xRadius=circle.getScaledVal(config.xRadius),yRadius=circle.getScaledVal(config.yRadius),pathArr;if(!config.xRadius){xRadius=0}if(!config.yRadius){yRadius=0}attr.fill=config.color;attr.stroke=config.borderColor;attr[\"stroke-width\"]=config.borderThickness;attr[\"stroke-dasharray\"]=config.dashArrayStr;switch(circle.config.elementType){case RING_PATH:pathArr=[circle.getScaledVal(x,true),circle.getScaledVal(y,false),xRadius,circle.getScaledVal(config.innerRadius),toRadian(FULL_ANGLE_DEGREES-config.endAngle),toRadian(FULL_ANGLE_DEGREES-config.startAngle),yRadius,circle.getScaledVal(config.innerYRadius)];attr.ringpath=attr.ringpath||pathArr;break;default:attr.rx=xRadius;attr.ry=yRadius;attr.cx=typeof attr.cx===\"undefined\"?circle.getScaledVal(x,true):attr.cx;attr.cy=typeof attr.cy===\"undefined\"?circle.getScaledVal(y,false):attr.cy}return attr};return CircleAnnotation}(_annotationShape.default);var _default=CircleAnnotation;exports.default=_default;"]},"metadata":{},"sourceType":"script"}