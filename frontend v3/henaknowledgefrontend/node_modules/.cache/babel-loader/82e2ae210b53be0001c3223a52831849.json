{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _caption = _interopRequireDefault(require(\"../caption\"));\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _index = _interopRequireDefault(require(\"./index.animation\"));\n\nvar mathMax = Math.max,\n    PXSTRING = \"px\",\n    POSITION_CENTER = \"center\",\n    POSITION_TOP = \"top\",\n    POSITION_BOTTOM = \"bottom\",\n    POSITION_MIDDLE = \"middle\";\n(0, _dependencyManager.addDep)({\n  name: \"subcaptionAnimation\",\n  type: \"animationRule\",\n  extension: _index.default\n});\n\nvar SubCaption = function (_Caption) {\n  (0, _inheritsLoose2.default)(SubCaption, _Caption);\n\n  function SubCaption() {\n    return _Caption.apply(this, arguments) || this;\n  }\n\n  var _proto = SubCaption.prototype;\n\n  _proto.getType = function getType() {\n    return \"caption\";\n  };\n\n  _proto.getName = function getName() {\n    return \"subCaption\";\n  };\n\n  _proto.configure = function configure() {\n    var subCaption = this,\n        chart = subCaption.getFromEnv(\"chart\"),\n        chartAttrs = chart.getFromEnv(\"chart-attrib\"),\n        subCaptionConfig = subCaption.config || {},\n        style = chart.getFromEnv(\"style\"),\n        caption = chart.getChildren(\"caption\")[0],\n        outCanfontFamily = style.outCanfontFamily,\n        outCancolor = style.outCancolor,\n        fontSizeWithUnit = style.fontSizeWithUnit,\n        align = [\"top\", \"center\"];\n    subCaptionConfig.text = (0, _lib.parseUnsafeString)(chartAttrs.subcaption);\n\n    if (!subCaptionConfig.align) {\n      subCaptionConfig.align = _lib.BLANKSTRING;\n    }\n\n    subCaptionConfig.align = (0, _lib.pluck)(chartAttrs.captionposition, chartAttrs.captionalignment, POSITION_CENTER);\n\n    if (caption.config.align) {\n      align = caption.config.align.split(\"-\");\n      align[0] && (align[0] = align[0].toLowerCase());\n      align[1] && (align[1] = align[1].toLowerCase());\n\n      if (align.length < 2) {\n        align[1] = align[0];\n      }\n    }\n\n    switch (align[0]) {\n      case POSITION_TOP:\n        subCaptionConfig.isOnTop = 1;\n        break;\n\n      case POSITION_BOTTOM:\n        subCaptionConfig.isOnTop = 0;\n        break;\n\n      default:\n        subCaptionConfig.isOnTop = (0, _lib.pluckNumber)(chartAttrs.captionontop, 1);\n    }\n\n    subCaptionConfig.alignWithCanvas = (0, _lib.pluckNumber)(chart.aligncaptionwithcanvas, chartAttrs.aligncaptionwithcanvas, 1);\n    subCaptionConfig.horizontalPadding = (0, _lib.pluckNumber)(chartAttrs.captionhorizontalpadding, caption.config.alignWithCanvas ? 0 : 15);\n    subCaptionConfig.style = {\n      fontFamily: (0, _lib.pluck)(chartAttrs.subcaptionfont, chartAttrs.captionfont, outCanfontFamily),\n      color: (0, _lib.convertColor)((0, _lib.pluck)(chartAttrs.subcaptionfontcolor, chartAttrs.captionfontcolor, outCancolor).replace(/^#? ([a-f0-9]+)/gi, \"#$1\")),\n      fontSize: (0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.subcaptionfontsize), (0, _lib.pluckNumber)(mathMax((0, _lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize)) - 3, -1), this.computeFontSize(fontSizeWithUnit)) + (0, _lib.pluckNumber)(chart.subTitleFontSizeExtender, 1)) + PXSTRING,\n      fontWeight: (0, _lib.pluckNumber)(chartAttrs.subcaptionfontbold, chart.subTitleFontWeight, chartAttrs.captionfontbold) === 0 ? _lib.NORMAL : _lib.BOLD\n    };\n    (0, _lib.setLineHeight)(subCaptionConfig.style);\n  };\n\n  _proto.draw = function draw() {\n    var subCaption = this,\n        chart = subCaption.getFromEnv(\"chart\"),\n        animationManager = chart.getFromEnv(\"animationManager\"),\n        caption = chart.getChildren(\"caption\")[0],\n        chartConfig = chart.config,\n        textDirection = chartConfig.textDirection,\n        captionGroup = chart.getChildContainer().captionGroup,\n        subCaptionElement = subCaption.getGraphicalElement(\"subCaptionElement\"),\n        toolTipController = subCaption.getFromEnv(\"toolTipController\"),\n        subCaptionConfig = subCaption.config,\n        subCaptionStyle = subCaptionConfig.style,\n        hasSubCaption = subCaptionConfig.text,\n        align = caption.config.align,\n        subCaptionAttrObj,\n        subCaptionState;\n\n    if (hasSubCaption) {\n      subCaptionAttrObj = {\n        text: subCaptionConfig.text,\n        fill: subCaptionStyle.color,\n        x: subCaptionConfig.x,\n        y: subCaptionConfig.y,\n        \"text-anchor\": align || POSITION_MIDDLE,\n        \"vertical-align\": POSITION_TOP,\n        direction: textDirection,\n        visibility: caption.config.drawCaption ? _lib.visibleStr : _lib.hiddenStr\n      };\n      subCaptionElement = subCaption.addGraphicalElement(\"subCaptionElement\", animationManager.setAnimation({\n        el: subCaptionElement || \"text\",\n        attr: subCaptionAttrObj,\n        container: captionGroup,\n        state: subCaptionState,\n        component: subCaption,\n        hookFn: function hookFn() {\n          this.css(subCaptionStyle);\n        },\n        label: \"text\"\n      }));\n      subCaptionElement.css(subCaptionStyle);\n\n      if (chartConfig.showtooltip) {\n        toolTipController.enableToolTip(subCaptionElement, subCaptionConfig.originalText);\n      } else {\n        toolTipController.disableToolTip(subCaptionElement);\n      }\n    } else {\n      subCaptionElement && subCaption.removeGraphicalElement(subCaptionElement);\n    }\n\n    chartConfig.savedSubCaption = subCaptionElement;\n  };\n\n  _proto.setDimention = function setDimention(pos) {\n    this.config.x = pos.x;\n    this.config.y = pos.y;\n  };\n\n  return SubCaption;\n}(_caption.default);\n\nvar _default = SubCaption;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/charts/src/_internal/components/sub-caption/index.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_lib","_caption","_dependencyManager","_index","mathMax","Math","max","PXSTRING","POSITION_CENTER","POSITION_TOP","POSITION_BOTTOM","POSITION_MIDDLE","addDep","name","type","extension","SubCaption","_Caption","apply","arguments","_proto","prototype","getType","getName","configure","subCaption","chart","getFromEnv","chartAttrs","subCaptionConfig","config","style","caption","getChildren","outCanfontFamily","outCancolor","fontSizeWithUnit","align","text","parseUnsafeString","subcaption","BLANKSTRING","pluck","captionposition","captionalignment","split","toLowerCase","length","isOnTop","pluckNumber","captionontop","alignWithCanvas","aligncaptionwithcanvas","horizontalPadding","captionhorizontalpadding","fontFamily","subcaptionfont","captionfont","color","convertColor","subcaptionfontcolor","captionfontcolor","replace","fontSize","computeFontSize","subcaptionfontsize","captionfontsize","subTitleFontSizeExtender","fontWeight","subcaptionfontbold","subTitleFontWeight","captionfontbold","NORMAL","BOLD","setLineHeight","draw","animationManager","chartConfig","textDirection","captionGroup","getChildContainer","subCaptionElement","getGraphicalElement","toolTipController","subCaptionStyle","hasSubCaption","subCaptionAttrObj","subCaptionState","fill","x","y","direction","visibility","drawCaption","visibleStr","hiddenStr","addGraphicalElement","setAnimation","el","attr","container","state","component","hookFn","css","label","showtooltip","enableToolTip","originalText","disableToolTip","removeGraphicalElement","savedSubCaption","setDimention","pos","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _caption=_interopRequireDefault(require(\"../caption\"));var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _index=_interopRequireDefault(require(\"./index.animation\"));var mathMax=Math.max,PXSTRING=\"px\",POSITION_CENTER=\"center\",POSITION_TOP=\"top\",POSITION_BOTTOM=\"bottom\",POSITION_MIDDLE=\"middle\";(0,_dependencyManager.addDep)({name:\"subcaptionAnimation\",type:\"animationRule\",extension:_index.default});var SubCaption=function(_Caption){(0,_inheritsLoose2.default)(SubCaption,_Caption);function SubCaption(){return _Caption.apply(this,arguments)||this}var _proto=SubCaption.prototype;_proto.getType=function getType(){return\"caption\"};_proto.getName=function getName(){return\"subCaption\"};_proto.configure=function configure(){var subCaption=this,chart=subCaption.getFromEnv(\"chart\"),chartAttrs=chart.getFromEnv(\"chart-attrib\"),subCaptionConfig=subCaption.config||{},style=chart.getFromEnv(\"style\"),caption=chart.getChildren(\"caption\")[0],outCanfontFamily=style.outCanfontFamily,outCancolor=style.outCancolor,fontSizeWithUnit=style.fontSizeWithUnit,align=[\"top\",\"center\"];subCaptionConfig.text=(0,_lib.parseUnsafeString)(chartAttrs.subcaption);if(!subCaptionConfig.align){subCaptionConfig.align=_lib.BLANKSTRING}subCaptionConfig.align=(0,_lib.pluck)(chartAttrs.captionposition,chartAttrs.captionalignment,POSITION_CENTER);if(caption.config.align){align=caption.config.align.split(\"-\");align[0]&&(align[0]=align[0].toLowerCase());align[1]&&(align[1]=align[1].toLowerCase());if(align.length<2){align[1]=align[0]}}switch(align[0]){case POSITION_TOP:subCaptionConfig.isOnTop=1;break;case POSITION_BOTTOM:subCaptionConfig.isOnTop=0;break;default:subCaptionConfig.isOnTop=(0,_lib.pluckNumber)(chartAttrs.captionontop,1)}subCaptionConfig.alignWithCanvas=(0,_lib.pluckNumber)(chart.aligncaptionwithcanvas,chartAttrs.aligncaptionwithcanvas,1);subCaptionConfig.horizontalPadding=(0,_lib.pluckNumber)(chartAttrs.captionhorizontalpadding,caption.config.alignWithCanvas?0:15);subCaptionConfig.style={fontFamily:(0,_lib.pluck)(chartAttrs.subcaptionfont,chartAttrs.captionfont,outCanfontFamily),color:(0,_lib.convertColor)((0,_lib.pluck)(chartAttrs.subcaptionfontcolor,chartAttrs.captionfontcolor,outCancolor).replace(/^#? ([a-f0-9]+)/gi,\"#$1\")),fontSize:(0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.subcaptionfontsize),(0,_lib.pluckNumber)(mathMax((0,_lib.pluckNumber)(this.computeFontSize(chartAttrs.captionfontsize))-3,-1),this.computeFontSize(fontSizeWithUnit))+(0,_lib.pluckNumber)(chart.subTitleFontSizeExtender,1))+PXSTRING,fontWeight:(0,_lib.pluckNumber)(chartAttrs.subcaptionfontbold,chart.subTitleFontWeight,chartAttrs.captionfontbold)===0?_lib.NORMAL:_lib.BOLD};(0,_lib.setLineHeight)(subCaptionConfig.style)};_proto.draw=function draw(){var subCaption=this,chart=subCaption.getFromEnv(\"chart\"),animationManager=chart.getFromEnv(\"animationManager\"),caption=chart.getChildren(\"caption\")[0],chartConfig=chart.config,textDirection=chartConfig.textDirection,captionGroup=chart.getChildContainer().captionGroup,subCaptionElement=subCaption.getGraphicalElement(\"subCaptionElement\"),toolTipController=subCaption.getFromEnv(\"toolTipController\"),subCaptionConfig=subCaption.config,subCaptionStyle=subCaptionConfig.style,hasSubCaption=subCaptionConfig.text,align=caption.config.align,subCaptionAttrObj,subCaptionState;if(hasSubCaption){subCaptionAttrObj={text:subCaptionConfig.text,fill:subCaptionStyle.color,x:subCaptionConfig.x,y:subCaptionConfig.y,\"text-anchor\":align||POSITION_MIDDLE,\"vertical-align\":POSITION_TOP,direction:textDirection,visibility:caption.config.drawCaption?_lib.visibleStr:_lib.hiddenStr};subCaptionElement=subCaption.addGraphicalElement(\"subCaptionElement\",animationManager.setAnimation({el:subCaptionElement||\"text\",attr:subCaptionAttrObj,container:captionGroup,state:subCaptionState,component:subCaption,hookFn:function hookFn(){this.css(subCaptionStyle)},label:\"text\"}));subCaptionElement.css(subCaptionStyle);if(chartConfig.showtooltip){toolTipController.enableToolTip(subCaptionElement,subCaptionConfig.originalText)}else{toolTipController.disableToolTip(subCaptionElement)}}else{subCaptionElement&&subCaption.removeGraphicalElement(subCaptionElement)}chartConfig.savedSubCaption=subCaptionElement};_proto.setDimention=function setDimention(pos){this.config.x=pos.x;this.config.y=pos.y};return SubCaption}(_caption.default);var _default=SubCaption;exports.default=_default;"]},"metadata":{},"sourceType":"script"}