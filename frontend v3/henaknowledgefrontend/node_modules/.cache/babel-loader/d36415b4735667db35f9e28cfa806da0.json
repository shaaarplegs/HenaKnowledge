{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _mergeDeepRight = _interopRequireDefault(require(\"ramda/src/mergeDeepRight\"));\n\nvar _annotationBase = _interopRequireDefault(require(\"./annotation-base\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _utils = require(\"../utils\");\n\nvar _componentBase = _interopRequireDefault(require(\"@fusioncharts/core/src/component-interface/component-base\"));\n\nvar selectionGroup,\n    UNDEF,\n    DEFAULT = \"default\";\n\nvar DEFAULT_COLOR = \"#FF0000\",\n    DEFAULT_BORDER_COLOR = \"#000000\",\n    DEFAULT_ALPHA = 100,\n    DEFAULT_SHOW_BORDER = 0,\n    DEFAULT_BORDER_THICKNESS = 2,\n    DEFAULT_DASH_LEN = 5,\n    DEFAULT_DASH_GAP = 3,\n    FULL_ANGLE_DEGREES = 360,\n    DEFAULT_IS_DASHED = 0,\n    DEFAULT_SHOW_SHADOW = 0,\n    DEFAULT_TOOLTEXT = \"\",\n    RADIAL = \"radial\",\n    DEFAULT_FILL_ANGLE = 0,\n    DEFAULT_IS_VISIBLE = true,\n    SHAPE_TYPE_LINE = \"line\",\n    BORDER_COLOR_NONE = \"none\",\n    GRADIENT_UNIT_OBJECT_BBOX = \"objectBoundingBox\",\n    isDefined = function isDefined(value) {\n  return value === UNDEF ? UNDEF : 1;\n};\n\nvar AnnotationShape = function (_AnnotationBaseShape) {\n  (0, _inheritsLoose2.default)(AnnotationShape, _AnnotationBaseShape);\n\n  function AnnotationShape() {\n    return _AnnotationBaseShape.apply(this, arguments) || this;\n  }\n\n  var _proto = AnnotationShape.prototype;\n\n  _proto.configureAttributes = function configureAttributes(rawConfig) {\n    var _ref, _ref2;\n\n    var shape = this,\n        conf = shape.config,\n        chart = shape.getFromEnv(\"chart\"),\n        group = shape.getLinkedParent();\n    shape.groupConfig = {};\n    shape.rawConfig = {};\n\n    if (group !== null) {\n      shape.groupConfig.x = group._getConfig(\"x\");\n      shape.groupConfig.y = group._getConfig(\"y\");\n      shape.groupConfig.grpXShift = group._getConfig(\"grpXShift\");\n      shape.groupConfig.grpYShift = group._getConfig(\"grpYShift\");\n      shape.groupConfig.color = group._getConfig(\"color\");\n      shape.groupConfig.alpha = group._getConfig(\"alpha\");\n      shape.groupConfig.font = group._getConfig(\"font\");\n      shape.groupConfig.fontSize = group._getConfig(\"fontSize\");\n      shape.groupConfig.textAlign = group._getConfig(\"textAlign\");\n      shape.groupConfig.textVAlign = group._getConfig(\"textVAlign\");\n      shape.groupConfig.rotateText = group._getConfig(\"rotateText\");\n      shape.groupConfig.wrapText = group._getConfig(\"wrapText\");\n      shape.groupConfig.toolText = group._getConfig(\"toolText\");\n      shape.groupConfig.scaleX = group._getConfig(\"scaleX\");\n      shape.groupConfig.scaleY = group._getConfig(\"scaleY\");\n      shape.groupConfig.scaleImageX = group._getConfig(\"scaleImageX\");\n      shape.groupConfig.scaleImageY = group._getConfig(\"scaleImageY\");\n      shape.groupConfig.link = group._getConfig(\"link\");\n    }\n\n    shape.rawConfig = (0, _mergeDeepRight.default)(shape.rawConfig, rawConfig) || {};\n    conf.type = shape.rawConfig.type;\n    conf.color = shape._getFillColor(shape.rawConfig, this.groupConfig);\n    conf.link = (0, _lib.pluck)(shape.rawConfig.link, shape.groupConfig.link);\n    conf.borderThickness = (0, _lib.pluckNumber)(parseFloat(shape.rawConfig.borderThickness), parseFloat(shape.rawConfig.thickness), DEFAULT_BORDER_THICKNESS);\n    conf.showBorder = (0, _lib.pluckNumber)(shape.rawConfig.showBorder, parseFloat(shape.rawConfig.borderThickness), parseFloat(shape.rawConfig.thickness), isDefined(shape.rawConfig.borderColor), isDefined(shape.rawConfig.borderAlpha), DEFAULT_SHOW_BORDER);\n    conf.borderColor = shape._getBorderColor(shape.rawConfig);\n    conf.dashed = (0, _lib.pluckNumber)(shape.rawConfig.dashed, DEFAULT_IS_DASHED);\n    conf.dashLen = (0, _lib.pluckNumber)(shape.rawConfig.dashLen, DEFAULT_DASH_LEN);\n    conf.dashGap = (0, _lib.pluckNumber)(parseFloat(shape.rawConfig.dashGap), DEFAULT_DASH_GAP);\n    conf.dashArrayStr = conf.dashed ? (0, _lib.getDashStyle)(conf.dashLen, conf.dashGap) : \"none\";\n    conf.x = (0, _lib.pluckNumber)(shape.rawConfig.x, shape.rawConfig.xPos, 0);\n    conf.y = (0, _lib.pluckNumber)(shape.rawConfig.y, shape.rawConfig.yPos, 0);\n    conf.tox = (0, _lib.pluckNumber)(shape.rawConfig.toX, conf.x, 0);\n    conf.toy = (0, _lib.pluckNumber)(shape.rawConfig.toY, conf.y, 0);\n    conf.toy >= 0 && conf.y >= 0 && conf.toy < conf.y && (_ref = [conf.toy, conf.y], conf.y = _ref[0], conf.toy = _ref[1], _ref);\n    conf.tox >= 0 && conf.x >= 0 && conf.tox < conf.x && (_ref2 = [conf.tox, conf.x], conf.x = _ref2[0], conf.tox = _ref2[1], _ref2);\n    conf.showShadow = (0, _lib.pluckNumber)(shape.rawConfig.showShadow, group.config.showShadow, DEFAULT_SHOW_SHADOW);\n    conf.toolText = (0, _lib.getFirstValue)(shape.rawConfig.toolText, this.groupConfig.toolText, DEFAULT_TOOLTEXT);\n    conf.isVisible = (0, _utils.pluckBoolean)(shape.rawConfig.isVisible, DEFAULT_IS_VISIBLE);\n    conf.id = (0, _lib.pluck)(shape.rawConfig.id, shape.getId(shape.config.elementType));\n    conf.containerConfiguration = {\n      id: shape.getLinkedParent().config.id,\n      label: \"group\",\n      isParent: true\n    };\n\n    shape._clickHandler = shape._clickHandler || function (event) {\n      shape.config.link && shape.getFromEnv(\"linkClickFN\").call({\n        link: shape.config.link\n      }, true);\n\n      if (shape.rawConfig.onAnnotationClick instanceof Function) {\n        shape.rawConfig.onAnnotationClick();\n      } else if (group.rawConfig.onAnnotationClick instanceof Function) {\n        group.rawConfig.onAnnotationClick();\n      } else {\n        chart.fireChartInstanceEvent(\"annotationclick\", (0, _utils.getEventData)(event, shape, chart), UNDEF, UNDEF, event);\n      }\n    };\n\n    shape._rollOverHandler = shape._rollOverHandler || function (event) {\n      if (shape.rawConfig.onAnnotationRollover instanceof Function) {\n        shape.rawConfig.onAnnotationRollover();\n      } else if (group.rawConfig.onAnnotationRollover instanceof Function) {\n        group.rawConfig.onAnnotationRollover();\n      } else {\n        chart.fireChartInstanceEvent(\"annotationrollover\", (0, _utils.getEventData)(event, shape, chart), UNDEF, UNDEF, event);\n      }\n    };\n\n    shape._rollOutHandler = shape._rollOutHandler || function (event) {\n      if (shape.rawConfig.onAnnotationRollout instanceof Function) {\n        shape.rawConfig.onAnnotationRollout();\n      } else if (group.rawConfig.onAnnotationRollout instanceof Function) {\n        group.rawConfig.onAnnotationRollout();\n      } else {\n        chart.fireChartInstanceEvent(\"annotationrollout\", (0, _utils.getEventData)(event, shape, chart), UNDEF, UNDEF, event);\n      }\n    };\n\n    if (shape.rawConfig.customComponent instanceof _componentBase.default) {\n      conf.customComponent = conf.rawConfig.customComponent;\n    } else {\n      delete conf.customComponent;\n    }\n  };\n\n  _proto._getBorderColor = function _getBorderColor(rawConfig) {\n    var shape = this,\n        borderColor = BORDER_COLOR_NONE,\n        colorObj = {\n      color: _lib.BLANKSTRING,\n      alpha: _lib.BLANKSTRING\n    };\n\n    if (shape.getType() !== SHAPE_TYPE_LINE) {\n      colorObj.color = shape.config.rawBorderColor = (0, _lib.pluck)(rawConfig.borderColor, rawConfig.fillColor && rawConfig.fillColor.split(\",\")[0], rawConfig.color && rawConfig.color.split(\",\")[0], DEFAULT_BORDER_COLOR);\n\n      if (shape.config.showBorder === 0) {\n        colorObj.alpha = 1;\n        shape.config.borderThickness = DEFAULT_BORDER_THICKNESS;\n      } else {\n        colorObj.alpha = shape.config.rawBorderAlpha = (0, _lib.pluckNumber)(parseFloat(rawConfig.borderAlpha), parseFloat(rawConfig.alpha), DEFAULT_ALPHA);\n      }\n\n      borderColor = (0, _lib.toRaphaelColor)(colorObj);\n    }\n\n    return borderColor;\n  };\n\n  _proto._getFillColor = function _getFillColor(rawConfig, groupConfig) {\n    var shape = this,\n        shapeType = shape.config.type,\n        colorObj = {\n      color: _lib.BLANKSTRING,\n      alpha: _lib.BLANKSTRING,\n      angle: _lib.BLANKSTRING,\n      ratio: _lib.BLANKSTRING,\n      radialGradient: shapeType === \"circle\" || shapeType === \"arc\"\n    };\n\n    if (shapeType === \"line\" || shapeType === \"image\") {\n      colorObj.color = rawConfig.color || groupConfig.color || DEFAULT_COLOR;\n      colorObj.alpha = (0, _lib.pluckNumber)(parseFloat(rawConfig.alpha), groupConfig.alpha, DEFAULT_ALPHA);\n    } else {\n      colorObj.color = rawConfig.fillColor || rawConfig.color || groupConfig.color || DEFAULT_COLOR;\n      colorObj.alpha = (0, _lib.pluck)(rawConfig.fillAlpha, parseFloat(rawConfig.alpha), groupConfig.alpha, DEFAULT_ALPHA);\n      colorObj.angle = FULL_ANGLE_DEGREES - (0, _lib.pluckNumber)(rawConfig.fillAngle, DEFAULT_FILL_ANGLE);\n      colorObj.ratio = (0, _lib.pluck)(rawConfig.fillRatio);\n\n      if (rawConfig.fillPattern) {\n        colorObj.radialGradient = rawConfig.fillPattern.toLowerCase() === RADIAL || (0, _lib.pluckNumber)(rawConfig.fillPattern);\n      }\n\n      if (colorObj.radialGradient) {\n        colorObj.gradientUnits = GRADIENT_UNIT_OBJECT_BBOX;\n        colorObj.cx = .5;\n        colorObj.cy = .5;\n        colorObj.fx = .5;\n        colorObj.fy = .5;\n      }\n    }\n\n    shape.config.rawColor = colorObj.color;\n    shape.config.rawAlpha = colorObj.alpha;\n    shape.config.rawAngle = colorObj.angle;\n    shape.config.rawFillPattern = colorObj.radialGradient ? \"radial\" : \"linear\";\n    shape.config.rawRatio = colorObj.ratio;\n    return (0, _lib.toRaphaelColor)(colorObj);\n  };\n\n  AnnotationShape.destroySelectionBox = function destroySelectionBox() {\n    selectionGroup && selectionGroup.remove();\n  };\n\n  _proto._applyAttr = function _applyAttr(attrs) {\n    var shape = this,\n        elementType = shape.config.elementType,\n        attr = Object.assign({}, attrs),\n        css;\n\n    if (elementType === \"image\" && !shape.config.url) {\n      return;\n    }\n\n    css = shape.rawConfig.css || {};\n    css.cursor = shape.config.link ? _lib.POINTER : DEFAULT;\n\n    if (shape.config.isVisible) {\n      attr.visibility = _lib.visibleStr;\n    } else {\n      attr.visibility = _lib.hiddenStr;\n    }\n\n    shape.addEventListener(\"fc-click\", shape._clickHandler);\n    shape.addEventListener(\"fc-mouseover\", shape._rollOverHandler);\n    shape.addEventListener(\"fc-mouseout\", shape._rollOutHandler);\n    shape.config.animationLabel = shape.rawConfig.animationLabel || shape.getLinkedParent().config.animationLabel || elementType;\n    shape.addGraphicalElement({\n      el: elementType,\n      attr: attr,\n      css: css,\n      container: shape.config.containerConfiguration,\n      component: shape.config.customComponent || shape,\n      label: shape.config.animationLabel,\n      id: shape.config.id,\n      tooltext: shape.config.toolText,\n      shadow: {\n        opacity: shape.config.showShadow !== 0 ? 1 : 0,\n        useFilter: elementType === \"path\" ? 0 : 1\n      },\n      outlineText: attr.outlineText\n    });\n  };\n\n  _proto.getScaledVal = function getScaledVal(val, isX) {\n    var group = this.getLinkedParent();\n\n    if (group) {\n      return group.getScaledVal(val, isX);\n    }\n\n    return val;\n  };\n\n  _proto.getScaledFont = function getScaledFont(fontSize) {\n    var group = this.getLinkedParent();\n\n    if (group) {\n      return group.getScaledFont(fontSize);\n    }\n\n    return fontSize;\n  };\n\n  _proto.getScaledImageVal = function getScaledImageVal(val, isX) {\n    var group = this.getLinkedParent();\n\n    if (group) {\n      return group.getScaledImageVal(val, isX);\n    }\n\n    return val;\n  };\n\n  _proto.getScaleInfo = function getScaleInfo() {\n    return this.getLinkedParent().config.scaleInfo;\n  };\n\n  _proto.draw = function draw() {\n    var shape = this;\n    shape.parseAndSetAttribute();\n\n    shape._applyAttr(shape._getAnnotationAttrs() || {});\n  };\n\n  return AnnotationShape;\n}(_annotationBase.default);\n\nvar _default = AnnotationShape;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/annotation/shapes/annotation-shape.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_mergeDeepRight","_annotationBase","_lib","_utils","_componentBase","selectionGroup","UNDEF","DEFAULT","DEFAULT_COLOR","DEFAULT_BORDER_COLOR","DEFAULT_ALPHA","DEFAULT_SHOW_BORDER","DEFAULT_BORDER_THICKNESS","DEFAULT_DASH_LEN","DEFAULT_DASH_GAP","FULL_ANGLE_DEGREES","DEFAULT_IS_DASHED","DEFAULT_SHOW_SHADOW","DEFAULT_TOOLTEXT","RADIAL","DEFAULT_FILL_ANGLE","DEFAULT_IS_VISIBLE","SHAPE_TYPE_LINE","BORDER_COLOR_NONE","GRADIENT_UNIT_OBJECT_BBOX","isDefined","value","AnnotationShape","_AnnotationBaseShape","apply","arguments","_proto","prototype","configureAttributes","rawConfig","_ref","_ref2","shape","conf","config","chart","getFromEnv","group","getLinkedParent","groupConfig","x","_getConfig","y","grpXShift","grpYShift","color","alpha","font","fontSize","textAlign","textVAlign","rotateText","wrapText","toolText","scaleX","scaleY","scaleImageX","scaleImageY","link","type","_getFillColor","pluck","borderThickness","pluckNumber","parseFloat","thickness","showBorder","borderColor","borderAlpha","_getBorderColor","dashed","dashLen","dashGap","dashArrayStr","getDashStyle","xPos","yPos","tox","toX","toy","toY","showShadow","getFirstValue","isVisible","pluckBoolean","id","getId","elementType","containerConfiguration","label","isParent","_clickHandler","event","call","onAnnotationClick","Function","fireChartInstanceEvent","getEventData","_rollOverHandler","onAnnotationRollover","_rollOutHandler","onAnnotationRollout","customComponent","colorObj","BLANKSTRING","getType","rawBorderColor","fillColor","split","rawBorderAlpha","toRaphaelColor","shapeType","angle","ratio","radialGradient","fillAlpha","fillAngle","fillRatio","fillPattern","toLowerCase","gradientUnits","cx","cy","fx","fy","rawColor","rawAlpha","rawAngle","rawFillPattern","rawRatio","destroySelectionBox","remove","_applyAttr","attrs","attr","Object","assign","css","url","cursor","POINTER","visibility","visibleStr","hiddenStr","addEventListener","animationLabel","addGraphicalElement","el","container","component","tooltext","shadow","opacity","useFilter","outlineText","getScaledVal","val","isX","getScaledFont","getScaledImageVal","getScaleInfo","scaleInfo","draw","parseAndSetAttribute","_getAnnotationAttrs","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _mergeDeepRight=_interopRequireDefault(require(\"ramda/src/mergeDeepRight\"));var _annotationBase=_interopRequireDefault(require(\"./annotation-base\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _utils=require(\"../utils\");var _componentBase=_interopRequireDefault(require(\"@fusioncharts/core/src/component-interface/component-base\"));var selectionGroup,UNDEF,DEFAULT=\"default\";var DEFAULT_COLOR=\"#FF0000\",DEFAULT_BORDER_COLOR=\"#000000\",DEFAULT_ALPHA=100,DEFAULT_SHOW_BORDER=0,DEFAULT_BORDER_THICKNESS=2,DEFAULT_DASH_LEN=5,DEFAULT_DASH_GAP=3,FULL_ANGLE_DEGREES=360,DEFAULT_IS_DASHED=0,DEFAULT_SHOW_SHADOW=0,DEFAULT_TOOLTEXT=\"\",RADIAL=\"radial\",DEFAULT_FILL_ANGLE=0,DEFAULT_IS_VISIBLE=true,SHAPE_TYPE_LINE=\"line\",BORDER_COLOR_NONE=\"none\",GRADIENT_UNIT_OBJECT_BBOX=\"objectBoundingBox\",isDefined=function isDefined(value){return value===UNDEF?UNDEF:1};var AnnotationShape=function(_AnnotationBaseShape){(0,_inheritsLoose2.default)(AnnotationShape,_AnnotationBaseShape);function AnnotationShape(){return _AnnotationBaseShape.apply(this,arguments)||this}var _proto=AnnotationShape.prototype;_proto.configureAttributes=function configureAttributes(rawConfig){var _ref,_ref2;var shape=this,conf=shape.config,chart=shape.getFromEnv(\"chart\"),group=shape.getLinkedParent();shape.groupConfig={};shape.rawConfig={};if(group!==null){shape.groupConfig.x=group._getConfig(\"x\");shape.groupConfig.y=group._getConfig(\"y\");shape.groupConfig.grpXShift=group._getConfig(\"grpXShift\");shape.groupConfig.grpYShift=group._getConfig(\"grpYShift\");shape.groupConfig.color=group._getConfig(\"color\");shape.groupConfig.alpha=group._getConfig(\"alpha\");shape.groupConfig.font=group._getConfig(\"font\");shape.groupConfig.fontSize=group._getConfig(\"fontSize\");shape.groupConfig.textAlign=group._getConfig(\"textAlign\");shape.groupConfig.textVAlign=group._getConfig(\"textVAlign\");shape.groupConfig.rotateText=group._getConfig(\"rotateText\");shape.groupConfig.wrapText=group._getConfig(\"wrapText\");shape.groupConfig.toolText=group._getConfig(\"toolText\");shape.groupConfig.scaleX=group._getConfig(\"scaleX\");shape.groupConfig.scaleY=group._getConfig(\"scaleY\");shape.groupConfig.scaleImageX=group._getConfig(\"scaleImageX\");shape.groupConfig.scaleImageY=group._getConfig(\"scaleImageY\");shape.groupConfig.link=group._getConfig(\"link\")}shape.rawConfig=(0,_mergeDeepRight.default)(shape.rawConfig,rawConfig)||{};conf.type=shape.rawConfig.type;conf.color=shape._getFillColor(shape.rawConfig,this.groupConfig);conf.link=(0,_lib.pluck)(shape.rawConfig.link,shape.groupConfig.link);conf.borderThickness=(0,_lib.pluckNumber)(parseFloat(shape.rawConfig.borderThickness),parseFloat(shape.rawConfig.thickness),DEFAULT_BORDER_THICKNESS);conf.showBorder=(0,_lib.pluckNumber)(shape.rawConfig.showBorder,parseFloat(shape.rawConfig.borderThickness),parseFloat(shape.rawConfig.thickness),isDefined(shape.rawConfig.borderColor),isDefined(shape.rawConfig.borderAlpha),DEFAULT_SHOW_BORDER);conf.borderColor=shape._getBorderColor(shape.rawConfig);conf.dashed=(0,_lib.pluckNumber)(shape.rawConfig.dashed,DEFAULT_IS_DASHED);conf.dashLen=(0,_lib.pluckNumber)(shape.rawConfig.dashLen,DEFAULT_DASH_LEN);conf.dashGap=(0,_lib.pluckNumber)(parseFloat(shape.rawConfig.dashGap),DEFAULT_DASH_GAP);conf.dashArrayStr=conf.dashed?(0,_lib.getDashStyle)(conf.dashLen,conf.dashGap):\"none\";conf.x=(0,_lib.pluckNumber)(shape.rawConfig.x,shape.rawConfig.xPos,0);conf.y=(0,_lib.pluckNumber)(shape.rawConfig.y,shape.rawConfig.yPos,0);conf.tox=(0,_lib.pluckNumber)(shape.rawConfig.toX,conf.x,0);conf.toy=(0,_lib.pluckNumber)(shape.rawConfig.toY,conf.y,0);conf.toy>=0&&conf.y>=0&&conf.toy<conf.y&&(_ref=[conf.toy,conf.y],conf.y=_ref[0],conf.toy=_ref[1],_ref);conf.tox>=0&&conf.x>=0&&conf.tox<conf.x&&(_ref2=[conf.tox,conf.x],conf.x=_ref2[0],conf.tox=_ref2[1],_ref2);conf.showShadow=(0,_lib.pluckNumber)(shape.rawConfig.showShadow,group.config.showShadow,DEFAULT_SHOW_SHADOW);conf.toolText=(0,_lib.getFirstValue)(shape.rawConfig.toolText,this.groupConfig.toolText,DEFAULT_TOOLTEXT);conf.isVisible=(0,_utils.pluckBoolean)(shape.rawConfig.isVisible,DEFAULT_IS_VISIBLE);conf.id=(0,_lib.pluck)(shape.rawConfig.id,shape.getId(shape.config.elementType));conf.containerConfiguration={id:shape.getLinkedParent().config.id,label:\"group\",isParent:true};shape._clickHandler=shape._clickHandler||function(event){shape.config.link&&shape.getFromEnv(\"linkClickFN\").call({link:shape.config.link},true);if(shape.rawConfig.onAnnotationClick instanceof Function){shape.rawConfig.onAnnotationClick()}else if(group.rawConfig.onAnnotationClick instanceof Function){group.rawConfig.onAnnotationClick()}else{chart.fireChartInstanceEvent(\"annotationclick\",(0,_utils.getEventData)(event,shape,chart),UNDEF,UNDEF,event)}};shape._rollOverHandler=shape._rollOverHandler||function(event){if(shape.rawConfig.onAnnotationRollover instanceof Function){shape.rawConfig.onAnnotationRollover()}else if(group.rawConfig.onAnnotationRollover instanceof Function){group.rawConfig.onAnnotationRollover()}else{chart.fireChartInstanceEvent(\"annotationrollover\",(0,_utils.getEventData)(event,shape,chart),UNDEF,UNDEF,event)}};shape._rollOutHandler=shape._rollOutHandler||function(event){if(shape.rawConfig.onAnnotationRollout instanceof Function){shape.rawConfig.onAnnotationRollout()}else if(group.rawConfig.onAnnotationRollout instanceof Function){group.rawConfig.onAnnotationRollout()}else{chart.fireChartInstanceEvent(\"annotationrollout\",(0,_utils.getEventData)(event,shape,chart),UNDEF,UNDEF,event)}};if(shape.rawConfig.customComponent instanceof _componentBase.default){conf.customComponent=conf.rawConfig.customComponent}else{delete conf.customComponent}};_proto._getBorderColor=function _getBorderColor(rawConfig){var shape=this,borderColor=BORDER_COLOR_NONE,colorObj={color:_lib.BLANKSTRING,alpha:_lib.BLANKSTRING};if(shape.getType()!==SHAPE_TYPE_LINE){colorObj.color=shape.config.rawBorderColor=(0,_lib.pluck)(rawConfig.borderColor,rawConfig.fillColor&&rawConfig.fillColor.split(\",\")[0],rawConfig.color&&rawConfig.color.split(\",\")[0],DEFAULT_BORDER_COLOR);if(shape.config.showBorder===0){colorObj.alpha=1;shape.config.borderThickness=DEFAULT_BORDER_THICKNESS}else{colorObj.alpha=shape.config.rawBorderAlpha=(0,_lib.pluckNumber)(parseFloat(rawConfig.borderAlpha),parseFloat(rawConfig.alpha),DEFAULT_ALPHA)}borderColor=(0,_lib.toRaphaelColor)(colorObj)}return borderColor};_proto._getFillColor=function _getFillColor(rawConfig,groupConfig){var shape=this,shapeType=shape.config.type,colorObj={color:_lib.BLANKSTRING,alpha:_lib.BLANKSTRING,angle:_lib.BLANKSTRING,ratio:_lib.BLANKSTRING,radialGradient:shapeType===\"circle\"||shapeType===\"arc\"};if(shapeType===\"line\"||shapeType===\"image\"){colorObj.color=rawConfig.color||groupConfig.color||DEFAULT_COLOR;colorObj.alpha=(0,_lib.pluckNumber)(parseFloat(rawConfig.alpha),groupConfig.alpha,DEFAULT_ALPHA)}else{colorObj.color=rawConfig.fillColor||rawConfig.color||groupConfig.color||DEFAULT_COLOR;colorObj.alpha=(0,_lib.pluck)(rawConfig.fillAlpha,parseFloat(rawConfig.alpha),groupConfig.alpha,DEFAULT_ALPHA);colorObj.angle=FULL_ANGLE_DEGREES-(0,_lib.pluckNumber)(rawConfig.fillAngle,DEFAULT_FILL_ANGLE);colorObj.ratio=(0,_lib.pluck)(rawConfig.fillRatio);if(rawConfig.fillPattern){colorObj.radialGradient=rawConfig.fillPattern.toLowerCase()===RADIAL||(0,_lib.pluckNumber)(rawConfig.fillPattern)}if(colorObj.radialGradient){colorObj.gradientUnits=GRADIENT_UNIT_OBJECT_BBOX;colorObj.cx=.5;colorObj.cy=.5;colorObj.fx=.5;colorObj.fy=.5}}shape.config.rawColor=colorObj.color;shape.config.rawAlpha=colorObj.alpha;shape.config.rawAngle=colorObj.angle;shape.config.rawFillPattern=colorObj.radialGradient?\"radial\":\"linear\";shape.config.rawRatio=colorObj.ratio;return(0,_lib.toRaphaelColor)(colorObj)};AnnotationShape.destroySelectionBox=function destroySelectionBox(){selectionGroup&&selectionGroup.remove()};_proto._applyAttr=function _applyAttr(attrs){var shape=this,elementType=shape.config.elementType,attr=Object.assign({},attrs),css;if(elementType===\"image\"&&!shape.config.url){return}css=shape.rawConfig.css||{};css.cursor=shape.config.link?_lib.POINTER:DEFAULT;if(shape.config.isVisible){attr.visibility=_lib.visibleStr}else{attr.visibility=_lib.hiddenStr}shape.addEventListener(\"fc-click\",shape._clickHandler);shape.addEventListener(\"fc-mouseover\",shape._rollOverHandler);shape.addEventListener(\"fc-mouseout\",shape._rollOutHandler);shape.config.animationLabel=shape.rawConfig.animationLabel||shape.getLinkedParent().config.animationLabel||elementType;shape.addGraphicalElement({el:elementType,attr:attr,css:css,container:shape.config.containerConfiguration,component:shape.config.customComponent||shape,label:shape.config.animationLabel,id:shape.config.id,tooltext:shape.config.toolText,shadow:{opacity:shape.config.showShadow!==0?1:0,useFilter:elementType===\"path\"?0:1},outlineText:attr.outlineText})};_proto.getScaledVal=function getScaledVal(val,isX){var group=this.getLinkedParent();if(group){return group.getScaledVal(val,isX)}return val};_proto.getScaledFont=function getScaledFont(fontSize){var group=this.getLinkedParent();if(group){return group.getScaledFont(fontSize)}return fontSize};_proto.getScaledImageVal=function getScaledImageVal(val,isX){var group=this.getLinkedParent();if(group){return group.getScaledImageVal(val,isX)}return val};_proto.getScaleInfo=function getScaleInfo(){return this.getLinkedParent().config.scaleInfo};_proto.draw=function draw(){var shape=this;shape.parseAndSetAttribute();shape._applyAttr(shape._getAnnotationAttrs()||{})};return AnnotationShape}(_annotationBase.default);var _default=AnnotationShape;exports.default=_default;"]},"metadata":{},"sourceType":"script"}