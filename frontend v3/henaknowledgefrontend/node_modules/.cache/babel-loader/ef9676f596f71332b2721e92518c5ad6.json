{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _message = _interopRequireDefault(require(\"./message\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar mathMin = Math.min;\nvar defAnimEffect = \"normal\",\n    PX = \"px\",\n    VIEL_BG_COLOR = \"000000\",\n    DIALOG_BG_COLOR = \"ffffff\";\nvar UNDEF;\n\nvar MessageLogger = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(MessageLogger, _ComponentInterface);\n\n  function MessageLogger() {\n    var _this;\n\n    _this = _ComponentInterface.call(this) || this;\n    _this.pIndex = 1;\n    _this.linkedItems = _this.linkedItems || (_this.linkedItems = {});\n    _this.components = _this.components || {};\n    _this.components.messages = _this.components.messages || [];\n    _this.graphics = _this.graphics || {};\n    _this.config = _this.config || (_this.config = {});\n    return _this;\n  }\n\n  var _proto = MessageLogger.prototype;\n\n  _proto.getType = function getType() {\n    return \"extension\";\n  };\n\n  _proto.getName = function getName() {\n    return \"MessageLogger\";\n  };\n\n  _proto.configure = function configure(chart) {\n    this.linkedItems.chart = chart;\n    var chartAttr = chart.getFromEnv(\"chart-attrib\") || {},\n        usemessagelog = this.config.usemessagelog = chart.getFromEnv(\"chartConfig\").usemessagelog;\n    this.config.messageLogWPercent = mathMin((0, _lib.pluckNumber)(chartAttr.messagelogwpercent, 80), 100);\n    this.config.messageLogHPercent = mathMin((0, _lib.pluckNumber)(chartAttr.messageloghpercent, 70), 100);\n    this.config.messageLogShowTitle = (0, _lib.pluckNumber)(chartAttr.messagelogshowtitle, 1);\n    this.config.messageLogTitle = (0, _lib.pluck)(chartAttr.messagelogtitle, \"Message Log\");\n    this.config.messageLogColor = (0, _lib.pluck)(chartAttr.messagelogcolor, \"#fbfbfb\").replace(/^#?([a-f0-9]+)/gi, \"$1\");\n    this.config.messageLogColorRgb = (0, _lib.HEXtoRGB)(this.config.messageLogColor);\n    this.config.messageGoesToJS = (0, _lib.pluckNumber)(chartAttr.messagegoestojs, 0);\n    this.config.messageGoesToLog = (0, _lib.pluckNumber)(chartAttr.messagegoestolog, 1);\n    this.config.messageJSHandler = (0, _lib.pluck)(chartAttr.messagejshandler, \"\");\n    this.config.messagePassAllToJS = (0, _lib.pluckNumber)(chartAttr.messagepassalltojs, 0);\n    this.config.messagePassAsObject = (0, _lib.pluckNumber)(chartAttr.messagepassasobject, 0);\n    this.config.messageLogIsCancelable = (0, _lib.pluckNumber)(chartAttr.messagelogiscancelable, 1);\n    this.config.alwaysShowMessageLogMenu = (0, _lib.pluckNumber)(chartAttr.alwaysshowmessagelogmenu, usemessagelog);\n    chart.config.useShowLogMenu = usemessagelog && this.config.messageGoesToLog;\n    this.config.dynamicScrolling = false;\n    this.config.scrollToBottom = true;\n  };\n\n  _proto._createMessage = function _createMessage(messageObj) {\n    var messageObject = new _message.default(messageObj, this);\n\n    if (this.graphics.container) {\n      messageObject.draw();\n    }\n\n    return messageObject;\n  };\n\n  _proto.addLog = function addLog(messageObj) {\n    var messages = this.components.messages,\n        msgGoesToLog = (0, _lib.pluckNumber)(messageObj.msgGoesToLog, this.config.messageGoesToLog),\n        msgGoesToJS = (0, _lib.pluckNumber)(messageObj.msgGoesToJS, this.config.messageGoesToJS),\n        globalJSFunc = window[this.config.messageJSHandler],\n        msgId = (0, _lib.pluck)(messageObj.msgId, \"\"),\n        title = (0, _lib.pluck)(messageObj.msgTitle, \"\"),\n        msg = (0, _lib.pluck)(messageObj.msgText, \"\"),\n        msgType = (0, _lib.pluck)(messageObj.msgType, \"literal\"),\n        message;\n\n    if (this.config.usemessagelog === 0) {\n      return;\n    }\n\n    if (msgGoesToJS && globalJSFunc && typeof globalJSFunc === \"function\") {\n      this.config.messagePassAllToJS ? this.config.messagePassAsObject ? globalJSFunc(messageObj) : globalJSFunc(msgId, title, msg, msgType) : globalJSFunc(msg);\n    }\n\n    if (messageObj.clearLog === \"1\") {\n      this.clearLog();\n    }\n\n    if (msgGoesToLog && (messageObj.msgTitle || messageObj.msgText)) {\n      message = this._createMessage(messageObj);\n      messages.push(message);\n\n      if (messages.length === 1 && !this.config.visible) {\n        this.show();\n      }\n    }\n  };\n\n  _proto.show = function show() {\n    if (!this.config.visible && this.config.usemessagelog === 1) {\n      this.config.visible = true;\n      this.draw();\n\n      if (!this.graphics.container) {\n        this.draw();\n      }\n\n      this.graphics.container && this.graphics.container.show();\n    }\n  };\n\n  _proto.hide = function hide() {\n    this.config.visible = false;\n    this.graphics.container && this.graphics.container.hide();\n  };\n\n  _proto.clearLog = function clearLog() {\n    var messages = this.components.messages,\n        i,\n        l = messages.length;\n\n    for (i = 0; i < l; i += 1) {\n      messages[i] && messages[i].dispose && messages[i].dispose();\n    }\n\n    messages.splice(0, l);\n  };\n\n  _proto.isDrawn = function isDrawn() {\n    return !!this.graphics.container;\n  };\n\n  _proto.draw = function draw() {\n    var messages = this.components.messages,\n        i,\n        l;\n\n    if (this.config.usemessagelog === 0) {\n      if (this.isDrawn()) {\n        this.clearLog();\n        this.hide();\n      }\n    } else {\n      this._createHTMLDialogue();\n\n      if (!this.config.visible) {\n        this.hide();\n      }\n\n      l = messages.length;\n\n      for (i = 0; i < l; i += 1) {\n        messages[i] && messages[i].draw && messages[i].draw();\n      }\n    }\n  };\n\n  _proto._createHTMLDialogue = function _createHTMLDialogue() {\n    var msLogger = this,\n        config = this.config,\n        graphics = this.graphics,\n        paper = this.getFromEnv(\"paper\"),\n        chartConfig = this.linkedItems.chart.config,\n        chartWidth = chartConfig.width,\n        chartHeight = chartConfig.height,\n        styles = chartConfig.style,\n        inCanvasStyle = styles && styles.inCanvasStyle,\n        messageLogWPercent = this.config.messageLogWPercent,\n        messageLogHPercent = this.config.messageLogHPercent,\n        messageLogShowTitle = this.config.messageLogShowTitle,\n        messageLogIsCancelable = this.config.messageLogIsCancelable,\n        messageLogColor = this.config.messageLogColor,\n        messageLogTitle = this.config.messageLogTitle,\n        closeBtnRadius = 6,\n        closeBtnContainerW = closeBtnRadius * 3,\n        closeBtnContainerH = closeBtnRadius * 3,\n        closeBtnYPos = closeBtnContainerH / 2,\n        hPadding = 5 + closeBtnRadius,\n        vPadding = 5 + closeBtnRadius,\n        dialogWidth = chartWidth * (messageLogWPercent / 100),\n        dialogHeight = chartHeight * (messageLogHPercent / 100),\n        dialogXPos = (chartWidth - dialogWidth) / 2,\n        dialogYPos = (chartHeight - dialogHeight) / 2,\n        textAreaWidth = dialogWidth - closeBtnContainerW - hPadding * 2,\n        textAreaHeight = dialogHeight - closeBtnContainerH - vPadding * 2,\n        veilBgColor = VIEL_BG_COLOR,\n        dialogBgColor = DIALOG_BG_COLOR,\n        dialogStrokeColor = messageLogColor,\n        logBGColor = messageLogColor,\n        container = graphics.container,\n        transposeAnimDuration = this.isDrawn() && chartConfig.animation && chartConfig.animation.transposeAnimDuration,\n        tempAttrObj,\n        dialogAttr,\n        logBgAttr,\n        logWrapperAttr;\n\n    if (!container) {\n      container = graphics.container = paper.html(\"div\", {\n        fill: \"transparent\"\n      }, {\n        fontSize: 10 + PX,\n        lineHeight: 15 + PX\n      }, this.getFromEnv(\"chart-container\"));\n      graphics.veil = paper.html(\"div\", {\n        id: \"veil\",\n        fill: veilBgColor,\n        opacity: .1\n      }, UNDEF, container).on(\"fc-click\", function () {\n        messageLogIsCancelable && msLogger.hide();\n      });\n\n      if (messageLogTitle && messageLogShowTitle) {\n        graphics.title = paper.html(\"p\", {\n          id: \"Title\",\n          innerHTML: messageLogTitle,\n          x: 5,\n          y: 5\n        }, {\n          \"font-weight\": \"bold\"\n        }, container);\n      }\n\n      graphics.dialog = paper.html(\"div\", {\n        id: \"dialog\",\n        strokeWidth: 1\n      }, {\n        borderRadius: 5 + PX,\n        boxShadow: \"1px 1px 3px #000000\",\n        \"-webkit-border-radius\": 5 + PX,\n        \"-webkit-box-shadow\": \"1px 1px 3px #000000\",\n        filter: 'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color=\"#000000\")'\n      }, container);\n      graphics.logBackground = paper.html(\"div\", {\n        id: \"dialogBackground\",\n        x: 0,\n        y: 0\n      }, UNDEF, graphics.dialog);\n\n      if (messageLogIsCancelable) {\n        graphics.closeButton = paper.html(\"div\", {\n          id: \"closeButton\",\n          x: dialogWidth - vPadding - 3,\n          y: closeBtnYPos - 7,\n          innerHTML: \"<b>x</b>\"\n        }, {\n          cursor: \"pointer\",\n          _cursor: \"hand\"\n        }, graphics.dialog).on(\"fc-click\", function () {\n          messageLogIsCancelable && msLogger.hide();\n        });\n      }\n\n      graphics.logWrapper = paper.html(\"div\", {\n        id: \"logWrapper\"\n      }, {\n        overflow: \"auto\"\n      }, graphics.dialog).on(\"scroll\", function () {\n        var wrapper = this,\n            scrollTop = wrapper && wrapper.scrollTop,\n            scrollHeight = wrapper && wrapper.scrollHeight,\n            wrapperHeight = wrapper && wrapper.offsetHeight;\n\n        if (config.dynamicScrolling) {\n          config.dynamicScrolling = false;\n          return;\n        }\n\n        config.scrollToBottom = scrollHeight - scrollTop === wrapperHeight;\n      });\n      graphics.log = paper.html(\"div\", {\n        id: \"log\",\n        x: 0,\n        y: 0\n      }, {}, graphics.logWrapper);\n    }\n\n    container.css({\n      fontFamily: inCanvasStyle.fontFamily\n    });\n    graphics.dialog.attr({\n      fill: dialogBgColor,\n      stroke: dialogStrokeColor\n    });\n    graphics.logBackground.attr({\n      fill: logBGColor\n    });\n    tempAttrObj = {\n      width: chartWidth,\n      height: chartHeight\n    };\n    dialogAttr = {\n      x: dialogXPos,\n      y: dialogYPos,\n      width: dialogWidth,\n      height: dialogHeight\n    };\n    logBgAttr = {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n    logWrapperAttr = {\n      x: (dialogWidth - textAreaWidth) / 2,\n      y: (dialogHeight - textAreaHeight) / 2,\n      width: textAreaWidth,\n      height: textAreaHeight\n    };\n\n    if (transposeAnimDuration) {\n      container.animate(tempAttrObj, transposeAnimDuration, defAnimEffect);\n      graphics.veil.animate(tempAttrObj, transposeAnimDuration, defAnimEffect);\n      graphics.dialog.animate(dialogAttr, transposeAnimDuration, defAnimEffect);\n      graphics.logBackground.animate(logBgAttr, transposeAnimDuration, defAnimEffect);\n      graphics.logWrapper.animate(logWrapperAttr, transposeAnimDuration, defAnimEffect);\n    } else {\n      container.attr(tempAttrObj);\n      graphics.veil.attr(tempAttrObj);\n      graphics.dialog.attr(dialogAttr);\n      graphics.logBackground.attr(logBgAttr);\n      graphics.logWrapper.attr(logWrapperAttr);\n    }\n  };\n\n  return MessageLogger;\n}(_componentInterface.ComponentInterface);\n\nvar _default = MessageLogger;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/features/src/messagelogger/msglogger.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_message","_componentInterface","_lib","mathMin","Math","min","defAnimEffect","PX","VIEL_BG_COLOR","DIALOG_BG_COLOR","UNDEF","MessageLogger","_ComponentInterface","_this","call","pIndex","linkedItems","components","messages","graphics","config","_proto","prototype","getType","getName","configure","chart","chartAttr","getFromEnv","usemessagelog","messageLogWPercent","pluckNumber","messagelogwpercent","messageLogHPercent","messageloghpercent","messageLogShowTitle","messagelogshowtitle","messageLogTitle","pluck","messagelogtitle","messageLogColor","messagelogcolor","replace","messageLogColorRgb","HEXtoRGB","messageGoesToJS","messagegoestojs","messageGoesToLog","messagegoestolog","messageJSHandler","messagejshandler","messagePassAllToJS","messagepassalltojs","messagePassAsObject","messagepassasobject","messageLogIsCancelable","messagelogiscancelable","alwaysShowMessageLogMenu","alwaysshowmessagelogmenu","useShowLogMenu","dynamicScrolling","scrollToBottom","_createMessage","messageObj","messageObject","container","draw","addLog","msgGoesToLog","msgGoesToJS","globalJSFunc","window","msgId","title","msgTitle","msg","msgText","msgType","message","clearLog","push","length","visible","show","hide","i","l","dispose","splice","isDrawn","_createHTMLDialogue","msLogger","paper","chartConfig","chartWidth","width","chartHeight","height","styles","style","inCanvasStyle","closeBtnRadius","closeBtnContainerW","closeBtnContainerH","closeBtnYPos","hPadding","vPadding","dialogWidth","dialogHeight","dialogXPos","dialogYPos","textAreaWidth","textAreaHeight","veilBgColor","dialogBgColor","dialogStrokeColor","logBGColor","transposeAnimDuration","animation","tempAttrObj","dialogAttr","logBgAttr","logWrapperAttr","html","fill","fontSize","lineHeight","veil","id","opacity","on","innerHTML","x","y","dialog","strokeWidth","borderRadius","boxShadow","filter","logBackground","closeButton","cursor","_cursor","logWrapper","overflow","wrapper","scrollTop","scrollHeight","wrapperHeight","offsetHeight","log","css","fontFamily","attr","stroke","animate","ComponentInterface","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _message=_interopRequireDefault(require(\"./message\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _lib=require(\"@fusioncharts/core/src/lib\");var mathMin=Math.min;var defAnimEffect=\"normal\",PX=\"px\",VIEL_BG_COLOR=\"000000\",DIALOG_BG_COLOR=\"ffffff\";var UNDEF;var MessageLogger=function(_ComponentInterface){(0,_inheritsLoose2.default)(MessageLogger,_ComponentInterface);function MessageLogger(){var _this;_this=_ComponentInterface.call(this)||this;_this.pIndex=1;_this.linkedItems=_this.linkedItems||(_this.linkedItems={});_this.components=_this.components||{};_this.components.messages=_this.components.messages||[];_this.graphics=_this.graphics||{};_this.config=_this.config||(_this.config={});return _this}var _proto=MessageLogger.prototype;_proto.getType=function getType(){return\"extension\"};_proto.getName=function getName(){return\"MessageLogger\"};_proto.configure=function configure(chart){this.linkedItems.chart=chart;var chartAttr=chart.getFromEnv(\"chart-attrib\")||{},usemessagelog=this.config.usemessagelog=chart.getFromEnv(\"chartConfig\").usemessagelog;this.config.messageLogWPercent=mathMin((0,_lib.pluckNumber)(chartAttr.messagelogwpercent,80),100);this.config.messageLogHPercent=mathMin((0,_lib.pluckNumber)(chartAttr.messageloghpercent,70),100);this.config.messageLogShowTitle=(0,_lib.pluckNumber)(chartAttr.messagelogshowtitle,1);this.config.messageLogTitle=(0,_lib.pluck)(chartAttr.messagelogtitle,\"Message Log\");this.config.messageLogColor=(0,_lib.pluck)(chartAttr.messagelogcolor,\"#fbfbfb\").replace(/^#?([a-f0-9]+)/gi,\"$1\");this.config.messageLogColorRgb=(0,_lib.HEXtoRGB)(this.config.messageLogColor);this.config.messageGoesToJS=(0,_lib.pluckNumber)(chartAttr.messagegoestojs,0);this.config.messageGoesToLog=(0,_lib.pluckNumber)(chartAttr.messagegoestolog,1);this.config.messageJSHandler=(0,_lib.pluck)(chartAttr.messagejshandler,\"\");this.config.messagePassAllToJS=(0,_lib.pluckNumber)(chartAttr.messagepassalltojs,0);this.config.messagePassAsObject=(0,_lib.pluckNumber)(chartAttr.messagepassasobject,0);this.config.messageLogIsCancelable=(0,_lib.pluckNumber)(chartAttr.messagelogiscancelable,1);this.config.alwaysShowMessageLogMenu=(0,_lib.pluckNumber)(chartAttr.alwaysshowmessagelogmenu,usemessagelog);chart.config.useShowLogMenu=usemessagelog&&this.config.messageGoesToLog;this.config.dynamicScrolling=false;this.config.scrollToBottom=true};_proto._createMessage=function _createMessage(messageObj){var messageObject=new _message.default(messageObj,this);if(this.graphics.container){messageObject.draw()}return messageObject};_proto.addLog=function addLog(messageObj){var messages=this.components.messages,msgGoesToLog=(0,_lib.pluckNumber)(messageObj.msgGoesToLog,this.config.messageGoesToLog),msgGoesToJS=(0,_lib.pluckNumber)(messageObj.msgGoesToJS,this.config.messageGoesToJS),globalJSFunc=window[this.config.messageJSHandler],msgId=(0,_lib.pluck)(messageObj.msgId,\"\"),title=(0,_lib.pluck)(messageObj.msgTitle,\"\"),msg=(0,_lib.pluck)(messageObj.msgText,\"\"),msgType=(0,_lib.pluck)(messageObj.msgType,\"literal\"),message;if(this.config.usemessagelog===0){return}if(msgGoesToJS&&globalJSFunc&&typeof globalJSFunc===\"function\"){this.config.messagePassAllToJS?this.config.messagePassAsObject?globalJSFunc(messageObj):globalJSFunc(msgId,title,msg,msgType):globalJSFunc(msg)}if(messageObj.clearLog===\"1\"){this.clearLog()}if(msgGoesToLog&&(messageObj.msgTitle||messageObj.msgText)){message=this._createMessage(messageObj);messages.push(message);if(messages.length===1&&!this.config.visible){this.show()}}};_proto.show=function show(){if(!this.config.visible&&this.config.usemessagelog===1){this.config.visible=true;this.draw();if(!this.graphics.container){this.draw()}this.graphics.container&&this.graphics.container.show()}};_proto.hide=function hide(){this.config.visible=false;this.graphics.container&&this.graphics.container.hide()};_proto.clearLog=function clearLog(){var messages=this.components.messages,i,l=messages.length;for(i=0;i<l;i+=1){messages[i]&&messages[i].dispose&&messages[i].dispose()}messages.splice(0,l)};_proto.isDrawn=function isDrawn(){return!!this.graphics.container};_proto.draw=function draw(){var messages=this.components.messages,i,l;if(this.config.usemessagelog===0){if(this.isDrawn()){this.clearLog();this.hide()}}else{this._createHTMLDialogue();if(!this.config.visible){this.hide()}l=messages.length;for(i=0;i<l;i+=1){messages[i]&&messages[i].draw&&messages[i].draw()}}};_proto._createHTMLDialogue=function _createHTMLDialogue(){var msLogger=this,config=this.config,graphics=this.graphics,paper=this.getFromEnv(\"paper\"),chartConfig=this.linkedItems.chart.config,chartWidth=chartConfig.width,chartHeight=chartConfig.height,styles=chartConfig.style,inCanvasStyle=styles&&styles.inCanvasStyle,messageLogWPercent=this.config.messageLogWPercent,messageLogHPercent=this.config.messageLogHPercent,messageLogShowTitle=this.config.messageLogShowTitle,messageLogIsCancelable=this.config.messageLogIsCancelable,messageLogColor=this.config.messageLogColor,messageLogTitle=this.config.messageLogTitle,closeBtnRadius=6,closeBtnContainerW=closeBtnRadius*3,closeBtnContainerH=closeBtnRadius*3,closeBtnYPos=closeBtnContainerH/2,hPadding=5+closeBtnRadius,vPadding=5+closeBtnRadius,dialogWidth=chartWidth*(messageLogWPercent/100),dialogHeight=chartHeight*(messageLogHPercent/100),dialogXPos=(chartWidth-dialogWidth)/2,dialogYPos=(chartHeight-dialogHeight)/2,textAreaWidth=dialogWidth-closeBtnContainerW-hPadding*2,textAreaHeight=dialogHeight-closeBtnContainerH-vPadding*2,veilBgColor=VIEL_BG_COLOR,dialogBgColor=DIALOG_BG_COLOR,dialogStrokeColor=messageLogColor,logBGColor=messageLogColor,container=graphics.container,transposeAnimDuration=this.isDrawn()&&chartConfig.animation&&chartConfig.animation.transposeAnimDuration,tempAttrObj,dialogAttr,logBgAttr,logWrapperAttr;if(!container){container=graphics.container=paper.html(\"div\",{fill:\"transparent\"},{fontSize:10+PX,lineHeight:15+PX},this.getFromEnv(\"chart-container\"));graphics.veil=paper.html(\"div\",{id:\"veil\",fill:veilBgColor,opacity:.1},UNDEF,container).on(\"fc-click\",(function(){messageLogIsCancelable&&msLogger.hide()}));if(messageLogTitle&&messageLogShowTitle){graphics.title=paper.html(\"p\",{id:\"Title\",innerHTML:messageLogTitle,x:5,y:5},{\"font-weight\":\"bold\"},container)}graphics.dialog=paper.html(\"div\",{id:\"dialog\",strokeWidth:1},{borderRadius:5+PX,boxShadow:\"1px 1px 3px #000000\",\"-webkit-border-radius\":5+PX,\"-webkit-box-shadow\":\"1px 1px 3px #000000\",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color=\"#000000\")'},container);graphics.logBackground=paper.html(\"div\",{id:\"dialogBackground\",x:0,y:0},UNDEF,graphics.dialog);if(messageLogIsCancelable){graphics.closeButton=paper.html(\"div\",{id:\"closeButton\",x:dialogWidth-vPadding-3,y:closeBtnYPos-7,innerHTML:\"<b>x</b>\"},{cursor:\"pointer\",_cursor:\"hand\"},graphics.dialog).on(\"fc-click\",(function(){messageLogIsCancelable&&msLogger.hide()}))}graphics.logWrapper=paper.html(\"div\",{id:\"logWrapper\"},{overflow:\"auto\"},graphics.dialog).on(\"scroll\",(function(){var wrapper=this,scrollTop=wrapper&&wrapper.scrollTop,scrollHeight=wrapper&&wrapper.scrollHeight,wrapperHeight=wrapper&&wrapper.offsetHeight;if(config.dynamicScrolling){config.dynamicScrolling=false;return}config.scrollToBottom=scrollHeight-scrollTop===wrapperHeight}));graphics.log=paper.html(\"div\",{id:\"log\",x:0,y:0},{},graphics.logWrapper)}container.css({fontFamily:inCanvasStyle.fontFamily});graphics.dialog.attr({fill:dialogBgColor,stroke:dialogStrokeColor});graphics.logBackground.attr({fill:logBGColor});tempAttrObj={width:chartWidth,height:chartHeight};dialogAttr={x:dialogXPos,y:dialogYPos,width:dialogWidth,height:dialogHeight};logBgAttr={width:dialogWidth,height:dialogHeight};logWrapperAttr={x:(dialogWidth-textAreaWidth)/2,y:(dialogHeight-textAreaHeight)/2,width:textAreaWidth,height:textAreaHeight};if(transposeAnimDuration){container.animate(tempAttrObj,transposeAnimDuration,defAnimEffect);graphics.veil.animate(tempAttrObj,transposeAnimDuration,defAnimEffect);graphics.dialog.animate(dialogAttr,transposeAnimDuration,defAnimEffect);graphics.logBackground.animate(logBgAttr,transposeAnimDuration,defAnimEffect);graphics.logWrapper.animate(logWrapperAttr,transposeAnimDuration,defAnimEffect)}else{container.attr(tempAttrObj);graphics.veil.attr(tempAttrObj);graphics.dialog.attr(dialogAttr);graphics.logBackground.attr(logBgAttr);graphics.logWrapper.attr(logWrapperAttr)}};return MessageLogger}(_componentInterface.ComponentInterface);var _default=MessageLogger;exports.default=_default;"]},"metadata":{},"sourceType":"script"}