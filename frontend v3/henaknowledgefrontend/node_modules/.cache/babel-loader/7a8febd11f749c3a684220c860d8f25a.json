{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _componentInterface = require(\"@fusioncharts/core/src/component-interface\");\n\nvar _extAnnotation = _interopRequireDefault(require(\"@fusioncharts/features/src/annotation/ext-annotation\"));\n\nvar _dependencyManager = require(\"@fusioncharts/core/src/dependency-manager\");\n\nvar _mapEntities = _interopRequireDefault(require(\"../_internal/map-entities.animation\"));\n\nvar _lib = require(\"@fusioncharts/core/src/lib\");\n\nvar _schedular = require(\"@fusioncharts/core/src/schedular\");\n\nvar _redraphaelShapes = _interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.litepath\"));\n\nvar Raphael = (0, _dependencyManager.getDep)(\"redraphael\", \"plugin\"),\n    UNDEF,\n    userAgent = window.navigator.userAgent,\n    isIE = /msie/i.test(userAgent) && !window.opera,\n    COMMA = \",\",\n    BLANK = \"\",\n    POSITION_TOP = \"top\",\n    POSITION_BOTTOM = \"bottom\",\n    POSITION_RIGHT = \"right\",\n    POSITION_LEFT = \"left\",\n    POSITION_MIDDLE = \"middle\",\n    POSITION_CENTER = \"center\",\n    ENTITYLABEL = \"entityLabel\",\n    TEXT_STR = \"text\",\n    CRISP = \"crisp\",\n    math = window.Math,\n    mathMin = math.min,\n    mathMax = math.max,\n    isStrokeReg = /stroke/gi,\n    isWebKit = /AppleWebKit/.test(userAgent),\n    mathCeil = math.ceil,\n    colorize = function colorize(original, obj) {\n  var col = !obj ? {\n    FCcolor: original\n  } : (0, _lib.extend2)(original.FCcolor, obj, false, true);\n  col.toString = _lib.toRaphaelColor;\n  return col;\n},\n    pruneStrokeAttrs = function pruneStrokeAttrs(obj, thicknessModifier) {\n  var key,\n      returnObj = {},\n      finalThicknessModifier;\n  finalThicknessModifier = thicknessModifier || 1;\n\n  if (!obj || typeof obj !== \"object\") {\n    return returnObj;\n  }\n\n  for (key in obj) {\n    if (!isStrokeReg.test(key)) {\n      if (key === \"stroke-width\") {\n        returnObj[key] = Number(obj[key]) / finalThicknessModifier;\n\n        if (isWebKit) {\n          returnObj[key] = returnObj[key] && mathCeil(returnObj[key]) || 0;\n        }\n      } else {\n        returnObj[key] = obj[key];\n      }\n    }\n  }\n\n  return returnObj;\n},\n    getTextWrapWidth = {\n  right: function right() {\n    return arguments[1];\n  },\n  left: function left(w, x) {\n    return w - x;\n  },\n  center: function center(w, x) {\n    return mathMin(x, w - x) * 2;\n  }\n},\n    getTextWrapHeight = {\n  top: function top() {\n    return arguments[1];\n  },\n  middle: function middle(h, y) {\n    return mathMin(y, h - y) * 2;\n  },\n  bottom: function bottom(h, y) {\n    return h - y;\n  }\n},\n    setCustomAttrs = function setCustomAttrs(entityObj, attrs) {\n  entityObj && entityObj.graphics.outlines.attr(attrs);\n},\n    convertArrayToIdMap = function convertArrayToIdMap(arr) {\n  var i = arr && arr.length || 0,\n      ret = {},\n      item;\n\n  while (i--) {\n    item = arr[i];\n\n    if (item.id !== UNDEF) {\n      ret[item.id.toLowerCase()] = item;\n    }\n  }\n\n  return ret;\n};\n\n(0, _dependencyManager.addDep)({\n  name: \"mapsAnimation\",\n  type: \"animationRule\",\n  extension: _mapEntities.default\n});\n(0, _redraphaelShapes.default)(Raphael);\n\nvar Entities = function (_ComponentInterface) {\n  (0, _inheritsLoose2.default)(Entities, _ComponentInterface);\n\n  function Entities() {\n    var _this;\n\n    _this = _ComponentInterface.call(this) || this;\n    _this.components = {};\n    return _this;\n  }\n\n  var _proto = Entities.prototype;\n\n  _proto.getName = function getName() {\n    return \"entities\";\n  };\n\n  _proto.getType = function getType() {\n    return \"dataset\";\n  };\n\n  _proto.configureAttributes = function configureAttributes(entityJSONDataOb) {\n    if (!entityJSONDataOb) {\n      return;\n    }\n\n    this.JSONData = {\n      data: entityJSONDataOb\n    };\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        rawData = chart.jsonData,\n        conf = dataset.config,\n        mapAttrs = rawData.map || rawData.chart,\n        entityJSONData,\n        entities,\n        dataItem,\n        entityItem,\n        item,\n        minMaxArray = [],\n        minMaxArrayLen,\n        i,\n        d,\n        colorManager = dataset.getFromEnv(\"colorManager\"),\n        entityDef = rawData.entitydef || [];\n\n    if (!conf.attachEvent && colorManager) {\n      dataset.addExtEventListener(\"legendUpdate\", function () {\n        d = arguments[1];\n\n        if (d.component === \"legend\") {\n          dataset.legendInteractivity(d.legendItem, d.colorObj);\n        } else {\n          minMaxArray = d.maxMinArray;\n          minMaxArrayLen = minMaxArray.length;\n\n          for (i = 0; i < minMaxArrayLen; i++) {\n            dataset.updateEntityColors(minMaxArray[i].min, minMaxArray[i].max);\n          }\n        }\n      }, colorManager);\n      conf.attachEvent = true;\n    }\n\n    if (rawData.data && rawData.data[0] && rawData.data[0].data) {\n      entityJSONData = dataset.JSONData = rawData.data[0].data || [];\n    } else {\n      entityJSONData = dataset.JSONData = rawData.data || [];\n    }\n\n    conf.useSNameAsId = (0, _lib.pluckNumber)(mapAttrs.usesnameasid, 0);\n\n    this._redefineEntities(entityDef);\n\n    entities = dataset.components.data;\n    conf.showTooltip = (0, _lib.pluckNumber)(mapAttrs.showtooltip, 1);\n    conf.showHoverEffect = (0, _lib.pluckNumber)(mapAttrs.showhovereffect, 0);\n    entityJSONData = convertArrayToIdMap(entityJSONData);\n    dataset.calculateDataLimits();\n    !rawData.colorrange && dataset._detachChild(dataset.getChildren(\"colorRange\") && dataset.getChildren(\"colorRange\")[0]);\n\n    for (item in entities) {\n      dataItem = entityJSONData[item];\n      entityItem = entities[item];\n\n      if (dataItem) {\n        this._configureEntity(item, entityItem, (0, _lib.imprint)(Entities._sanitizeEntityOptions((0, _lib.extend2)({}, dataItem)), entityItem.config));\n      } else {\n        this._configureEntity(item, entityItem, entityItem.config);\n      }\n    }\n  };\n\n  _proto.updateEntityColors = function updateEntityColors(minValue, maxValue) {\n    var dataset = this,\n        entities = dataset.components.data,\n        chart = dataset.getFromEnv(\"chart\"),\n        _chart$config$entityO = chart.config.entityOpts,\n        nullEntityAlpha = _chart$config$entityO.nullEntityAlpha,\n        nullEntityColor = _chart$config$entityO.nullEntityColor,\n        entityObj,\n        config,\n        value,\n        name,\n        alphaArr,\n        visibleEntityAttr,\n        nullAttr = colorize({\n      fill: nullEntityColor,\n      alpha: nullEntityAlpha\n    }),\n        hiddenAttr = {\n      \"fill-opacity\": 0\n    };\n\n    for (name in entities) {\n      if (entities.hasOwnProperty(name)) {\n        entityObj = entities[name];\n        config = entityObj.config;\n        value = config.cleanValue;\n        alphaArr = config.alphaArr || [];\n        visibleEntityAttr = {\n          \"fill-opacity\": alphaArr[0] / 100 || 1\n        };\n\n        if (value == null) {\n          setCustomAttrs(entityObj, nullAttr);\n          entityObj.hidden = false;\n        } else if (value < minValue || value > maxValue) {\n          setCustomAttrs(entityObj, hiddenAttr);\n          entityObj.hidden = true;\n        } else {\n          setCustomAttrs(entityObj, visibleEntityAttr);\n          entityObj.hidden = false;\n        }\n      }\n    }\n  };\n\n  _proto.legendInteractivity = function legendInteractivity(legendItem, entityColorObj) {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        entities = dataset.components.data,\n        i,\n        entity,\n        config = legendItem.config,\n        visible = legendItem.hasState(\"hidden\"),\n        cleanValue,\n        colorRange = dataset.getFromEnv(\"colorManager\"),\n        entityAttrs,\n        visibleEntityAttr = {},\n        applyAttr,\n        hiddenAttr = {\n      \"fill-opacity\": 0\n    },\n        colorObj;\n    chart.getFromEnv(\"animationManager\").setAnimationState(\"legendInteraction\");\n\n    for (i in entities) {\n      if (entities.hasOwnProperty(i)) {\n        entity = entities[i];\n        config = entity.config;\n        cleanValue = config.cleanValue;\n        colorObj = colorRange.getColorObj(cleanValue);\n        entityAttrs = config.visibleEntityAttr;\n        visibleEntityAttr[\"fill-opacity\"] = entityAttrs[\"fill-opacity\"];\n        applyAttr = !visible ? hiddenAttr : visibleEntityAttr;\n\n        if (entityColorObj.code === (!colorObj.outOfRange && colorObj.code)) {\n          entity.hidden = !visible;\n          setCustomAttrs(entity, applyAttr);\n\n          if (!visible) {\n            legendItem.setLegendState(\"hidden\");\n          } else {\n            legendItem && legendItem.removeLegendState(\"hidden\");\n          }\n        }\n      }\n    }\n  };\n\n  _proto.calculateDataLimits = function calculateDataLimits() {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        conf = dataset.config,\n        jsonData = chart.jsonData,\n        dataArr = jsonData.data || [],\n        numberFormatter = this.getFromEnv(\"number-formatter\"),\n        cleanValue,\n        value,\n        minValue = +Infinity,\n        maxValue = -Infinity,\n        len,\n        i;\n\n    for (i = 0, len = dataArr.length; i < len; i++) {\n      value = dataArr[i].value;\n      cleanValue = numberFormatter.getCleanValue(value);\n      minValue = mathMin(minValue, cleanValue);\n      maxValue = mathMax(maxValue, cleanValue);\n    }\n\n    conf.max = maxValue;\n    conf.min = minValue;\n  };\n\n  _proto._configureEntity = function _configureEntity(id, entityItem, entityJSON) {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        conf = dataset.config,\n        numberFormatter = this.getFromEnv(\"number-formatter\"),\n        chartConf = chart.config,\n        entityOpts = chartConf.entityOpts,\n        entityConf = entityItem.config,\n        labelConfig = entityItem.labelConfig,\n        value = entityJSON.value,\n        cleanValue = entityConf.cleanValue = numberFormatter.getCleanValue(value),\n        formattedValue = entityConf.formattedValue = cleanValue !== UNDEF ? numberFormatter.dataLabels(cleanValue) : UNDEF,\n        showTooltip = (0, _lib.pluckNumber)(entityJSON.showtooltip, entityOpts.showTooltip),\n        defaultTooltip = this._getDefaultTooltip(entityItem, entityJSON, dataset),\n        tooltextMacroObj = {\n      formattedValue: formattedValue,\n      sName: entityJSON.shortLabel,\n      lName: entityJSON.label\n    },\n        styleObj = entityOpts.dataLabels.style,\n        toolText = entityConf.toolText = showTooltip ? (0, _lib.parseUnsafeString)((0, _lib.pluck)((0, _lib.parseTooltext)((0, _lib.pluck)(entityJSON.tooltext, entityOpts.tooltext, defaultTooltip), [1, 2, 7, 38, 39], tooltextMacroObj, entityJSON)), false) : BLANK,\n        borderColor = entityConf.borderColor = (0, _lib.pluck)(entityJSON.bordercolor, entityOpts.borderColor),\n        borderAlpha = entityConf.borderAlpha = (0, _lib.pluck)(entityJSON.borderalpha, entityOpts.borderAlpha),\n        borderThickness = entityConf.borderThickness = (0, _lib.pluckNumber)(entityJSON.borderthickness, entityOpts.borderThickness),\n        hoverOnNull = entityOpts.hoverOnNull,\n        useHoverColor = entityConf.useHoverColor = (0, _lib.pluckNumber)(entityJSON.showhovereffect, entityJSON.usehovercolor, hoverOnNull ? entityOpts.showHoverEffect : isNaN(value) ? 0 : entityOpts.showHoverEffect),\n        labelAlignment = entityConf.labelAlignment,\n        colorManager = dataset.getFromEnv(\"colorManager\"),\n        colorObj,\n        link,\n        align,\n        valign,\n        color,\n        alpha,\n        angle,\n        ratio,\n        fillColor,\n        fontColor,\n        fontFamily,\n        fontBold,\n        emptyColorObject,\n        fillColorObject,\n        hoverColor,\n        bgColor,\n        bgAlpha,\n        labels,\n        labelObj,\n        oriLabels,\n        i,\n        alphaArr;\n\n    entityItem.hidden = false;\n    entityConf.showLabel = (0, _lib.pluckNumber)(entityJSON.showlabel, entityOpts.showLabels);\n    entityConf.labelPadding = (0, _lib.pluckNumber)(entityJSON.labelpadding, entityOpts.labelPadding);\n    entityConf.fontFamily = (0, _lib.pluck)(entityJSON.font, styleObj.fontFamily);\n    entityConf.fontSize = (0, _lib.pluckNumber)(parseInt(entityJSON.fontsize, 10), parseInt(styleObj.fontSize, 10));\n    entityConf.fontBold = (0, _lib.pluckNumber)(entityJSON.fontbold, 0);\n    entityConf.fontColor = (0, _lib.pluck)(entityJSON.labelcolor, entityJSON.fontcolor, styleObj.color);\n    entityConf.labelBgColor = (0, _lib.pluck)(entityJSON.labelbgcolor, styleObj.bgColor) || BLANK;\n    entityConf.labelBorderColor = (0, _lib.pluck)(entityJSON.labelbordercolor, styleObj.borderColor) || BLANK;\n    entityConf.connectorColor = (0, _lib.pluck)(entityJSON.labelconnectorcolor, entityOpts.connectorColor);\n    entityConf.connectorAlpha = (0, _lib.pluck)(entityJSON.labelconnectoralpha, entityOpts.connectorAlpha);\n    entityConf.hoverBorderThickness = (0, _lib.pluckNumber)(entityJSON.borderhoverthickness, entityJSON.hoverborderthickness, entityOpts.hoverBorderThickness);\n    entityConf.hoverBorderColor = (0, _lib.pluck)(entityJSON.borderhovercolor, entityJSON.hoverbordercolor, entityOpts.hoverBorderColor, entityConf.borderColor);\n    entityConf.hoverBorderAlpha = (0, _lib.pluck)(entityJSON.borderhoveralpha, entityJSON.hoverborderalpha, entityOpts.hoverBorderAlpha, entityConf.borderAlpha);\n    entityConf.connectorThickness = (0, _lib.pluckNumber)(entityJSON.labelconnectorthickness, entityOpts.connectorThickness);\n    entityConf.origConnectorThickness = entityConf.connectorThickness;\n    entityConf.borderThickness = borderThickness;\n    entityConf.link = entityJSON.link;\n    entityConf.isVisible = true;\n    entityConf.id = id;\n    entityConf.originalId = entityJSON.origId;\n\n    if (cleanValue !== null) {\n      colorObj = colorManager && colorManager.getColor(cleanValue);\n\n      if (colorObj && !colorObj.outOfRange) {\n        bgColor = colorObj.code;\n\n        if (colorObj.oriAlpha !== UNDEF) {\n          bgAlpha = colorObj.oriAlpha + \"\";\n        }\n      }\n    }\n\n    if ((0, _lib.pluck)(entityJSON.color, entityJSON.alpha, entityJSON.angle, entityJSON.ratio) !== UNDEF) {\n      color = (0, _lib.pluck)(entityJSON.color, bgColor, entityOpts.fillColor);\n      alpha = (0, _lib.pluck)(entityJSON.alpha, bgAlpha, entityOpts.fillAlpha);\n      angle = (0, _lib.pluck)(entityJSON.angle, entityOpts.fillAngle);\n      ratio = (0, _lib.pluck)(entityJSON.ratio, entityOpts.fillRatio);\n      fillColor = colorize({\n        color: color,\n        alpha: alpha,\n        angle: angle,\n        ratio: ratio\n      });\n    } else {\n      fillColorObject = colorize({\n        color: (0, _lib.pluck)(bgColor, entityOpts.fillColor),\n        alpha: (0, _lib.pluck)(bgAlpha, entityOpts.fillAlpha),\n        angle: (0, _lib.pluck)(entityOpts.fillAngle),\n        ratio: (0, _lib.pluck)(entityOpts.fillRatio)\n      });\n      emptyColorObject = colorize({\n        color: (0, _lib.pluck)(entityOpts.nullEntityColor),\n        alpha: (0, _lib.pluck)(entityOpts.nullEntityAlpha),\n        angle: (0, _lib.pluck)(entityOpts.nullEntityAngle),\n        ratio: (0, _lib.pluck)(entityOpts.nullEntityRatio)\n      });\n      fillColor = cleanValue === null ? emptyColorObject : fillColorObject;\n      color = fillColor.FCcolor.color;\n      alpha = fillColor.FCcolor.alpha;\n      angle = fillColor.FCcolor.angle;\n      ratio = fillColor.FCcolor.ratio;\n    }\n\n    if (toolText === BLANK) {\n      conf.showTooltip = 0;\n    }\n\n    entityConf.visibleEntityAttr = {\n      stroke: (0, _lib.convertColor)(borderColor, borderAlpha),\n      fill: (entityConf.fillColor = fillColor).toString(),\n      \"fill-opacity\": alpha / 100\n    };\n    alphaArr = alpha.split(COMMA);\n    entityConf.alphaArr = alphaArr;\n\n    if (useHoverColor) {\n      if ((0, _lib.pluck)(entityJSON.fillhovercolor, entityJSON.fillhoveralpha, entityJSON.fillhoverangle, entityJSON.fillhoverratio, entityJSON.hoverfillcolor, entityJSON.hoverfillalpha, entityJSON.hoverfillratio, entityJSON.hoverfillangle) !== UNDEF) {\n        color = (0, _lib.pluck)(entityJSON.fillhovercolor, entityJSON.hoverfillcolor, entityOpts.hoverFillColor);\n        alpha = (0, _lib.pluck)(entityJSON.fillhoveralpha, entityJSON.hoverfillalpha, entityOpts.hoverFillAlpha);\n        angle = (0, _lib.pluck)(entityJSON.fillhoverangle, entityJSON.hoverfillangle, entityOpts.hoverFillAngle);\n        ratio = (0, _lib.pluck)(entityJSON.fillhoverratio, entityJSON.hoverfillratio, entityOpts.hoverFillRatio);\n        hoverColor = colorize({\n          color: color,\n          alpha: alpha,\n          angle: angle,\n          ratio: ratio\n        });\n      } else {\n        if (!entityOpts.hoverColorObject) {\n          entityOpts.hoverColorObject = colorize({\n            color: entityOpts.hoverFillColor,\n            alpha: entityOpts.hoverFillAlpha,\n            angle: entityOpts.hoverFillAngle,\n            ratio: entityOpts.hoverFillRatio\n          });\n        }\n\n        hoverColor = entityOpts.hoverColorObject;\n      }\n\n      entityConf.hoverColor = hoverColor;\n    }\n\n    !labelConfig && (labelConfig = entityItem.labelConfig = {});\n    fontColor = entityConf.fontColor;\n    fontFamily = entityConf.fontFamily;\n    fontBold = entityConf.fontBold;\n    toolText = entityConf.toolText;\n    link = entityConf.link;\n\n    if (labelAlignment) {\n      align = labelAlignment[0];\n      valign = labelAlignment[1];\n    } else {\n      align = POSITION_CENTER;\n      valign = POSITION_MIDDLE;\n    }\n\n    labelConfig.align = align;\n    labelConfig.vAlign = valign;\n    labelConfig.fontColor = fontColor;\n    labelConfig.bgColor = entityConf.labelBgColor;\n    labelConfig.borderColor = entityConf.labelBorderColor;\n    labelConfig.fontFamily = fontFamily;\n    labelConfig.fontBold = fontBold;\n    labelConfig.toolText = toolText;\n    labelConfig.link = link;\n\n    if (typeof entityConf.options === \"object\") {\n      labels = entityConf.entityLabels = entityConf.entityLabels || [];\n      oriLabels = entityConf.labels || [];\n      i = oriLabels.length;\n\n      while (i--) {\n        if (!labels[i]) {\n          labels[i] = {\n            config: {}\n          };\n        }\n\n        labelConfig = labels[i].config;\n        labelAlignment = oriLabels[i].labelAlignment;\n\n        if (labelAlignment) {\n          align = labelAlignment[0];\n          valign = labelAlignment[1];\n        } else {\n          align = POSITION_CENTER;\n          valign = POSITION_MIDDLE;\n        }\n\n        labelConfig.align = align;\n        labelConfig.vAlign = valign;\n        labelConfig.displayValue = dataset.getDisplayValue(entityItem, oriLabels[i], entityConf.options.isDataEnabled, !i, entityJSON);\n        labelConfig.toolText = toolText;\n        labelConfig.align = align;\n        labelConfig.vAlign = valign;\n        labelConfig.bgColor = entityConf.labelBgColor;\n        labelConfig.borderColor = entityConf.labelBorderColor;\n        labelConfig.fontColor = fontColor;\n        labelConfig.fontFamily = fontFamily;\n        labelConfig.fontBold = fontBold;\n        labelConfig.toolText = toolText;\n      }\n    } else {\n      labelObj = {\n        shortText: entityConf.shortLabel,\n        text: entityConf.label\n      };\n      labelConfig.displayValue = dataset.getDisplayValue(entityItem, labelObj, true, true, entityJSON);\n    }\n  };\n\n  _proto.getDisplayValue = function getDisplayValue(entity, labelObj, userValue, userDV, entityJSON) {\n    var chart = this.getFromEnv(\"chart\"),\n        entityOpts = chart.config.entityOpts,\n        entityConf = entity.config,\n        cleanValue = entityConf.cleanValue,\n        formattedValue = entityConf.formattedValue,\n        labelSepChar = entityOpts.labelSepChar,\n        displayValue;\n\n    if (userValue) {\n      if (userDV && typeof entityJSON.displayvalue !== \"undefined\") {\n        displayValue = entityJSON.displayvalue;\n      } else {\n        displayValue = (0, _lib.pluck)(entityOpts.includeNameInLabels ? entityOpts.useShortName ? labelObj.shortText : labelObj.text : \"\");\n\n        if (entityOpts.includeValueInLabels && cleanValue !== null) {\n          displayValue = displayValue === UNDEF ? formattedValue : displayValue + labelSepChar + formattedValue;\n        }\n      }\n    } else {\n      displayValue = entityConf.label;\n    }\n\n    return displayValue;\n  };\n\n  Entities._sanitizeEntityOptions = function _sanitizeEntityOptions(options) {\n    delete options.outlines;\n    delete options.label;\n    delete options.shortlabel;\n    delete options.labelposition;\n    delete options.labelalignment;\n    delete options.labelconnectors;\n    return options;\n  };\n\n  _proto._redefineEntities = function _redefineEntities(entityDef) {\n    var dataset = this,\n        conf = dataset.config,\n        chart = dataset.getFromEnv(\"chart\"),\n        redefinedEntities = {},\n        processedIds = {},\n        entities = chart.config.entities,\n        useSNameAsId = conf.useSNameAsId,\n        i,\n        defObj,\n        oldId,\n        newId,\n        sName,\n        lName,\n        id,\n        newObj,\n        entityCount = 0,\n        entityStore,\n        entityDataStore,\n        item,\n        entityObj;\n    i = entityDef.length;\n\n    while (i--) {\n      defObj = entityDef[i];\n      oldId = defObj.internalid;\n      newId = defObj.newid ? defObj.newid : oldId;\n      sName = defObj.sname;\n      lName = defObj.lname;\n      entityObj = entities[oldId];\n      oldId = (0, _lib.trimString)(oldId);\n      newId = (0, _lib.trimString)(newId);\n      newId = newId && newId.toLowerCase();\n\n      if (entityObj) {\n        redefinedEntities[newId] = newObj = {\n          origId: oldId\n        };\n        processedIds[oldId] = true;\n\n        for (item in entityObj) {\n          newObj[item] = entityObj[item];\n        }\n\n        newObj.shortLabel = sName || entityObj.shortLabel;\n        newObj.label = lName || entityObj.label;\n        newObj.showhovereffect = defObj.showhovereffect;\n        newObj.fillhovercolor = defObj.fillhovercolor;\n        newObj.fillhoveralpha = defObj.fillhoveralpha;\n        newObj.fillhoverangle = defObj.fillhoverangle;\n        newObj.fillhoverratio = defObj.fillhoverratio;\n        newObj.borderhoverthickness = defObj.borderhoverthickness;\n      }\n    }\n\n    entityDataStore = dataset.components.data;\n\n    if (!entityDataStore) {\n      entityDataStore = dataset.components.data = {};\n    }\n\n    for (id in redefinedEntities) {\n      id = id.toLowerCase();\n\n      if (!entityDataStore[id]) {\n        entityDataStore[id] = {\n          config: {}\n        };\n      }\n\n      entityDataStore[id].config = redefinedEntities[id];\n      entityCount += 1;\n    }\n\n    entityStore = entityDataStore;\n\n    for (id in entities) {\n      newObj = entities[id];\n      id = (0, _lib.trimString)(id);\n\n      if (!processedIds[id]) {\n        if (useSNameAsId) {\n          entityObj = entityStore[newObj.shortLabel.toLowerCase()];\n\n          if (!entityObj) {\n            entityObj = entityStore[newObj.shortLabel.toLowerCase()] = {};\n          }\n\n          entityObj.config = {};\n          entityObj.origId = newObj.shortLabel;\n        } else {\n          entityObj = entityStore[id.toLowerCase()];\n\n          if (!entityObj) {\n            entityObj = entityStore[id.toLowerCase()] = {};\n          }\n\n          entityObj.config = {};\n          entityObj.config.origId = id;\n        }\n\n        for (item in newObj) {\n          entityObj.config[item] = newObj[item];\n        }\n\n        entityCount += 1;\n      }\n    }\n\n    conf.entityCount = entityCount;\n  };\n\n  _proto.draw = function draw() {\n    var dataset = this,\n        conf = dataset.config,\n        chart = dataset.getFromEnv(\"chart\"),\n        BATCH_SIZE = _lib.hasSVG ? 200 : 10,\n        doBatchRendering;\n    dataset.createContainer();\n    this.config.ready = false;\n    conf.BATCH_SIZE = BATCH_SIZE;\n    conf.labelBatchSize = _lib.hasSVG ? 200 : 20;\n    doBatchRendering = this._batchRender();\n    doBatchRendering(0);\n    chart.config.entityFlag = true;\n    chart.checkComplete();\n  };\n\n  _proto._batchRender = function _batchRender() {\n    var dataset = this,\n        conf = dataset.config,\n        chart = dataset.getFromEnv(\"chart\"),\n        firstEntity = chart.config.entities.firstEntity,\n        entities = dataset.components.data,\n        batchSize = conf.BATCH_SIZE,\n        keys = conf.entityKeys = firstEntity ? dataset._getKeys(firstEntity, entities) : Object.keys(entities),\n        keysLength = conf.entityLength = keys.length,\n        i,\n        entityObj,\n        count,\n        ent,\n        outlinesDrawn,\n        drawEntities = function drawEntities(entityStartIndex) {\n      i = entityStartIndex;\n      count = 0;\n\n      while (keys[i] !== UNDEF) {\n        entityObj = entities[keys[i]];\n        outlinesDrawn = dataset.drawEntity(entityObj, batchSize);\n        count += outlinesDrawn;\n\n        if (entityObj.config.drawn) {\n          ent = i === keysLength - 1 ? entityObj : entities[keys[i - 1]];\n\n          if (ent) {\n            ent.config.drawn = false;\n            ent.config.outlineStartIndex = UNDEF;\n          }\n\n          i++;\n        }\n\n        if (count >= batchSize) {\n          dataset.addJob(\"entityDraw\", drawEntities.bind(dataset, i), _schedular.priorityList.entitydraw);\n          break;\n        }\n      }\n\n      if (i === keysLength) {\n        dataset._addEventListenersToEntities(0);\n\n        dataset.initComplete();\n      }\n    };\n\n    return drawEntities;\n  };\n\n  _proto._addEventListenersToEntities = function _addEventListenersToEntities(startIndex) {\n    var dataset = this,\n        entities = dataset.components.data,\n        conf = dataset.config,\n        batchSize = conf.BATCH_SIZE,\n        keys = conf.entityKeys,\n        i,\n        len = conf.entityLength,\n        entity,\n        count = 0,\n        options,\n        entityConf;\n\n    for (i = startIndex; i < len; i++) {\n      entity = entities[keys[i]];\n      entityConf = entity.config;\n      options = entityConf.options;\n\n      if (!(options && options.isDataEnabled === false)) {\n        dataset.addMouseGestures(entity);\n      }\n\n      count++;\n\n      if (count === batchSize) {\n        dataset.addJob(\"_addEventListenersToEntities\", dataset._addEventListenersToEntities.bind(this, i), _schedular.priorityList.entitydraw);\n        break;\n      }\n    }\n  };\n\n  Entities._getKeys = function _getKeys(firstEntity, entities) {\n    var keys = [firstEntity],\n        item = firstEntity;\n\n    while (entities[item]) {\n      item = entities[item].nextId;\n      keys.push(item);\n    }\n\n    return keys;\n  };\n\n  _proto._getDefaultTooltip = function _getDefaultTooltip(entity, entityJSON) {\n    var dataset = this,\n        value = entity.config.cleanValue,\n        formattedValue = entity.config.formattedValue,\n        entityOpts = dataset.getFromEnv(\"chart\").config.entityOpts,\n        tooltip,\n        labelObj;\n\n    if (typeof entity.config.options === \"object\") {\n      labelObj = entityJSON.labels && entityJSON.labels[0];\n\n      if (!labelObj) {\n        return UNDEF;\n      }\n\n      tooltip = (entityOpts.useSNameInTooltip ? labelObj.shortText : labelObj.text) + (value === null ? BLANK : entityOpts.tooltipSepChar + formattedValue);\n    } else {\n      tooltip = (entityOpts.useSNameInTooltip ? entityJSON.shortLabel : entityJSON.label) + (value === null ? BLANK : entityOpts.tooltipSepChar + formattedValue);\n    }\n\n    return tooltip;\n  };\n\n  _proto.drawEntity = function drawEntity(entity, outlinesDrawCount) {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        animationManager = chart.getFromEnv(\"animationManager\"),\n        entityConf = entity.config,\n        pathStr = _lib.hasSVG || !isIE ? \"litepath\" : \"path\",\n        entityOpts = chart.config.entityOpts,\n        outlines = entityConf.outlines,\n        toolTipController = dataset.getFromEnv(\"toolTipController\"),\n        addTo = this.getLinkedParent().getChildContainer(\"plot\"),\n        shadowGroup = this.getLinkedParent().getChildContainer(\"plotShadow\"),\n        toolText = entityConf.toolText,\n        showShadow = entityOpts.shadow,\n        i,\n        outlinePath = [],\n        path,\n        visibleEntityAttr,\n        applyAttr,\n        outlineGraphics,\n        outline,\n        count,\n        customStrokeWidthModifier,\n        finalAttr = {},\n        shadowOptions;\n\n    dataset._configureEntityDrawingParams(entity);\n\n    entityConf = entity.config;\n    visibleEntityAttr = entityConf.visibleEntityAttr;\n    shadowOptions = entityConf.shadowOptions;\n    i = entityConf.outlineStartIndex === UNDEF ? outlines.length : entityConf.outlineStartIndex;\n\n    if (!entity.graphics) {\n      entity.graphics = {};\n    }\n\n    count = 0;\n    outlinePath = entityConf.outlinePath || (entityConf.outlinePath = []);\n    customStrokeWidthModifier = entityConf.customStrokeWidthModifier;\n\n    if (typeof entityConf.options === \"object\") {\n      while (i--) {\n        outlinePath = outlines[i].outline;\n\n        if (entityConf.options.isDataEnabled === true) {\n          applyAttr = visibleEntityAttr;\n        } else {\n          applyAttr = (0, _lib.extend2)((0, _lib.extend2)({}, visibleEntityAttr), pruneStrokeAttrs(outlines[i].style, customStrokeWidthModifier));\n        }\n\n        outlineGraphics = entity.graphics.outlines;\n\n        if (!outlineGraphics) {\n          outlineGraphics = entity.graphics.outlines = [];\n        }\n\n        !outlineGraphics[i] && (outlineGraphics[i] = {});\n        outline = outlineGraphics[i].outline;\n        applyAttr[pathStr] = outlinePath;\n        outline = outlineGraphics[i].outline = animationManager.setAnimation({\n          el: pathStr,\n          container: addTo,\n          attr: applyAttr,\n          component: dataset,\n          label: \"path\"\n        });\n        outline.shadow(showShadow ? shadowOptions : false, shadowGroup);\n        toolTipController.enableToolTip(outline, toolText);\n        count++;\n        entityConf.outlineStartIndex = i;\n\n        if (count === outlinesDrawCount) {\n          return count;\n        }\n      }\n\n      entityConf.drawn = true;\n      return count;\n    }\n\n    while (i--) {\n      path = outlines[i];\n      outlinePath = path.concat(outlinePath);\n      count++;\n      entityConf.outlineStartIndex = i;\n\n      if (count === outlinesDrawCount) {\n        entityConf.outlinePath = outlinePath;\n        return count;\n      }\n    }\n\n    !entity.graphics.outlines && (visibleEntityAttr[pathStr] = outlinePath);\n    Object.assign(finalAttr, visibleEntityAttr, entity.hidden && {\n      \"fill-opacity\": 0\n    } || {});\n    entity.graphics.outlines = animationManager.setAnimation({\n      el: entity.graphics.outlines || pathStr,\n      container: addTo,\n      attr: finalAttr,\n      component: dataset,\n      label: \"path\"\n    });\n    entityConf.drawn = true;\n    entityConf.outlineStartIndex = 0;\n    entityConf.outlinePath = [];\n    entity.graphics.outlines.shadow(showShadow ? shadowOptions : false, shadowGroup);\n    toolTipController.enableToolTip(entity.graphics.outlines, toolText);\n    return count;\n  };\n\n  _proto._configureEntityDrawingParams = function _configureEntityDrawingParams(entity) {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        entityConf = entity.config,\n        entityOpts = chart.config.entityOpts,\n        scalingParams = chart.config.scalingParams,\n        scaleStrokes = !isIE || _lib.hasSVG,\n        scaleFactor = scalingParams.scaleFactor,\n        scaledPixel = scalingParams.strokeWidth,\n        scaledPixelWithBaseFactor = (scaleStrokes ? chart.baseScaleFactor : 1) * scaledPixel,\n        scaleBorder = entityOpts.scaleBorder === 1,\n        borderThickness = entityConf.borderThickness,\n        alphaArr = entityConf.alphaArr,\n        connectorThickness = entityConf.origConnectorThickness,\n        hoverBorderThickness = entityConf.hoverBorderThickness,\n        visibleEntityAttr = entityConf.visibleEntityAttr,\n        fillOpacity = visibleEntityAttr[\"fill-opacity\"],\n        customStrokeWidthModifier;\n    entityConf.shadowOptions = {\n      scalefactor: [scaleFactor, scaleFactor * chart.config.baseScaleFactor],\n      opacity: mathMax.apply(math, alphaArr) / 100,\n      useFilter: 0\n    };\n    entityConf.fillOpacity = entity.hidden ? 0 : fillOpacity;\n\n    if (scaleStrokes) {\n      borderThickness = entityConf.entityBorderThickness = scaleBorder ? borderThickness * scaledPixelWithBaseFactor : borderThickness / scaleFactor;\n      connectorThickness = connectorThickness / scaleFactor;\n      customStrokeWidthModifier = scaleBorder ? scaleFactor : scalingParams.sFactor;\n\n      if (hoverBorderThickness) {\n        hoverBorderThickness = entityConf.hoverBorderThickness = scaleBorder ? hoverBorderThickness * scaledPixelWithBaseFactor : hoverBorderThickness / scaleFactor;\n      }\n    } else {\n      borderThickness = scaleBorder ? borderThickness * scaledPixel : borderThickness;\n      customStrokeWidthModifier = scaleBorder ? scalingParams.scaleFactor : chart.baseScaleFactor;\n    }\n\n    entityConf.entityBorderThickness = borderThickness;\n    entityConf.connectorThickness = connectorThickness;\n    entityConf.customStrokeWidthModifier = customStrokeWidthModifier;\n    visibleEntityAttr[\"stroke-width\"] = borderThickness;\n    visibleEntityAttr.transform = _lib.hasSVG || !isIE ? \"\" : scalingParams.transformStr;\n  };\n\n  _proto.drawLabels = function drawLabels(ent) {\n    var dataset = this,\n        itemMap = ent,\n        chart = dataset.getFromEnv(\"chart\"),\n        conf = dataset.config,\n        batchSize = conf.labelBatchSize,\n        keysLength = conf.entityLength,\n        labelItems = [],\n        i,\n        j,\n        annGroupElem = chart.getChildContainer(\"upperAnnotationGroup\"),\n        groupItems,\n        annObj,\n        annCount = 0,\n        mapLabelAnnotations = dataset.getChildren(\"mapLabelAnnotations\") && dataset.getChildren(\"mapLabelAnnotations\")[annCount],\n        count = 0,\n        labelItemsAdded = 0,\n        annConfig = chart.config.annotationConfig;\n\n    if (!mapLabelAnnotations) {\n      annObj = new _extAnnotation.default();\n      dataset.attachChild(annObj, \"mapLabelAnnotations\");\n      mapLabelAnnotations = dataset.getChildren(\"mapLabelAnnotations\")[annCount];\n      mapLabelAnnotations.addCustomGroup(annGroupElem);\n    }\n\n    mapLabelAnnotations.destroy();\n    mapLabelAnnotations._renderer && (mapLabelAnnotations._renderer = null);\n    annConfig.showbelow = 0;\n\n    for (i in itemMap) {\n      dataset.drawLabel(itemMap[i], labelItems);\n      count++;\n\n      if (count === batchSize) {\n        for (j = 0; j < labelItems.length; j++) {\n          labelItems[j].animationLabel = ENTITYLABEL;\n        }\n\n        groupItems = mapLabelAnnotations.addGroup(Object.assign(annConfig, {\n          id: \"entityLabels\" + annCount,\n          items: labelItems,\n          animationLabel: \"entityLabelGroup\"\n        }), dataset);\n\n        for (j = 0; j < groupItems.items.length; j++) {\n          groupItems.items[j].addEventListener(\"fc-mouseover\", labelItems[j].onmouseover);\n          groupItems.items[j].addEventListener(\"fc-mouseout\", labelItems[j].onmouseout);\n          groupItems.items[j].addEventListener(\"fc-click\", labelItems[j].onclick);\n        }\n\n        annCount++;\n        mapLabelAnnotations = dataset.getChildren(\"mapLabelAnnotations\") && dataset.getChildren(\"mapLabelAnnotations\")[annCount];\n\n        if (!mapLabelAnnotations) {\n          annObj = new _extAnnotation.default();\n          dataset.attachChild(annObj, \"mapLabelAnnotations\");\n          mapLabelAnnotations = dataset.getChildren(\"mapLabelAnnotations\")[annCount];\n          mapLabelAnnotations.addCustomGroup(annGroupElem);\n        }\n\n        mapLabelAnnotations.destroy();\n        mapLabelAnnotations._renderer && (mapLabelAnnotations._renderer = null);\n        count = 0;\n        labelItems = [];\n      } else if (labelItemsAdded === keysLength - 1) {\n        for (j = 0; j < labelItems.length; j++) {\n          labelItems[j].animationLabel = ENTITYLABEL;\n        }\n\n        groupItems = mapLabelAnnotations.addGroup(Object.assign(annConfig, {\n          id: \"entityLabels\" + annCount,\n          items: labelItems,\n          animationLabel: \"entityLabelGroup\"\n        }), dataset);\n\n        for (j = 0; j < groupItems.items.length; j++) {\n          groupItems.items[j].addEventListener(\"fc-mouseover\", labelItems[j].onmouseover);\n          groupItems.items[j].addEventListener(\"fc-mouseout\", labelItems[j].onmouseout);\n          groupItems.items[j].addEventListener(\"fc-click\", labelItems[j].onclick);\n        }\n      }\n\n      labelItemsAdded++;\n    }\n\n    dataset.drawLabelConnFn(0);\n  };\n\n  _proto.drawLabelConnFn = function drawLabelConnFn(startIndex) {\n    var dataset = this,\n        conf = dataset.config,\n        entities = dataset.components.data,\n        batchSize = conf.BATCH_SIZE,\n        keys = conf.entityKeys,\n        l,\n        i,\n        length = keys.length,\n        labelArr,\n        config,\n        entity,\n        count = 0;\n\n    for (i = startIndex; i < length; i++) {\n      entity = entities[keys[i]];\n      config = entity.config;\n\n      if (typeof config.options === \"object\") {\n        labelArr = config.labels;\n        l = labelArr && labelArr.length || 0;\n\n        while (l--) {\n          if (labelArr[l].labelConnectors) {\n            dataset.drawLabelConnectors(entity, labelArr[l].labelConnectors, dataset);\n            count++;\n          }\n        }\n      } else {\n        if (config.labelConnectors) {\n          dataset.drawLabelConnectors(entity, config.labelConnectors, dataset);\n          count++;\n        }\n      }\n\n      if (count === batchSize) {\n        dataset.addJob(\"drawLabelConnectors\", dataset.drawLabelConnFn.bind(this, i), _schedular.priorityList.entitydraw);\n        break;\n      }\n    }\n  };\n\n  _proto._getLabelObject = function _getLabelObject(entity, index, userValue) {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        chartAttrs = dataset.getFromEnv(\"chart-attrib\"),\n        entityConf = entity.config,\n        labelConfig,\n        scalingParams = chart.config.scalingParams,\n        labelPos,\n        labelAlignment,\n        firstEle = entity.graphics && entity.graphics.outlines,\n        fontStyleObj,\n        fontSize = entityConf.fontSize,\n        labelPadding = entityConf.labelPadding,\n        labelsArr = entityConf.labels || [],\n        entityLabels = entityConf.entityLabels || [],\n        baseWidth,\n        baseHeight,\n        labelX,\n        labelY,\n        box,\n        align,\n        valign,\n        fsize,\n        xOffset,\n        yOffset,\n        oriLabelObj,\n        labelObj;\n\n    if (index !== UNDEF) {\n      oriLabelObj = labelsArr[index];\n      labelObj = entityLabels[index];\n      labelConfig = labelObj.config;\n      fontStyleObj = labelConfig.style = oriLabelObj.style;\n      labelPos = oriLabelObj.labelPosition;\n      labelAlignment = oriLabelObj.labelAlignment;\n    } else {\n      labelConfig = entity.labelConfig;\n      labelPos = entityConf.labelPosition;\n      labelAlignment = entityConf.labelAlignment;\n    }\n\n    if (labelPos) {\n      labelX = labelPos[0];\n      labelY = labelPos[1];\n    } else {\n      box = firstEle.getBBox();\n      labelX = box.x + box.width / 2;\n      labelY = box.y + box.height / 2;\n    }\n\n    if (labelAlignment) {\n      align = labelAlignment[0];\n      valign = labelAlignment[1];\n\n      if (align === POSITION_RIGHT) {\n        labelX -= labelPadding;\n      } else if (align === POSITION_LEFT) {\n        labelX += labelPadding;\n      }\n\n      if (valign === POSITION_TOP) {\n        labelY -= labelPadding;\n      } else if (valign === POSITION_BOTTOM) {\n        labelY += labelPadding;\n      }\n    } else {\n      align = POSITION_CENTER;\n      valign = POSITION_MIDDLE;\n    }\n\n    fsize = parseFloat(fontSize) / scalingParams.sFactor;\n\n    if (!userValue && fontStyleObj) {\n      fontStyleObj.color && (labelConfig.fontColor = fontStyleObj.color);\n      fontStyleObj[\"font-size\"] && (fsize = parseFloat(fontStyleObj[\"font-size\"]) / scalingParams.sFactor);\n      fontStyleObj[\"font-family\"] && (labelConfig.fontFamily = fontStyleObj[\"font-family\"]);\n      fontStyleObj[\"font-weight\"] !== UNDEF && (labelConfig.fontBold = fontStyleObj[\"font-weight\"] === \"bold\");\n    }\n\n    labelConfig.x = labelX.toString();\n    labelConfig.y = labelY.toString();\n    labelConfig.wrap = 1;\n    labelConfig.type = TEXT_STR;\n    labelConfig.fontSize = fsize;\n    return {\n      x: labelX.toString(),\n      y: labelY.toString(),\n      wrapwidth: getTextWrapWidth[align](baseWidth, labelX + xOffset) - labelPadding,\n      wrapheight: getTextWrapHeight[valign](baseHeight, labelY + yOffset) - labelPadding,\n      wrap: 1,\n      type: \"text\",\n      align: labelConfig.align,\n      valign: labelConfig.vAlign,\n      text: labelConfig.displayValue,\n      tooltext: labelConfig.toolText,\n      outlineText: (0, _lib.pluckNumber)(chartAttrs.textoutline, 0),\n      css: labelConfig.link !== UNDEF && {\n        cursor: \"pointer\",\n        _cursor: \"hand\"\n      },\n      bgcolor: labelConfig.bgColor,\n      bordercolor: labelConfig.borderColor,\n      fillcolor: labelConfig.fontColor,\n      fontsize: labelConfig.fontSize,\n      font: labelConfig.fontFamily,\n      bold: labelConfig.fontBold,\n      onclick: function onclick(e) {\n        var hoverEnt = entity.graphics.outlines,\n            i,\n            len;\n\n        if (hoverEnt instanceof Array) {\n          for (i = 0, len = hoverEnt.length; i < len; i++) {\n            dataset.entityClick(hoverEnt[i].outline, e);\n          }\n        } else {\n          dataset.entityClick(hoverEnt, e);\n        }\n      },\n      onmouseover: function onmouseover(e) {\n        var hoverEnt = entity.graphics.outlines,\n            i,\n            len;\n\n        if (hoverEnt instanceof Array) {\n          for (i = 0, len = hoverEnt.length; i < len; i++) {\n            dataset.entityRollOver(hoverEnt[i].outline, e);\n          }\n        } else {\n          dataset.entityRollOver(hoverEnt, e);\n        }\n      },\n      onmouseout: function onmouseout(e) {\n        var hoverEnt = entity.graphics.outlines,\n            i,\n            len;\n\n        if (hoverEnt instanceof Array) {\n          for (i = 0, len = hoverEnt.length; i < len; i++) {\n            dataset.entityRollOut(hoverEnt[i].outline, e);\n          }\n        } else {\n          dataset.entityRollOut(hoverEnt, e);\n        }\n      },\n      ontouchstart: function ontouchstart(e) {\n        var hoverEnt = entity.graphics.outlines,\n            i,\n            len;\n\n        if (hoverEnt instanceof Array) {\n          for (i = 0, len = hoverEnt.length; i < len; i++) {\n            dataset.entityRollOver(hoverEnt[i].outline, e);\n          }\n        } else {\n          dataset.entityRollOver(hoverEnt, e);\n        }\n\n        dataset.entityRollOver(hoverEnt, e);\n      }\n    };\n  };\n\n  _proto.drawLabel = function drawLabel(entity, annotationsArray) {\n    var dataset = this,\n        config = entity.config,\n        showLabel = config.showLabel,\n        useValue,\n        i,\n        labelArr;\n\n    if (!showLabel) {\n      return;\n    }\n\n    if (typeof config.options === \"object\") {\n      labelArr = config.labels;\n      i = labelArr && labelArr.length || 0;\n      useValue = config.options.isDataEnabled;\n\n      while (i--) {\n        annotationsArray.push(dataset._getLabelObject(entity, i, useValue, !i));\n      }\n    } else {\n      annotationsArray.push(dataset._getLabelObject(entity, UNDEF, true, true));\n    }\n  };\n\n  _proto.drawLabelConnectors = function drawLabelConnectors(entity, connectorArr, dataSet) {\n    var entityConf = entity.config,\n        dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        animationManager = chart.getFromEnv(\"animationManager\"),\n        scalingParams = chart.config.scalingParams,\n        datasetGroup = dataSet.getLinkedParent().getChildContainer(\"plot\"),\n        i = connectorArr && connectorArr.length || 0,\n        connElem,\n        path,\n        showLabel = entityConf.showLabel;\n\n    while (i--) {\n      path = connectorArr[i];\n      connElem = entity.graphics.connectorElem;\n\n      if (showLabel) {\n        entity.graphics.connectorElem = connElem = animationManager.setAnimation({\n          el: entity.graphics.connectorElem || \"path\",\n          attr: {\n            path: path,\n            opacity: 1,\n            transform: _lib.hasSVG || !isIE ? \"\" : scalingParams.transformStr,\n            stroke: (0, _lib.convertColor)(entityConf.connectorColor, entityConf.connectorAlpha),\n            \"shape-rendering\": CRISP,\n            \"stroke-width\": entityConf.connectorThickness\n          },\n          container: datasetGroup,\n          component: dataset,\n          label: \"labelConnectors\"\n        });\n      } else {\n        connElem && connElem.hide();\n      }\n    }\n  };\n\n  _proto.entityClick = function entityClick(entityElem, e) {\n    var entity = entityElem.node.__entity,\n        dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        scalingParams = chart.config.scalingParams,\n        entityBox = entityElem.getBBox(),\n        linkClickFN = chart.getFromEnv(\"linkClickFN\"),\n        config = entity.config,\n        link = config.link;\n    entityBox.width = entityBox.width * scalingParams.scaleFactor;\n    entityBox.height = entityBox.height * scalingParams.scaleFactor;\n    entityBox.x = entityBox.x * scalingParams.scaleFactor + scalingParams.translateX;\n    entityBox.y = entityBox.y * scalingParams.scaleFactor + scalingParams.translateY;\n    entityBox.x2 = entityBox.x + entityBox.width;\n    entityBox.y2 = entityBox.y + entityBox.height;\n    chart.fireChartInstanceEvent(\"entityclick\", config.eventArgs, e);\n\n    if (link !== UNDEF) {\n      linkClickFN.call({\n        link: link,\n        entity: entity,\n        entityBox: entityBox\n      }, true);\n    }\n  };\n\n  _proto.entityRollOver = function entityRollOver(entityElem, e) {\n    var entity = entityElem.node.__entity,\n        dataset = this,\n        config = entity.config,\n        chart = dataset.getFromEnv(\"chart\"),\n        animationManager = chart.getFromEnv(\"animationManager\"),\n        hoverAttr = config.hoverAttr;\n    chart.plotEventHandler(entityElem, e, \"entityRollOver\");\n\n    if (entityElem.data(\"hovered\")) {\n      clearTimeout(entity.config.timer);\n    } else {\n      if (config.useHoverColor && config.isVisible && !entity.hidden && hoverAttr) {\n        chart.config.hoverEntity = entityElem;\n        animationManager.setAnimation({\n          el: entityElem,\n          attr: hoverAttr,\n          component: dataset,\n          state: \"updating\",\n          label: \"path\"\n        });\n        entityElem.data(\"hovered\", true);\n      }\n    }\n  };\n\n  _proto.entityRollOut = function entityRollOut(entityElem, e) {\n    var entity = entityElem.node.__entity,\n        dataset = this,\n        hidden,\n        chart = dataset.getFromEnv(\"chart\"),\n        animationManager = chart.getFromEnv(\"animationManager\"),\n        config = entity.config,\n        revertAttr = config.revertAttr;\n    chart.plotEventHandler(entityElem, e, \"entityRollOut\");\n    entity.config.timer = setTimeout(function () {\n      hidden = entity.hidden;\n\n      if (hidden !== true && revertAttr) {\n        animationManager.setAnimation({\n          el: entityElem,\n          attr: revertAttr,\n          component: dataset,\n          state: \"updating\",\n          label: \"path\"\n        });\n        entityElem.data(\"hovered\", false);\n      }\n    }, 100);\n  };\n\n  _proto.addMouseGestures = function addMouseGestures(entity) {\n    var config = entity.config,\n        originalId = config.originalId,\n        dataset = this,\n        graphics = entity.graphics,\n        useHoverColor = config.useHoverColor,\n        hoverBorderThickness = config.hoverBorderThickness,\n        hoverBorderColor = config.hoverBorderColor,\n        hoverBorderAlpha = config.hoverBorderAlpha,\n        borderThickness = config.entityBorderThickness,\n        borderColor = config.borderColor,\n        borderAlpha = config.borderAlpha,\n        link = config.link,\n        visibleEntityAttr = config.visibleEntityAttr,\n        groupId = \"groupId\" + originalId,\n        item,\n        i,\n        graphic,\n        len,\n        outlines,\n        bindListener = function bindListener(graphicEle) {\n      if (link !== UNDEF) {\n        graphicEle.css({\n          cursor: \"pointer\",\n          _cursor: \"hand\"\n        });\n      }\n\n      graphicEle.data(\"eventArgs\", config.eventArgs);\n      graphicEle.data(\"groupId\", groupId);\n      graphicEle.node.__entity = entity;\n\n      if (!entity._listenersBinded) {\n        graphicEle.on(\"fc-click\", dataset.entityClick.bind(dataset, graphicEle)).hover(dataset.entityRollOver.bind(dataset, graphicEle), dataset.entityRollOut.bind(dataset, graphicEle));\n      }\n    };\n\n    config.eventArgs = {\n      value: config.cleanValue,\n      label: config.label,\n      shortLabel: config.shortLabel,\n      originalId: config.origId,\n      id: config.id || config.origId\n    };\n    config.legacyEventArgs = {\n      value: config.value,\n      lName: config.label,\n      sName: config.shortLabel,\n      id: config.originalId || config.id\n    };\n\n    if (useHoverColor) {\n      config.hoverAttr = {\n        fill: (0, _lib.toRaphaelColor)(config.hoverColor)\n      };\n      config.revertAttr = {\n        fill: (0, _lib.toRaphaelColor)(config.fillColor),\n        stroke: (0, _lib.toRaphaelColor)(config.borderColor, config.borderAlpha)\n      };\n      config.revertAttr[\"fill-opacity\"] = visibleEntityAttr[\"fill-opacity\"];\n\n      if (hoverBorderThickness !== borderThickness) {\n        config.hoverAttr[\"stroke-width\"] = (0, _lib.pluckNumber)(hoverBorderThickness, borderThickness);\n        config.revertAttr[\"stroke-width\"] = borderThickness;\n      }\n\n      if (hoverBorderColor !== borderColor || hoverBorderAlpha !== borderAlpha) {\n        config.hoverAttr.stroke = (0, _lib.convertColor)(hoverBorderColor, hoverBorderAlpha);\n        config.revertAttr.stroke = (0, _lib.convertColor)(borderColor, borderAlpha);\n      }\n    }\n\n    for (item in graphics) {\n      if (graphics.hasOwnProperty(item)) {\n        if (graphics[item] instanceof Array) {\n          outlines = graphics[item];\n\n          for (i = 0, len = outlines.length; i < len; i++) {\n            graphic = outlines[i].outline;\n            bindListener(graphic);\n          }\n\n          entity._listenersBinded = true;\n        } else {\n          graphic = graphics[item];\n          bindListener(graphic);\n          entity._listenersBinded = true;\n        }\n      }\n    }\n  };\n\n  _proto.getDataLimits = function getDataLimits() {\n    var dataset = this,\n        conf = dataset.config;\n    return {\n      max: conf.max,\n      min: conf.min\n    };\n  };\n\n  _proto.createContainer = function createContainer() {\n    var dataset = this,\n        parent = dataset.getLinkedParent(),\n        animationManager = dataset.getFromEnv(\"animationManager\"),\n        pContainer = parent.getChildContainer(\"layer0\");\n    !dataset.getChildContainer(\"abovePlotGroup\") && dataset.addChildContainer(\"abovePlotGroup\", animationManager.setAnimation({\n      el: \"group\",\n      attr: {\n        name: \"abovePlotGroup\",\n        opacity: 1\n      },\n      container: pContainer,\n      component: dataset,\n      label: \"group\"\n    }));\n    !dataset.getChildContainer(\"belowPlotGroup\") && dataset.addChildContainer(\"belowPlotGroup\", animationManager.setAnimation({\n      el: \"group\",\n      attr: {\n        name: \"belowPlotGroup\",\n        opacity: 1\n      },\n      container: pContainer,\n      component: dataset,\n      label: \"group\"\n    }));\n  };\n\n  _proto.initComplete = function initComplete() {\n    var dataset = this,\n        chart = dataset.getFromEnv(\"chart\"),\n        entities = dataset.components.data;\n    this.drawLabels(entities);\n    chart.config.entitiesReady = true;\n    chart.checkComplete();\n  };\n\n  return Entities;\n}(_componentInterface.ComponentInterface);\n\nvar _default = Entities;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/maps/src/dataset/entities/index.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_inheritsLoose2","_componentInterface","_extAnnotation","_dependencyManager","_mapEntities","_lib","_schedular","_redraphaelShapes","Raphael","getDep","UNDEF","userAgent","window","navigator","isIE","test","opera","COMMA","BLANK","POSITION_TOP","POSITION_BOTTOM","POSITION_RIGHT","POSITION_LEFT","POSITION_MIDDLE","POSITION_CENTER","ENTITYLABEL","TEXT_STR","CRISP","math","Math","mathMin","min","mathMax","max","isStrokeReg","isWebKit","mathCeil","ceil","colorize","original","obj","col","FCcolor","extend2","toString","toRaphaelColor","pruneStrokeAttrs","thicknessModifier","key","returnObj","finalThicknessModifier","Number","getTextWrapWidth","right","arguments","left","w","x","center","getTextWrapHeight","top","middle","h","y","bottom","setCustomAttrs","entityObj","attrs","graphics","outlines","attr","convertArrayToIdMap","arr","i","length","ret","item","id","toLowerCase","addDep","name","type","extension","Entities","_ComponentInterface","_this","call","components","_proto","prototype","getName","getType","configureAttributes","entityJSONDataOb","JSONData","data","dataset","chart","getFromEnv","rawData","jsonData","conf","config","mapAttrs","map","entityJSONData","entities","dataItem","entityItem","minMaxArray","minMaxArrayLen","d","colorManager","entityDef","entitydef","attachEvent","addExtEventListener","component","legendInteractivity","legendItem","colorObj","maxMinArray","updateEntityColors","useSNameAsId","pluckNumber","usesnameasid","_redefineEntities","showTooltip","showtooltip","showHoverEffect","showhovereffect","calculateDataLimits","colorrange","_detachChild","getChildren","_configureEntity","imprint","_sanitizeEntityOptions","minValue","maxValue","_chart$config$entityO","entityOpts","nullEntityAlpha","nullEntityColor","value","alphaArr","visibleEntityAttr","nullAttr","fill","alpha","hiddenAttr","hasOwnProperty","cleanValue","hidden","entityColorObj","entity","visible","hasState","colorRange","entityAttrs","applyAttr","setAnimationState","getColorObj","code","outOfRange","setLegendState","removeLegendState","dataArr","numberFormatter","Infinity","len","getCleanValue","entityJSON","chartConf","entityConf","labelConfig","formattedValue","dataLabels","defaultTooltip","_getDefaultTooltip","tooltextMacroObj","sName","shortLabel","lName","label","styleObj","style","toolText","parseUnsafeString","pluck","parseTooltext","tooltext","borderColor","bordercolor","borderAlpha","borderalpha","borderThickness","borderthickness","hoverOnNull","useHoverColor","usehovercolor","isNaN","labelAlignment","link","align","valign","color","angle","ratio","fillColor","fontColor","fontFamily","fontBold","emptyColorObject","fillColorObject","hoverColor","bgColor","bgAlpha","labels","labelObj","oriLabels","showLabel","showlabel","showLabels","labelPadding","labelpadding","font","fontSize","parseInt","fontsize","fontbold","labelcolor","fontcolor","labelBgColor","labelbgcolor","labelBorderColor","labelbordercolor","connectorColor","labelconnectorcolor","connectorAlpha","labelconnectoralpha","hoverBorderThickness","borderhoverthickness","hoverborderthickness","hoverBorderColor","borderhovercolor","hoverbordercolor","hoverBorderAlpha","borderhoveralpha","hoverborderalpha","connectorThickness","labelconnectorthickness","origConnectorThickness","isVisible","originalId","origId","getColor","oriAlpha","fillAlpha","fillAngle","fillRatio","nullEntityAngle","nullEntityRatio","stroke","convertColor","split","fillhovercolor","fillhoveralpha","fillhoverangle","fillhoverratio","hoverfillcolor","hoverfillalpha","hoverfillratio","hoverfillangle","hoverFillColor","hoverFillAlpha","hoverFillAngle","hoverFillRatio","hoverColorObject","vAlign","options","entityLabels","displayValue","getDisplayValue","isDataEnabled","shortText","text","userValue","userDV","labelSepChar","displayvalue","includeNameInLabels","useShortName","includeValueInLabels","shortlabel","labelposition","labelalignment","labelconnectors","redefinedEntities","processedIds","defObj","oldId","newId","newObj","entityCount","entityStore","entityDataStore","internalid","newid","sname","lname","trimString","draw","BATCH_SIZE","hasSVG","doBatchRendering","createContainer","ready","labelBatchSize","_batchRender","entityFlag","checkComplete","firstEntity","batchSize","keys","entityKeys","_getKeys","Object","keysLength","entityLength","count","ent","outlinesDrawn","drawEntities","entityStartIndex","drawEntity","drawn","outlineStartIndex","addJob","bind","priorityList","entitydraw","_addEventListenersToEntities","initComplete","startIndex","addMouseGestures","nextId","push","tooltip","useSNameInTooltip","tooltipSepChar","outlinesDrawCount","animationManager","pathStr","toolTipController","addTo","getLinkedParent","getChildContainer","shadowGroup","showShadow","shadow","outlinePath","path","outlineGraphics","outline","customStrokeWidthModifier","finalAttr","shadowOptions","_configureEntityDrawingParams","setAnimation","el","container","enableToolTip","concat","assign","scalingParams","scaleStrokes","scaleFactor","scaledPixel","strokeWidth","scaledPixelWithBaseFactor","baseScaleFactor","scaleBorder","fillOpacity","scalefactor","opacity","apply","useFilter","entityBorderThickness","sFactor","transform","transformStr","drawLabels","itemMap","labelItems","j","annGroupElem","groupItems","annObj","annCount","mapLabelAnnotations","labelItemsAdded","annConfig","annotationConfig","attachChild","addCustomGroup","destroy","_renderer","showbelow","drawLabel","animationLabel","addGroup","items","addEventListener","onmouseover","onmouseout","onclick","drawLabelConnFn","l","labelArr","labelConnectors","drawLabelConnectors","_getLabelObject","index","chartAttrs","labelPos","firstEle","fontStyleObj","labelsArr","baseWidth","baseHeight","labelX","labelY","box","fsize","xOffset","yOffset","oriLabelObj","labelPosition","getBBox","width","height","parseFloat","wrap","wrapwidth","wrapheight","outlineText","textoutline","css","cursor","_cursor","bgcolor","fillcolor","bold","e","hoverEnt","Array","entityClick","entityRollOver","entityRollOut","ontouchstart","annotationsArray","useValue","connectorArr","dataSet","datasetGroup","connElem","connectorElem","hide","entityElem","node","__entity","entityBox","linkClickFN","translateX","translateY","x2","y2","fireChartInstanceEvent","eventArgs","hoverAttr","plotEventHandler","clearTimeout","timer","hoverEntity","state","revertAttr","setTimeout","groupId","graphic","bindListener","graphicEle","_listenersBinded","on","hover","legacyEventArgs","getDataLimits","parent","pContainer","addChildContainer","entitiesReady","ComponentInterface","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _inheritsLoose2=_interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));var _componentInterface=require(\"@fusioncharts/core/src/component-interface\");var _extAnnotation=_interopRequireDefault(require(\"@fusioncharts/features/src/annotation/ext-annotation\"));var _dependencyManager=require(\"@fusioncharts/core/src/dependency-manager\");var _mapEntities=_interopRequireDefault(require(\"../_internal/map-entities.animation\"));var _lib=require(\"@fusioncharts/core/src/lib\");var _schedular=require(\"@fusioncharts/core/src/schedular\");var _redraphaelShapes=_interopRequireDefault(require(\"@fusioncharts/core/src/_internal/redraphael/redraphael-shapes/redraphael-shapes.litepath\"));var Raphael=(0,_dependencyManager.getDep)(\"redraphael\",\"plugin\"),UNDEF,userAgent=window.navigator.userAgent,isIE=/msie/i.test(userAgent)&&!window.opera,COMMA=\",\",BLANK=\"\",POSITION_TOP=\"top\",POSITION_BOTTOM=\"bottom\",POSITION_RIGHT=\"right\",POSITION_LEFT=\"left\",POSITION_MIDDLE=\"middle\",POSITION_CENTER=\"center\",ENTITYLABEL=\"entityLabel\",TEXT_STR=\"text\",CRISP=\"crisp\",math=window.Math,mathMin=math.min,mathMax=math.max,isStrokeReg=/stroke/gi,isWebKit=/AppleWebKit/.test(userAgent),mathCeil=math.ceil,colorize=function colorize(original,obj){var col=!obj?{FCcolor:original}:(0,_lib.extend2)(original.FCcolor,obj,false,true);col.toString=_lib.toRaphaelColor;return col},pruneStrokeAttrs=function pruneStrokeAttrs(obj,thicknessModifier){var key,returnObj={},finalThicknessModifier;finalThicknessModifier=thicknessModifier||1;if(!obj||typeof obj!==\"object\"){return returnObj}for(key in obj){if(!isStrokeReg.test(key)){if(key===\"stroke-width\"){returnObj[key]=Number(obj[key])/finalThicknessModifier;if(isWebKit){returnObj[key]=returnObj[key]&&mathCeil(returnObj[key])||0}}else{returnObj[key]=obj[key]}}}return returnObj},getTextWrapWidth={right:function right(){return arguments[1]},left:function left(w,x){return w-x},center:function center(w,x){return mathMin(x,w-x)*2}},getTextWrapHeight={top:function top(){return arguments[1]},middle:function middle(h,y){return mathMin(y,h-y)*2},bottom:function bottom(h,y){return h-y}},setCustomAttrs=function setCustomAttrs(entityObj,attrs){entityObj&&entityObj.graphics.outlines.attr(attrs)},convertArrayToIdMap=function convertArrayToIdMap(arr){var i=arr&&arr.length||0,ret={},item;while(i--){item=arr[i];if(item.id!==UNDEF){ret[item.id.toLowerCase()]=item}}return ret};(0,_dependencyManager.addDep)({name:\"mapsAnimation\",type:\"animationRule\",extension:_mapEntities.default});(0,_redraphaelShapes.default)(Raphael);var Entities=function(_ComponentInterface){(0,_inheritsLoose2.default)(Entities,_ComponentInterface);function Entities(){var _this;_this=_ComponentInterface.call(this)||this;_this.components={};return _this}var _proto=Entities.prototype;_proto.getName=function getName(){return\"entities\"};_proto.getType=function getType(){return\"dataset\"};_proto.configureAttributes=function configureAttributes(entityJSONDataOb){if(!entityJSONDataOb){return}this.JSONData={data:entityJSONDataOb};var dataset=this,chart=dataset.getFromEnv(\"chart\"),rawData=chart.jsonData,conf=dataset.config,mapAttrs=rawData.map||rawData.chart,entityJSONData,entities,dataItem,entityItem,item,minMaxArray=[],minMaxArrayLen,i,d,colorManager=dataset.getFromEnv(\"colorManager\"),entityDef=rawData.entitydef||[];if(!conf.attachEvent&&colorManager){dataset.addExtEventListener(\"legendUpdate\",(function(){d=arguments[1];if(d.component===\"legend\"){dataset.legendInteractivity(d.legendItem,d.colorObj)}else{minMaxArray=d.maxMinArray;minMaxArrayLen=minMaxArray.length;for(i=0;i<minMaxArrayLen;i++){dataset.updateEntityColors(minMaxArray[i].min,minMaxArray[i].max)}}}),colorManager);conf.attachEvent=true}if(rawData.data&&rawData.data[0]&&rawData.data[0].data){entityJSONData=dataset.JSONData=rawData.data[0].data||[]}else{entityJSONData=dataset.JSONData=rawData.data||[]}conf.useSNameAsId=(0,_lib.pluckNumber)(mapAttrs.usesnameasid,0);this._redefineEntities(entityDef);entities=dataset.components.data;conf.showTooltip=(0,_lib.pluckNumber)(mapAttrs.showtooltip,1);conf.showHoverEffect=(0,_lib.pluckNumber)(mapAttrs.showhovereffect,0);entityJSONData=convertArrayToIdMap(entityJSONData);dataset.calculateDataLimits();!rawData.colorrange&&dataset._detachChild(dataset.getChildren(\"colorRange\")&&dataset.getChildren(\"colorRange\")[0]);for(item in entities){dataItem=entityJSONData[item];entityItem=entities[item];if(dataItem){this._configureEntity(item,entityItem,(0,_lib.imprint)(Entities._sanitizeEntityOptions((0,_lib.extend2)({},dataItem)),entityItem.config))}else{this._configureEntity(item,entityItem,entityItem.config)}}};_proto.updateEntityColors=function updateEntityColors(minValue,maxValue){var dataset=this,entities=dataset.components.data,chart=dataset.getFromEnv(\"chart\"),_chart$config$entityO=chart.config.entityOpts,nullEntityAlpha=_chart$config$entityO.nullEntityAlpha,nullEntityColor=_chart$config$entityO.nullEntityColor,entityObj,config,value,name,alphaArr,visibleEntityAttr,nullAttr=colorize({fill:nullEntityColor,alpha:nullEntityAlpha}),hiddenAttr={\"fill-opacity\":0};for(name in entities){if(entities.hasOwnProperty(name)){entityObj=entities[name];config=entityObj.config;value=config.cleanValue;alphaArr=config.alphaArr||[];visibleEntityAttr={\"fill-opacity\":alphaArr[0]/100||1};if(value==null){setCustomAttrs(entityObj,nullAttr);entityObj.hidden=false}else if(value<minValue||value>maxValue){setCustomAttrs(entityObj,hiddenAttr);entityObj.hidden=true}else{setCustomAttrs(entityObj,visibleEntityAttr);entityObj.hidden=false}}}};_proto.legendInteractivity=function legendInteractivity(legendItem,entityColorObj){var dataset=this,chart=dataset.getFromEnv(\"chart\"),entities=dataset.components.data,i,entity,config=legendItem.config,visible=legendItem.hasState(\"hidden\"),cleanValue,colorRange=dataset.getFromEnv(\"colorManager\"),entityAttrs,visibleEntityAttr={},applyAttr,hiddenAttr={\"fill-opacity\":0},colorObj;chart.getFromEnv(\"animationManager\").setAnimationState(\"legendInteraction\");for(i in entities){if(entities.hasOwnProperty(i)){entity=entities[i];config=entity.config;cleanValue=config.cleanValue;colorObj=colorRange.getColorObj(cleanValue);entityAttrs=config.visibleEntityAttr;visibleEntityAttr[\"fill-opacity\"]=entityAttrs[\"fill-opacity\"];applyAttr=!visible?hiddenAttr:visibleEntityAttr;if(entityColorObj.code===(!colorObj.outOfRange&&colorObj.code)){entity.hidden=!visible;setCustomAttrs(entity,applyAttr);if(!visible){legendItem.setLegendState(\"hidden\")}else{legendItem&&legendItem.removeLegendState(\"hidden\")}}}}};_proto.calculateDataLimits=function calculateDataLimits(){var dataset=this,chart=dataset.getFromEnv(\"chart\"),conf=dataset.config,jsonData=chart.jsonData,dataArr=jsonData.data||[],numberFormatter=this.getFromEnv(\"number-formatter\"),cleanValue,value,minValue=+Infinity,maxValue=-Infinity,len,i;for(i=0,len=dataArr.length;i<len;i++){value=dataArr[i].value;cleanValue=numberFormatter.getCleanValue(value);minValue=mathMin(minValue,cleanValue);maxValue=mathMax(maxValue,cleanValue)}conf.max=maxValue;conf.min=minValue};_proto._configureEntity=function _configureEntity(id,entityItem,entityJSON){var dataset=this,chart=dataset.getFromEnv(\"chart\"),conf=dataset.config,numberFormatter=this.getFromEnv(\"number-formatter\"),chartConf=chart.config,entityOpts=chartConf.entityOpts,entityConf=entityItem.config,labelConfig=entityItem.labelConfig,value=entityJSON.value,cleanValue=entityConf.cleanValue=numberFormatter.getCleanValue(value),formattedValue=entityConf.formattedValue=cleanValue!==UNDEF?numberFormatter.dataLabels(cleanValue):UNDEF,showTooltip=(0,_lib.pluckNumber)(entityJSON.showtooltip,entityOpts.showTooltip),defaultTooltip=this._getDefaultTooltip(entityItem,entityJSON,dataset),tooltextMacroObj={formattedValue:formattedValue,sName:entityJSON.shortLabel,lName:entityJSON.label},styleObj=entityOpts.dataLabels.style,toolText=entityConf.toolText=showTooltip?(0,_lib.parseUnsafeString)((0,_lib.pluck)((0,_lib.parseTooltext)((0,_lib.pluck)(entityJSON.tooltext,entityOpts.tooltext,defaultTooltip),[1,2,7,38,39],tooltextMacroObj,entityJSON)),false):BLANK,borderColor=entityConf.borderColor=(0,_lib.pluck)(entityJSON.bordercolor,entityOpts.borderColor),borderAlpha=entityConf.borderAlpha=(0,_lib.pluck)(entityJSON.borderalpha,entityOpts.borderAlpha),borderThickness=entityConf.borderThickness=(0,_lib.pluckNumber)(entityJSON.borderthickness,entityOpts.borderThickness),hoverOnNull=entityOpts.hoverOnNull,useHoverColor=entityConf.useHoverColor=(0,_lib.pluckNumber)(entityJSON.showhovereffect,entityJSON.usehovercolor,hoverOnNull?entityOpts.showHoverEffect:isNaN(value)?0:entityOpts.showHoverEffect),labelAlignment=entityConf.labelAlignment,colorManager=dataset.getFromEnv(\"colorManager\"),colorObj,link,align,valign,color,alpha,angle,ratio,fillColor,fontColor,fontFamily,fontBold,emptyColorObject,fillColorObject,hoverColor,bgColor,bgAlpha,labels,labelObj,oriLabels,i,alphaArr;entityItem.hidden=false;entityConf.showLabel=(0,_lib.pluckNumber)(entityJSON.showlabel,entityOpts.showLabels);entityConf.labelPadding=(0,_lib.pluckNumber)(entityJSON.labelpadding,entityOpts.labelPadding);entityConf.fontFamily=(0,_lib.pluck)(entityJSON.font,styleObj.fontFamily);entityConf.fontSize=(0,_lib.pluckNumber)(parseInt(entityJSON.fontsize,10),parseInt(styleObj.fontSize,10));entityConf.fontBold=(0,_lib.pluckNumber)(entityJSON.fontbold,0);entityConf.fontColor=(0,_lib.pluck)(entityJSON.labelcolor,entityJSON.fontcolor,styleObj.color);entityConf.labelBgColor=(0,_lib.pluck)(entityJSON.labelbgcolor,styleObj.bgColor)||BLANK;entityConf.labelBorderColor=(0,_lib.pluck)(entityJSON.labelbordercolor,styleObj.borderColor)||BLANK;entityConf.connectorColor=(0,_lib.pluck)(entityJSON.labelconnectorcolor,entityOpts.connectorColor);entityConf.connectorAlpha=(0,_lib.pluck)(entityJSON.labelconnectoralpha,entityOpts.connectorAlpha);entityConf.hoverBorderThickness=(0,_lib.pluckNumber)(entityJSON.borderhoverthickness,entityJSON.hoverborderthickness,entityOpts.hoverBorderThickness);entityConf.hoverBorderColor=(0,_lib.pluck)(entityJSON.borderhovercolor,entityJSON.hoverbordercolor,entityOpts.hoverBorderColor,entityConf.borderColor);entityConf.hoverBorderAlpha=(0,_lib.pluck)(entityJSON.borderhoveralpha,entityJSON.hoverborderalpha,entityOpts.hoverBorderAlpha,entityConf.borderAlpha);entityConf.connectorThickness=(0,_lib.pluckNumber)(entityJSON.labelconnectorthickness,entityOpts.connectorThickness);entityConf.origConnectorThickness=entityConf.connectorThickness;entityConf.borderThickness=borderThickness;entityConf.link=entityJSON.link;entityConf.isVisible=true;entityConf.id=id;entityConf.originalId=entityJSON.origId;if(cleanValue!==null){colorObj=colorManager&&colorManager.getColor(cleanValue);if(colorObj&&!colorObj.outOfRange){bgColor=colorObj.code;if(colorObj.oriAlpha!==UNDEF){bgAlpha=colorObj.oriAlpha+\"\"}}}if((0,_lib.pluck)(entityJSON.color,entityJSON.alpha,entityJSON.angle,entityJSON.ratio)!==UNDEF){color=(0,_lib.pluck)(entityJSON.color,bgColor,entityOpts.fillColor);alpha=(0,_lib.pluck)(entityJSON.alpha,bgAlpha,entityOpts.fillAlpha);angle=(0,_lib.pluck)(entityJSON.angle,entityOpts.fillAngle);ratio=(0,_lib.pluck)(entityJSON.ratio,entityOpts.fillRatio);fillColor=colorize({color:color,alpha:alpha,angle:angle,ratio:ratio})}else{fillColorObject=colorize({color:(0,_lib.pluck)(bgColor,entityOpts.fillColor),alpha:(0,_lib.pluck)(bgAlpha,entityOpts.fillAlpha),angle:(0,_lib.pluck)(entityOpts.fillAngle),ratio:(0,_lib.pluck)(entityOpts.fillRatio)});emptyColorObject=colorize({color:(0,_lib.pluck)(entityOpts.nullEntityColor),alpha:(0,_lib.pluck)(entityOpts.nullEntityAlpha),angle:(0,_lib.pluck)(entityOpts.nullEntityAngle),ratio:(0,_lib.pluck)(entityOpts.nullEntityRatio)});fillColor=cleanValue===null?emptyColorObject:fillColorObject;color=fillColor.FCcolor.color;alpha=fillColor.FCcolor.alpha;angle=fillColor.FCcolor.angle;ratio=fillColor.FCcolor.ratio}if(toolText===BLANK){conf.showTooltip=0}entityConf.visibleEntityAttr={stroke:(0,_lib.convertColor)(borderColor,borderAlpha),fill:(entityConf.fillColor=fillColor).toString(),\"fill-opacity\":alpha/100};alphaArr=alpha.split(COMMA);entityConf.alphaArr=alphaArr;if(useHoverColor){if((0,_lib.pluck)(entityJSON.fillhovercolor,entityJSON.fillhoveralpha,entityJSON.fillhoverangle,entityJSON.fillhoverratio,entityJSON.hoverfillcolor,entityJSON.hoverfillalpha,entityJSON.hoverfillratio,entityJSON.hoverfillangle)!==UNDEF){color=(0,_lib.pluck)(entityJSON.fillhovercolor,entityJSON.hoverfillcolor,entityOpts.hoverFillColor);alpha=(0,_lib.pluck)(entityJSON.fillhoveralpha,entityJSON.hoverfillalpha,entityOpts.hoverFillAlpha);angle=(0,_lib.pluck)(entityJSON.fillhoverangle,entityJSON.hoverfillangle,entityOpts.hoverFillAngle);ratio=(0,_lib.pluck)(entityJSON.fillhoverratio,entityJSON.hoverfillratio,entityOpts.hoverFillRatio);hoverColor=colorize({color:color,alpha:alpha,angle:angle,ratio:ratio})}else{if(!entityOpts.hoverColorObject){entityOpts.hoverColorObject=colorize({color:entityOpts.hoverFillColor,alpha:entityOpts.hoverFillAlpha,angle:entityOpts.hoverFillAngle,ratio:entityOpts.hoverFillRatio})}hoverColor=entityOpts.hoverColorObject}entityConf.hoverColor=hoverColor}!labelConfig&&(labelConfig=entityItem.labelConfig={});fontColor=entityConf.fontColor;fontFamily=entityConf.fontFamily;fontBold=entityConf.fontBold;toolText=entityConf.toolText;link=entityConf.link;if(labelAlignment){align=labelAlignment[0];valign=labelAlignment[1]}else{align=POSITION_CENTER;valign=POSITION_MIDDLE}labelConfig.align=align;labelConfig.vAlign=valign;labelConfig.fontColor=fontColor;labelConfig.bgColor=entityConf.labelBgColor;labelConfig.borderColor=entityConf.labelBorderColor;labelConfig.fontFamily=fontFamily;labelConfig.fontBold=fontBold;labelConfig.toolText=toolText;labelConfig.link=link;if(typeof entityConf.options===\"object\"){labels=entityConf.entityLabels=entityConf.entityLabels||[];oriLabels=entityConf.labels||[];i=oriLabels.length;while(i--){if(!labels[i]){labels[i]={config:{}}}labelConfig=labels[i].config;labelAlignment=oriLabels[i].labelAlignment;if(labelAlignment){align=labelAlignment[0];valign=labelAlignment[1]}else{align=POSITION_CENTER;valign=POSITION_MIDDLE}labelConfig.align=align;labelConfig.vAlign=valign;labelConfig.displayValue=dataset.getDisplayValue(entityItem,oriLabels[i],entityConf.options.isDataEnabled,!i,entityJSON);labelConfig.toolText=toolText;labelConfig.align=align;labelConfig.vAlign=valign;labelConfig.bgColor=entityConf.labelBgColor;labelConfig.borderColor=entityConf.labelBorderColor;labelConfig.fontColor=fontColor;labelConfig.fontFamily=fontFamily;labelConfig.fontBold=fontBold;labelConfig.toolText=toolText}}else{labelObj={shortText:entityConf.shortLabel,text:entityConf.label};labelConfig.displayValue=dataset.getDisplayValue(entityItem,labelObj,true,true,entityJSON)}};_proto.getDisplayValue=function getDisplayValue(entity,labelObj,userValue,userDV,entityJSON){var chart=this.getFromEnv(\"chart\"),entityOpts=chart.config.entityOpts,entityConf=entity.config,cleanValue=entityConf.cleanValue,formattedValue=entityConf.formattedValue,labelSepChar=entityOpts.labelSepChar,displayValue;if(userValue){if(userDV&&typeof entityJSON.displayvalue!==\"undefined\"){displayValue=entityJSON.displayvalue}else{displayValue=(0,_lib.pluck)(entityOpts.includeNameInLabels?entityOpts.useShortName?labelObj.shortText:labelObj.text:\"\");if(entityOpts.includeValueInLabels&&cleanValue!==null){displayValue=displayValue===UNDEF?formattedValue:displayValue+labelSepChar+formattedValue}}}else{displayValue=entityConf.label}return displayValue};Entities._sanitizeEntityOptions=function _sanitizeEntityOptions(options){delete options.outlines;delete options.label;delete options.shortlabel;delete options.labelposition;delete options.labelalignment;delete options.labelconnectors;return options};_proto._redefineEntities=function _redefineEntities(entityDef){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv(\"chart\"),redefinedEntities={},processedIds={},entities=chart.config.entities,useSNameAsId=conf.useSNameAsId,i,defObj,oldId,newId,sName,lName,id,newObj,entityCount=0,entityStore,entityDataStore,item,entityObj;i=entityDef.length;while(i--){defObj=entityDef[i];oldId=defObj.internalid;newId=defObj.newid?defObj.newid:oldId;sName=defObj.sname;lName=defObj.lname;entityObj=entities[oldId];oldId=(0,_lib.trimString)(oldId);newId=(0,_lib.trimString)(newId);newId=newId&&newId.toLowerCase();if(entityObj){redefinedEntities[newId]=newObj={origId:oldId};processedIds[oldId]=true;for(item in entityObj){newObj[item]=entityObj[item]}newObj.shortLabel=sName||entityObj.shortLabel;newObj.label=lName||entityObj.label;newObj.showhovereffect=defObj.showhovereffect;newObj.fillhovercolor=defObj.fillhovercolor;newObj.fillhoveralpha=defObj.fillhoveralpha;newObj.fillhoverangle=defObj.fillhoverangle;newObj.fillhoverratio=defObj.fillhoverratio;newObj.borderhoverthickness=defObj.borderhoverthickness}}entityDataStore=dataset.components.data;if(!entityDataStore){entityDataStore=dataset.components.data={}}for(id in redefinedEntities){id=id.toLowerCase();if(!entityDataStore[id]){entityDataStore[id]={config:{}}}entityDataStore[id].config=redefinedEntities[id];entityCount+=1}entityStore=entityDataStore;for(id in entities){newObj=entities[id];id=(0,_lib.trimString)(id);if(!processedIds[id]){if(useSNameAsId){entityObj=entityStore[newObj.shortLabel.toLowerCase()];if(!entityObj){entityObj=entityStore[newObj.shortLabel.toLowerCase()]={}}entityObj.config={};entityObj.origId=newObj.shortLabel}else{entityObj=entityStore[id.toLowerCase()];if(!entityObj){entityObj=entityStore[id.toLowerCase()]={}}entityObj.config={};entityObj.config.origId=id}for(item in newObj){entityObj.config[item]=newObj[item]}entityCount+=1}}conf.entityCount=entityCount};_proto.draw=function draw(){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv(\"chart\"),BATCH_SIZE=_lib.hasSVG?200:10,doBatchRendering;dataset.createContainer();this.config.ready=false;conf.BATCH_SIZE=BATCH_SIZE;conf.labelBatchSize=_lib.hasSVG?200:20;doBatchRendering=this._batchRender();doBatchRendering(0);chart.config.entityFlag=true;chart.checkComplete()};_proto._batchRender=function _batchRender(){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv(\"chart\"),firstEntity=chart.config.entities.firstEntity,entities=dataset.components.data,batchSize=conf.BATCH_SIZE,keys=conf.entityKeys=firstEntity?dataset._getKeys(firstEntity,entities):Object.keys(entities),keysLength=conf.entityLength=keys.length,i,entityObj,count,ent,outlinesDrawn,drawEntities=function drawEntities(entityStartIndex){i=entityStartIndex;count=0;while(keys[i]!==UNDEF){entityObj=entities[keys[i]];outlinesDrawn=dataset.drawEntity(entityObj,batchSize);count+=outlinesDrawn;if(entityObj.config.drawn){ent=i===keysLength-1?entityObj:entities[keys[i-1]];if(ent){ent.config.drawn=false;ent.config.outlineStartIndex=UNDEF}i++}if(count>=batchSize){dataset.addJob(\"entityDraw\",drawEntities.bind(dataset,i),_schedular.priorityList.entitydraw);break}}if(i===keysLength){dataset._addEventListenersToEntities(0);dataset.initComplete()}};return drawEntities};_proto._addEventListenersToEntities=function _addEventListenersToEntities(startIndex){var dataset=this,entities=dataset.components.data,conf=dataset.config,batchSize=conf.BATCH_SIZE,keys=conf.entityKeys,i,len=conf.entityLength,entity,count=0,options,entityConf;for(i=startIndex;i<len;i++){entity=entities[keys[i]];entityConf=entity.config;options=entityConf.options;if(!(options&&options.isDataEnabled===false)){dataset.addMouseGestures(entity)}count++;if(count===batchSize){dataset.addJob(\"_addEventListenersToEntities\",dataset._addEventListenersToEntities.bind(this,i),_schedular.priorityList.entitydraw);break}}};Entities._getKeys=function _getKeys(firstEntity,entities){var keys=[firstEntity],item=firstEntity;while(entities[item]){item=entities[item].nextId;keys.push(item)}return keys};_proto._getDefaultTooltip=function _getDefaultTooltip(entity,entityJSON){var dataset=this,value=entity.config.cleanValue,formattedValue=entity.config.formattedValue,entityOpts=dataset.getFromEnv(\"chart\").config.entityOpts,tooltip,labelObj;if(typeof entity.config.options===\"object\"){labelObj=entityJSON.labels&&entityJSON.labels[0];if(!labelObj){return UNDEF}tooltip=(entityOpts.useSNameInTooltip?labelObj.shortText:labelObj.text)+(value===null?BLANK:entityOpts.tooltipSepChar+formattedValue)}else{tooltip=(entityOpts.useSNameInTooltip?entityJSON.shortLabel:entityJSON.label)+(value===null?BLANK:entityOpts.tooltipSepChar+formattedValue)}return tooltip};_proto.drawEntity=function drawEntity(entity,outlinesDrawCount){var dataset=this,chart=dataset.getFromEnv(\"chart\"),animationManager=chart.getFromEnv(\"animationManager\"),entityConf=entity.config,pathStr=_lib.hasSVG||!isIE?\"litepath\":\"path\",entityOpts=chart.config.entityOpts,outlines=entityConf.outlines,toolTipController=dataset.getFromEnv(\"toolTipController\"),addTo=this.getLinkedParent().getChildContainer(\"plot\"),shadowGroup=this.getLinkedParent().getChildContainer(\"plotShadow\"),toolText=entityConf.toolText,showShadow=entityOpts.shadow,i,outlinePath=[],path,visibleEntityAttr,applyAttr,outlineGraphics,outline,count,customStrokeWidthModifier,finalAttr={},shadowOptions;dataset._configureEntityDrawingParams(entity);entityConf=entity.config;visibleEntityAttr=entityConf.visibleEntityAttr;shadowOptions=entityConf.shadowOptions;i=entityConf.outlineStartIndex===UNDEF?outlines.length:entityConf.outlineStartIndex;if(!entity.graphics){entity.graphics={}}count=0;outlinePath=entityConf.outlinePath||(entityConf.outlinePath=[]);customStrokeWidthModifier=entityConf.customStrokeWidthModifier;if(typeof entityConf.options===\"object\"){while(i--){outlinePath=outlines[i].outline;if(entityConf.options.isDataEnabled===true){applyAttr=visibleEntityAttr}else{applyAttr=(0,_lib.extend2)((0,_lib.extend2)({},visibleEntityAttr),pruneStrokeAttrs(outlines[i].style,customStrokeWidthModifier))}outlineGraphics=entity.graphics.outlines;if(!outlineGraphics){outlineGraphics=entity.graphics.outlines=[]}!outlineGraphics[i]&&(outlineGraphics[i]={});outline=outlineGraphics[i].outline;applyAttr[pathStr]=outlinePath;outline=outlineGraphics[i].outline=animationManager.setAnimation({el:pathStr,container:addTo,attr:applyAttr,component:dataset,label:\"path\"});outline.shadow(showShadow?shadowOptions:false,shadowGroup);toolTipController.enableToolTip(outline,toolText);count++;entityConf.outlineStartIndex=i;if(count===outlinesDrawCount){return count}}entityConf.drawn=true;return count}while(i--){path=outlines[i];outlinePath=path.concat(outlinePath);count++;entityConf.outlineStartIndex=i;if(count===outlinesDrawCount){entityConf.outlinePath=outlinePath;return count}}!entity.graphics.outlines&&(visibleEntityAttr[pathStr]=outlinePath);Object.assign(finalAttr,visibleEntityAttr,entity.hidden&&{\"fill-opacity\":0}||{});entity.graphics.outlines=animationManager.setAnimation({el:entity.graphics.outlines||pathStr,container:addTo,attr:finalAttr,component:dataset,label:\"path\"});entityConf.drawn=true;entityConf.outlineStartIndex=0;entityConf.outlinePath=[];entity.graphics.outlines.shadow(showShadow?shadowOptions:false,shadowGroup);toolTipController.enableToolTip(entity.graphics.outlines,toolText);return count};_proto._configureEntityDrawingParams=function _configureEntityDrawingParams(entity){var dataset=this,chart=dataset.getFromEnv(\"chart\"),entityConf=entity.config,entityOpts=chart.config.entityOpts,scalingParams=chart.config.scalingParams,scaleStrokes=!isIE||_lib.hasSVG,scaleFactor=scalingParams.scaleFactor,scaledPixel=scalingParams.strokeWidth,scaledPixelWithBaseFactor=(scaleStrokes?chart.baseScaleFactor:1)*scaledPixel,scaleBorder=entityOpts.scaleBorder===1,borderThickness=entityConf.borderThickness,alphaArr=entityConf.alphaArr,connectorThickness=entityConf.origConnectorThickness,hoverBorderThickness=entityConf.hoverBorderThickness,visibleEntityAttr=entityConf.visibleEntityAttr,fillOpacity=visibleEntityAttr[\"fill-opacity\"],customStrokeWidthModifier;entityConf.shadowOptions={scalefactor:[scaleFactor,scaleFactor*chart.config.baseScaleFactor],opacity:mathMax.apply(math,alphaArr)/100,useFilter:0};entityConf.fillOpacity=entity.hidden?0:fillOpacity;if(scaleStrokes){borderThickness=entityConf.entityBorderThickness=scaleBorder?borderThickness*scaledPixelWithBaseFactor:borderThickness/scaleFactor;connectorThickness=connectorThickness/scaleFactor;customStrokeWidthModifier=scaleBorder?scaleFactor:scalingParams.sFactor;if(hoverBorderThickness){hoverBorderThickness=entityConf.hoverBorderThickness=scaleBorder?hoverBorderThickness*scaledPixelWithBaseFactor:hoverBorderThickness/scaleFactor}}else{borderThickness=scaleBorder?borderThickness*scaledPixel:borderThickness;customStrokeWidthModifier=scaleBorder?scalingParams.scaleFactor:chart.baseScaleFactor}entityConf.entityBorderThickness=borderThickness;entityConf.connectorThickness=connectorThickness;entityConf.customStrokeWidthModifier=customStrokeWidthModifier;visibleEntityAttr[\"stroke-width\"]=borderThickness;visibleEntityAttr.transform=_lib.hasSVG||!isIE?\"\":scalingParams.transformStr};_proto.drawLabels=function drawLabels(ent){var dataset=this,itemMap=ent,chart=dataset.getFromEnv(\"chart\"),conf=dataset.config,batchSize=conf.labelBatchSize,keysLength=conf.entityLength,labelItems=[],i,j,annGroupElem=chart.getChildContainer(\"upperAnnotationGroup\"),groupItems,annObj,annCount=0,mapLabelAnnotations=dataset.getChildren(\"mapLabelAnnotations\")&&dataset.getChildren(\"mapLabelAnnotations\")[annCount],count=0,labelItemsAdded=0,annConfig=chart.config.annotationConfig;if(!mapLabelAnnotations){annObj=new _extAnnotation.default;dataset.attachChild(annObj,\"mapLabelAnnotations\");mapLabelAnnotations=dataset.getChildren(\"mapLabelAnnotations\")[annCount];mapLabelAnnotations.addCustomGroup(annGroupElem)}mapLabelAnnotations.destroy();mapLabelAnnotations._renderer&&(mapLabelAnnotations._renderer=null);annConfig.showbelow=0;for(i in itemMap){dataset.drawLabel(itemMap[i],labelItems);count++;if(count===batchSize){for(j=0;j<labelItems.length;j++){labelItems[j].animationLabel=ENTITYLABEL}groupItems=mapLabelAnnotations.addGroup(Object.assign(annConfig,{id:\"entityLabels\"+annCount,items:labelItems,animationLabel:\"entityLabelGroup\"}),dataset);for(j=0;j<groupItems.items.length;j++){groupItems.items[j].addEventListener(\"fc-mouseover\",labelItems[j].onmouseover);groupItems.items[j].addEventListener(\"fc-mouseout\",labelItems[j].onmouseout);groupItems.items[j].addEventListener(\"fc-click\",labelItems[j].onclick)}annCount++;mapLabelAnnotations=dataset.getChildren(\"mapLabelAnnotations\")&&dataset.getChildren(\"mapLabelAnnotations\")[annCount];if(!mapLabelAnnotations){annObj=new _extAnnotation.default;dataset.attachChild(annObj,\"mapLabelAnnotations\");mapLabelAnnotations=dataset.getChildren(\"mapLabelAnnotations\")[annCount];mapLabelAnnotations.addCustomGroup(annGroupElem)}mapLabelAnnotations.destroy();mapLabelAnnotations._renderer&&(mapLabelAnnotations._renderer=null);count=0;labelItems=[]}else if(labelItemsAdded===keysLength-1){for(j=0;j<labelItems.length;j++){labelItems[j].animationLabel=ENTITYLABEL}groupItems=mapLabelAnnotations.addGroup(Object.assign(annConfig,{id:\"entityLabels\"+annCount,items:labelItems,animationLabel:\"entityLabelGroup\"}),dataset);for(j=0;j<groupItems.items.length;j++){groupItems.items[j].addEventListener(\"fc-mouseover\",labelItems[j].onmouseover);groupItems.items[j].addEventListener(\"fc-mouseout\",labelItems[j].onmouseout);groupItems.items[j].addEventListener(\"fc-click\",labelItems[j].onclick)}}labelItemsAdded++}dataset.drawLabelConnFn(0)};_proto.drawLabelConnFn=function drawLabelConnFn(startIndex){var dataset=this,conf=dataset.config,entities=dataset.components.data,batchSize=conf.BATCH_SIZE,keys=conf.entityKeys,l,i,length=keys.length,labelArr,config,entity,count=0;for(i=startIndex;i<length;i++){entity=entities[keys[i]];config=entity.config;if(typeof config.options===\"object\"){labelArr=config.labels;l=labelArr&&labelArr.length||0;while(l--){if(labelArr[l].labelConnectors){dataset.drawLabelConnectors(entity,labelArr[l].labelConnectors,dataset);count++}}}else{if(config.labelConnectors){dataset.drawLabelConnectors(entity,config.labelConnectors,dataset);count++}}if(count===batchSize){dataset.addJob(\"drawLabelConnectors\",dataset.drawLabelConnFn.bind(this,i),_schedular.priorityList.entitydraw);break}}};_proto._getLabelObject=function _getLabelObject(entity,index,userValue){var dataset=this,chart=dataset.getFromEnv(\"chart\"),chartAttrs=dataset.getFromEnv(\"chart-attrib\"),entityConf=entity.config,labelConfig,scalingParams=chart.config.scalingParams,labelPos,labelAlignment,firstEle=entity.graphics&&entity.graphics.outlines,fontStyleObj,fontSize=entityConf.fontSize,labelPadding=entityConf.labelPadding,labelsArr=entityConf.labels||[],entityLabels=entityConf.entityLabels||[],baseWidth,baseHeight,labelX,labelY,box,align,valign,fsize,xOffset,yOffset,oriLabelObj,labelObj;if(index!==UNDEF){oriLabelObj=labelsArr[index];labelObj=entityLabels[index];labelConfig=labelObj.config;fontStyleObj=labelConfig.style=oriLabelObj.style;labelPos=oriLabelObj.labelPosition;labelAlignment=oriLabelObj.labelAlignment}else{labelConfig=entity.labelConfig;labelPos=entityConf.labelPosition;labelAlignment=entityConf.labelAlignment}if(labelPos){labelX=labelPos[0];labelY=labelPos[1]}else{box=firstEle.getBBox();labelX=box.x+box.width/2;labelY=box.y+box.height/2}if(labelAlignment){align=labelAlignment[0];valign=labelAlignment[1];if(align===POSITION_RIGHT){labelX-=labelPadding}else if(align===POSITION_LEFT){labelX+=labelPadding}if(valign===POSITION_TOP){labelY-=labelPadding}else if(valign===POSITION_BOTTOM){labelY+=labelPadding}}else{align=POSITION_CENTER;valign=POSITION_MIDDLE}fsize=parseFloat(fontSize)/scalingParams.sFactor;if(!userValue&&fontStyleObj){fontStyleObj.color&&(labelConfig.fontColor=fontStyleObj.color);fontStyleObj[\"font-size\"]&&(fsize=parseFloat(fontStyleObj[\"font-size\"])/scalingParams.sFactor);fontStyleObj[\"font-family\"]&&(labelConfig.fontFamily=fontStyleObj[\"font-family\"]);fontStyleObj[\"font-weight\"]!==UNDEF&&(labelConfig.fontBold=fontStyleObj[\"font-weight\"]===\"bold\")}labelConfig.x=labelX.toString();labelConfig.y=labelY.toString();labelConfig.wrap=1;labelConfig.type=TEXT_STR;labelConfig.fontSize=fsize;return{x:labelX.toString(),y:labelY.toString(),wrapwidth:getTextWrapWidth[align](baseWidth,labelX+xOffset)-labelPadding,wrapheight:getTextWrapHeight[valign](baseHeight,labelY+yOffset)-labelPadding,wrap:1,type:\"text\",align:labelConfig.align,valign:labelConfig.vAlign,text:labelConfig.displayValue,tooltext:labelConfig.toolText,outlineText:(0,_lib.pluckNumber)(chartAttrs.textoutline,0),css:labelConfig.link!==UNDEF&&{cursor:\"pointer\",_cursor:\"hand\"},bgcolor:labelConfig.bgColor,bordercolor:labelConfig.borderColor,fillcolor:labelConfig.fontColor,fontsize:labelConfig.fontSize,font:labelConfig.fontFamily,bold:labelConfig.fontBold,onclick:function onclick(e){var hoverEnt=entity.graphics.outlines,i,len;if(hoverEnt instanceof Array){for(i=0,len=hoverEnt.length;i<len;i++){dataset.entityClick(hoverEnt[i].outline,e)}}else{dataset.entityClick(hoverEnt,e)}},onmouseover:function onmouseover(e){var hoverEnt=entity.graphics.outlines,i,len;if(hoverEnt instanceof Array){for(i=0,len=hoverEnt.length;i<len;i++){dataset.entityRollOver(hoverEnt[i].outline,e)}}else{dataset.entityRollOver(hoverEnt,e)}},onmouseout:function onmouseout(e){var hoverEnt=entity.graphics.outlines,i,len;if(hoverEnt instanceof Array){for(i=0,len=hoverEnt.length;i<len;i++){dataset.entityRollOut(hoverEnt[i].outline,e)}}else{dataset.entityRollOut(hoverEnt,e)}},ontouchstart:function ontouchstart(e){var hoverEnt=entity.graphics.outlines,i,len;if(hoverEnt instanceof Array){for(i=0,len=hoverEnt.length;i<len;i++){dataset.entityRollOver(hoverEnt[i].outline,e)}}else{dataset.entityRollOver(hoverEnt,e)}dataset.entityRollOver(hoverEnt,e)}}};_proto.drawLabel=function drawLabel(entity,annotationsArray){var dataset=this,config=entity.config,showLabel=config.showLabel,useValue,i,labelArr;if(!showLabel){return}if(typeof config.options===\"object\"){labelArr=config.labels;i=labelArr&&labelArr.length||0;useValue=config.options.isDataEnabled;while(i--){annotationsArray.push(dataset._getLabelObject(entity,i,useValue,!i))}}else{annotationsArray.push(dataset._getLabelObject(entity,UNDEF,true,true))}};_proto.drawLabelConnectors=function drawLabelConnectors(entity,connectorArr,dataSet){var entityConf=entity.config,dataset=this,chart=dataset.getFromEnv(\"chart\"),animationManager=chart.getFromEnv(\"animationManager\"),scalingParams=chart.config.scalingParams,datasetGroup=dataSet.getLinkedParent().getChildContainer(\"plot\"),i=connectorArr&&connectorArr.length||0,connElem,path,showLabel=entityConf.showLabel;while(i--){path=connectorArr[i];connElem=entity.graphics.connectorElem;if(showLabel){entity.graphics.connectorElem=connElem=animationManager.setAnimation({el:entity.graphics.connectorElem||\"path\",attr:{path:path,opacity:1,transform:_lib.hasSVG||!isIE?\"\":scalingParams.transformStr,stroke:(0,_lib.convertColor)(entityConf.connectorColor,entityConf.connectorAlpha),\"shape-rendering\":CRISP,\"stroke-width\":entityConf.connectorThickness},container:datasetGroup,component:dataset,label:\"labelConnectors\"})}else{connElem&&connElem.hide()}}};_proto.entityClick=function entityClick(entityElem,e){var entity=entityElem.node.__entity,dataset=this,chart=dataset.getFromEnv(\"chart\"),scalingParams=chart.config.scalingParams,entityBox=entityElem.getBBox(),linkClickFN=chart.getFromEnv(\"linkClickFN\"),config=entity.config,link=config.link;entityBox.width=entityBox.width*scalingParams.scaleFactor;entityBox.height=entityBox.height*scalingParams.scaleFactor;entityBox.x=entityBox.x*scalingParams.scaleFactor+scalingParams.translateX;entityBox.y=entityBox.y*scalingParams.scaleFactor+scalingParams.translateY;entityBox.x2=entityBox.x+entityBox.width;entityBox.y2=entityBox.y+entityBox.height;chart.fireChartInstanceEvent(\"entityclick\",config.eventArgs,e);if(link!==UNDEF){linkClickFN.call({link:link,entity:entity,entityBox:entityBox},true)}};_proto.entityRollOver=function entityRollOver(entityElem,e){var entity=entityElem.node.__entity,dataset=this,config=entity.config,chart=dataset.getFromEnv(\"chart\"),animationManager=chart.getFromEnv(\"animationManager\"),hoverAttr=config.hoverAttr;chart.plotEventHandler(entityElem,e,\"entityRollOver\");if(entityElem.data(\"hovered\")){clearTimeout(entity.config.timer)}else{if(config.useHoverColor&&config.isVisible&&!entity.hidden&&hoverAttr){chart.config.hoverEntity=entityElem;animationManager.setAnimation({el:entityElem,attr:hoverAttr,component:dataset,state:\"updating\",label:\"path\"});entityElem.data(\"hovered\",true)}}};_proto.entityRollOut=function entityRollOut(entityElem,e){var entity=entityElem.node.__entity,dataset=this,hidden,chart=dataset.getFromEnv(\"chart\"),animationManager=chart.getFromEnv(\"animationManager\"),config=entity.config,revertAttr=config.revertAttr;chart.plotEventHandler(entityElem,e,\"entityRollOut\");entity.config.timer=setTimeout((function(){hidden=entity.hidden;if(hidden!==true&&revertAttr){animationManager.setAnimation({el:entityElem,attr:revertAttr,component:dataset,state:\"updating\",label:\"path\"});entityElem.data(\"hovered\",false)}}),100)};_proto.addMouseGestures=function addMouseGestures(entity){var config=entity.config,originalId=config.originalId,dataset=this,graphics=entity.graphics,useHoverColor=config.useHoverColor,hoverBorderThickness=config.hoverBorderThickness,hoverBorderColor=config.hoverBorderColor,hoverBorderAlpha=config.hoverBorderAlpha,borderThickness=config.entityBorderThickness,borderColor=config.borderColor,borderAlpha=config.borderAlpha,link=config.link,visibleEntityAttr=config.visibleEntityAttr,groupId=\"groupId\"+originalId,item,i,graphic,len,outlines,bindListener=function bindListener(graphicEle){if(link!==UNDEF){graphicEle.css({cursor:\"pointer\",_cursor:\"hand\"})}graphicEle.data(\"eventArgs\",config.eventArgs);graphicEle.data(\"groupId\",groupId);graphicEle.node.__entity=entity;if(!entity._listenersBinded){graphicEle.on(\"fc-click\",dataset.entityClick.bind(dataset,graphicEle)).hover(dataset.entityRollOver.bind(dataset,graphicEle),dataset.entityRollOut.bind(dataset,graphicEle))}};config.eventArgs={value:config.cleanValue,label:config.label,shortLabel:config.shortLabel,originalId:config.origId,id:config.id||config.origId};config.legacyEventArgs={value:config.value,lName:config.label,sName:config.shortLabel,id:config.originalId||config.id};if(useHoverColor){config.hoverAttr={fill:(0,_lib.toRaphaelColor)(config.hoverColor)};config.revertAttr={fill:(0,_lib.toRaphaelColor)(config.fillColor),stroke:(0,_lib.toRaphaelColor)(config.borderColor,config.borderAlpha)};config.revertAttr[\"fill-opacity\"]=visibleEntityAttr[\"fill-opacity\"];if(hoverBorderThickness!==borderThickness){config.hoverAttr[\"stroke-width\"]=(0,_lib.pluckNumber)(hoverBorderThickness,borderThickness);config.revertAttr[\"stroke-width\"]=borderThickness}if(hoverBorderColor!==borderColor||hoverBorderAlpha!==borderAlpha){config.hoverAttr.stroke=(0,_lib.convertColor)(hoverBorderColor,hoverBorderAlpha);config.revertAttr.stroke=(0,_lib.convertColor)(borderColor,borderAlpha)}}for(item in graphics){if(graphics.hasOwnProperty(item)){if(graphics[item]instanceof Array){outlines=graphics[item];for(i=0,len=outlines.length;i<len;i++){graphic=outlines[i].outline;bindListener(graphic)}entity._listenersBinded=true}else{graphic=graphics[item];bindListener(graphic);entity._listenersBinded=true}}}};_proto.getDataLimits=function getDataLimits(){var dataset=this,conf=dataset.config;return{max:conf.max,min:conf.min}};_proto.createContainer=function createContainer(){var dataset=this,parent=dataset.getLinkedParent(),animationManager=dataset.getFromEnv(\"animationManager\"),pContainer=parent.getChildContainer(\"layer0\");!dataset.getChildContainer(\"abovePlotGroup\")&&dataset.addChildContainer(\"abovePlotGroup\",animationManager.setAnimation({el:\"group\",attr:{name:\"abovePlotGroup\",opacity:1},container:pContainer,component:dataset,label:\"group\"}));!dataset.getChildContainer(\"belowPlotGroup\")&&dataset.addChildContainer(\"belowPlotGroup\",animationManager.setAnimation({el:\"group\",attr:{name:\"belowPlotGroup\",opacity:1},container:pContainer,component:dataset,label:\"group\"}))};_proto.initComplete=function initComplete(){var dataset=this,chart=dataset.getFromEnv(\"chart\"),entities=dataset.components.data;this.drawLabels(entities);chart.config.entitiesReady=true;chart.checkComplete()};return Entities}(_componentInterface.ComponentInterface);var _default=Entities;exports.default=_default;"]},"metadata":{},"sourceType":"script"}