{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _raphael = _interopRequireDefault(require(\"../_internal/vendors/redraphael/source/raphael.lib\"));\n\nvar SPACE = \" \",\n    START = \"start\",\n    END = \"end\",\n    ON = \"on\",\n    win = window,\n    doc = win.document,\n    hasTouch = (\"ontouchstart\" in win),\n    BE = {\n  click: \"click\",\n  touchstart: \"touchstart\",\n  touchend: \"touchend\",\n  touchmove: \"touchmove\",\n  mousedown: \"mousedown\",\n  mouseup: \"mouseup\",\n  mousemove: \"mousemove\",\n  mouseout: \"mouseout\",\n  mouseover: \"mouseover\",\n  keydown: \"keydown\"\n},\n    gestures = function () {\n  var retObj = {},\n      gesture;\n  retObj.pointerdrag = {\n    start: [BE.mousedown],\n    end: [BE.mouseup],\n    onStart: [BE.mousemove],\n    postHandlers: {},\n    preHandlers: {}\n  };\n  retObj.pointerhover = {\n    start: [BE.mouseover],\n    end: [BE.mouseout]\n  };\n  retObj.click = {\n    start: [BE.click]\n  };\n  retObj.escape = {\n    start: [BE.keydown],\n    preHandlers: {\n      start: function _start(_event) {\n        var event = _event || win.event;\n\n        if (event.keyCode && event.keyCode === 27) {\n          return true;\n        }\n\n        return false;\n      }\n    }\n  };\n\n  if (hasTouch) {\n    gesture = retObj.pointerdrag;\n    gesture.start.push(BE.touchstart);\n    gesture.end.push(BE.touchend);\n    gesture.onStart.push(BE.touchmove);\n\n    gesture.postHandlers.onStart = function (event) {\n      if (event.preventDefault) {\n        event.preventDefault();\n      } else {\n        event.returnValue = false;\n      }\n    };\n  }\n\n  return retObj;\n}(),\n    gDefs;\n\nfunction defineGestures() {\n  return (0, _raphael.default)({}, gestures);\n}\n\ngDefs = defineGestures();\n\nfunction DOMEventFx() {\n  var eventHandlerMap = {},\n      gestureHandlerMap = {},\n      addHandler = doc.addEventListener ? function _addDomEventListener(elem, event, handlerFn) {\n    elem.addEventListener(event, handlerFn, false);\n  } : function _attachDomEventListener(elem, event, handlerFn) {\n    elem.attachEvent(\"on\" + event, handlerFn);\n  },\n      removeHandler = doc.removeEventListener ? function _removeDomEventListener(elem, event, handlerFn) {\n    elem.removeEventListener(event, handlerFn, false);\n  } : function _detachDomEventListener(elem, event, handlerFn) {\n    elem.detachEvent(\"on\" + event, handlerFn);\n  },\n      addEventHandler = function addEventHandler(elem, event, handlerObj, _attachTo) {\n    var unlistener,\n        attachTo = _attachTo || \"closure\";\n    addHandler(elem, event, handlerObj[attachTo]);\n\n    unlistener = function unlistener() {\n      removeHandler(elem, event, handlerObj[attachTo]);\n    };\n\n    return unlistener;\n  },\n      addGestureHandler = function addGestureHandler(elem, gesture, handlerObj) {\n    var unlisteners = [],\n        eventArr,\n        each,\n        i,\n        def;\n    def = gDefs[gesture];\n\n    handlerObj.start = function (_event) {\n      var onStartArr = def.onStart,\n          endArr = def.end,\n          startUn = [],\n          endUn = [],\n          ii = onStartArr && onStartArr.length || 0,\n          event = _event || win.event;\n\n      while (ii--) {\n        startUn.push(addEventHandler(elem, onStartArr[ii], handlerObj, \"onStart\"));\n      }\n\n      ii = endArr && endArr.length || 0;\n\n      while (ii--) {\n        endUn.push(addEventHandler(elem, endArr[ii], handlerObj, \"end\"));\n      }\n\n      handlerObj.startUn = handlerObj.startUn ? handlerObj.startUn.concat(startUn) : startUn;\n      handlerObj.endUn = handlerObj.endUn ? handlerObj.endUn.concat(endUn) : endUn;\n      handlerObj.state = START;\n      handlerObj.closure(event);\n    };\n\n    handlerObj.onStart = function (_event) {\n      var event = _event || win.event;\n      handlerObj.state = ON;\n\n      if (handlerObj.gDef && handlerObj.gDef.preHandlers && typeof handlerObj.gDef.preHandlers.onStart === \"function\") {\n        handlerObj.gDef.preHandlers.onStart(event);\n      }\n\n      handlerObj.closure(event);\n\n      if (handlerObj.gDef && handlerObj.gDef.postHandlers && typeof handlerObj.gDef.postHandlers.onStart === \"function\") {\n        handlerObj.gDef.postHandlers.onStart(event);\n      }\n    };\n\n    handlerObj.end = function (_event) {\n      var startUn = handlerObj.startUn,\n          endUn = handlerObj.endUn,\n          ii = startUn && startUn.length || 0,\n          event = _event || win.event;\n\n      while (ii--) {\n        startUn[ii]();\n      }\n\n      delete handlerObj.startUn;\n      handlerObj.startUn = [];\n      ii = endUn && endUn.length || 0;\n\n      while (ii--) {\n        endUn[ii]();\n      }\n\n      delete handlerObj.endUn;\n      handlerObj.endUn = [];\n      handlerObj.state = END;\n      handlerObj.closure(event);\n    };\n\n    if (def) {\n      eventArr = def.start;\n      i = eventArr.length;\n\n      while (i--) {\n        each = eventArr[i];\n\n        if (each) {\n          unlisteners.push(addEventHandler(elem, each, handlerObj, \"start\"));\n        }\n      }\n    }\n\n    return unlisteners;\n  },\n      removeGestureHandler = function removeGestureHandler(elem, gesture, handlerObj) {\n    var eventArr, each, i, def;\n    def = gDefs[gesture];\n\n    if (def) {\n      eventArr = def.start;\n      i = eventArr.length;\n\n      while (i--) {\n        each = eventArr[i];\n\n        if (each) {\n          removeHandler(elem, each, handlerObj.start);\n        }\n      }\n    }\n  },\n      getHandlerClosure = function _getHandlerClosure(handlerObj) {\n    return function (_event) {\n      var context = handlerObj.context || handlerObj.elem,\n          event = _event.originalEvent || _event;\n      event = event || win.event;\n      handlerObj.handler.call(context, {\n        data: handlerObj.data,\n        type: handlerObj.type,\n        state: handlerObj.state,\n        isGesture: handlerObj.isGesture,\n        target: event.target || event.srcElement,\n        originalEvent: event\n      });\n    };\n  };\n\n  return {\n    listen: function listen(elem, gestureNames, handlers, data, context) {\n      var dem = this,\n          gestureArr = typeof gestureNames === \"string\" ? gestureNames.split(SPACE) : gestureNames,\n          i = gestureArr.length,\n          unlisteners = [],\n          addToUnlistener = function addToUnlistener(el, type, handler) {\n        unlisteners.push(function () {\n          dem.unlisten(el, type, handler);\n        });\n      },\n          handlerMap,\n          gesture,\n          handlerObj,\n          isGesture,\n          handler;\n\n      if (!elem.ownerDocument || elem.ownerDocument !== doc) {\n        while (i--) {\n          gesture = gestureArr[i];\n          handler = typeof handlers === \"function\" ? handlers : handlers[i];\n          handlerObj = {\n            handler: handler,\n            elem: elem,\n            type: gesture,\n            isGesture: isGesture,\n            data: data,\n            context: context,\n            start: [],\n            end: [],\n            links: {\n              prev: null,\n              next: null\n            }\n          };\n          handlerObj.closure = getHandlerClosure(handlerObj);\n          handlerMap = eventHandlerMap[gesture];\n\n          if (!handlerMap) {\n            handlerMap = eventHandlerMap[gesture] = [];\n          }\n\n          handlerMap.push(handlerObj);\n          addEventHandler(elem, gesture, handlerObj);\n          addToUnlistener(elem, gesture, handler);\n        }\n      } else {\n        while (i--) {\n          gesture = gestureArr[i];\n          isGesture = Boolean(gDefs[gesture]);\n          handler = typeof handlers === \"function\" ? handlers : handlers[i];\n          handlerObj = {\n            handler: handler,\n            elem: elem,\n            type: gesture,\n            isGesture: isGesture,\n            gDef: isGesture ? gDefs[gesture] : null,\n            data: data,\n            context: context,\n            start: [],\n            end: [],\n            links: {\n              prev: null,\n              next: null\n            }\n          };\n          handlerObj.closure = getHandlerClosure(handlerObj);\n\n          if (isGesture) {\n            handlerMap = gestureHandlerMap[gesture];\n\n            if (!handlerMap) {\n              handlerMap = gestureHandlerMap[gesture] = [];\n            }\n\n            handlerMap.push(handlerObj);\n            addGestureHandler(elem, gesture, handlerObj);\n          } else {\n            handlerMap = eventHandlerMap[gesture];\n\n            if (!handlerMap) {\n              handlerMap = eventHandlerMap[gesture] = [];\n            }\n\n            handlerMap.push(handlerObj);\n            addEventHandler(elem, gesture, handlerObj);\n          }\n\n          addToUnlistener(elem, gesture, handler);\n        }\n      }\n\n      return {\n        unlisten: function unlisten() {\n          var ii = unlisteners.length;\n\n          while (ii--) {\n            unlisteners[ii]();\n          }\n\n          unlisteners.length = 0;\n          unlisteners = null;\n        }\n      };\n    },\n    unlisten: function unlisten(elem, gesture, handler) {\n      var isGesture = Boolean(gDefs[gesture]),\n          eventHandlers,\n          retVal = false,\n          i,\n          hObj;\n\n      if (!isGesture) {\n        eventHandlers = eventHandlerMap[gesture];\n        i = eventHandlers && eventHandlers.length || 0;\n\n        while (i--) {\n          hObj = eventHandlers[i];\n\n          if (hObj.handler === handler && hObj.elem === elem) {\n            removeHandler(elem, gesture, hObj.closure);\n            eventHandlers.splice(i, 1);\n            retVal = true;\n          }\n        }\n      } else {\n        eventHandlers = gestureHandlerMap[gesture];\n        i = eventHandlers && eventHandlers.length || 0;\n\n        while (i--) {\n          hObj = eventHandlers[i];\n\n          if (hObj.handler === handler && hObj.elem === elem) {\n            removeGestureHandler(elem, gesture, hObj);\n            eventHandlers.splice(i, 1);\n            retVal = true;\n          }\n        }\n      }\n\n      return retVal;\n    },\n    fire: function fire(elem, event, eventArguments, defaultFunction) {\n      var eventHandlers, i, hObj, eventObj;\n\n      if (!elem.ownerDocument || elem.ownerDocument !== doc) {\n        eventHandlers = eventHandlerMap[event];\n        i = eventHandlers && eventHandlers.length || 0;\n\n        while (i--) {\n          hObj = eventHandlers[i];\n\n          if (hObj.elem === elem) {\n            hObj.closure(eventArguments);\n          }\n        }\n      } else {\n        if (doc.createEvent) {\n          eventObj = doc.createEvent(\"HTMLEvents\");\n          eventObj.initEvent(event, true, true);\n\n          if (eventArguments) {\n            if (eventArguments.originalEvent) {\n              eventArguments.originalEvent = eventObj;\n            }\n          }\n\n          if (typeof elem[event] === \"function\") {\n            elem[event]();\n          }\n\n          elem.dispatchEvent(eventObj);\n\n          if (defaultFunction && !eventObj.returnValue) {\n            defaultFunction(eventObj);\n          }\n        } else {\n          eventObj = doc.createEventObject();\n          eventObj.eventType = event;\n\n          if (eventArguments) {\n            if (eventArguments.originalEvent) {\n              eventArguments.originalEvent = eventObj;\n            } else {\n              (0, _raphael.default)(eventObj, eventArguments);\n            }\n          }\n\n          if (typeof elem[event] === \"function\") {\n            elem[event]();\n          }\n\n          elem.fireEvent(\"on\" + event, eventObj);\n\n          if (defaultFunction && !eventObj.returnValue) {\n            defaultFunction(eventObj);\n          }\n        }\n      }\n    }\n  };\n}\n\nvar _default = new DOMEventFx();\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/dom-event/index.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","_raphael","SPACE","START","END","ON","win","window","doc","document","hasTouch","BE","click","touchstart","touchend","touchmove","mousedown","mouseup","mousemove","mouseout","mouseover","keydown","gestures","retObj","gesture","pointerdrag","start","end","onStart","postHandlers","preHandlers","pointerhover","escape","_start","_event","event","keyCode","push","preventDefault","returnValue","gDefs","defineGestures","DOMEventFx","eventHandlerMap","gestureHandlerMap","addHandler","addEventListener","_addDomEventListener","elem","handlerFn","_attachDomEventListener","attachEvent","removeHandler","removeEventListener","_removeDomEventListener","_detachDomEventListener","detachEvent","addEventHandler","handlerObj","_attachTo","unlistener","attachTo","addGestureHandler","unlisteners","eventArr","each","i","def","onStartArr","endArr","startUn","endUn","ii","length","concat","state","closure","gDef","removeGestureHandler","getHandlerClosure","_getHandlerClosure","context","originalEvent","handler","call","data","type","isGesture","target","srcElement","listen","gestureNames","handlers","dem","gestureArr","split","addToUnlistener","el","unlisten","handlerMap","ownerDocument","links","prev","next","Boolean","eventHandlers","retVal","hObj","splice","fire","eventArguments","defaultFunction","eventObj","createEvent","initEvent","dispatchEvent","createEventObject","eventType","fireEvent","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");exports.__esModule=true;exports.default=void 0;var _raphael=_interopRequireDefault(require(\"../_internal/vendors/redraphael/source/raphael.lib\"));var SPACE=\" \",START=\"start\",END=\"end\",ON=\"on\",win=window,doc=win.document,hasTouch=\"ontouchstart\"in win,BE={click:\"click\",touchstart:\"touchstart\",touchend:\"touchend\",touchmove:\"touchmove\",mousedown:\"mousedown\",mouseup:\"mouseup\",mousemove:\"mousemove\",mouseout:\"mouseout\",mouseover:\"mouseover\",keydown:\"keydown\"},gestures=function(){var retObj={},gesture;retObj.pointerdrag={start:[BE.mousedown],end:[BE.mouseup],onStart:[BE.mousemove],postHandlers:{},preHandlers:{}};retObj.pointerhover={start:[BE.mouseover],end:[BE.mouseout]};retObj.click={start:[BE.click]};retObj.escape={start:[BE.keydown],preHandlers:{start:function _start(_event){var event=_event||win.event;if(event.keyCode&&event.keyCode===27){return true}return false}}};if(hasTouch){gesture=retObj.pointerdrag;gesture.start.push(BE.touchstart);gesture.end.push(BE.touchend);gesture.onStart.push(BE.touchmove);gesture.postHandlers.onStart=function(event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}}return retObj}(),gDefs;function defineGestures(){return(0,_raphael.default)({},gestures)}gDefs=defineGestures();function DOMEventFx(){var eventHandlerMap={},gestureHandlerMap={},addHandler=doc.addEventListener?function _addDomEventListener(elem,event,handlerFn){elem.addEventListener(event,handlerFn,false)}:function _attachDomEventListener(elem,event,handlerFn){elem.attachEvent(\"on\"+event,handlerFn)},removeHandler=doc.removeEventListener?function _removeDomEventListener(elem,event,handlerFn){elem.removeEventListener(event,handlerFn,false)}:function _detachDomEventListener(elem,event,handlerFn){elem.detachEvent(\"on\"+event,handlerFn)},addEventHandler=function addEventHandler(elem,event,handlerObj,_attachTo){var unlistener,attachTo=_attachTo||\"closure\";addHandler(elem,event,handlerObj[attachTo]);unlistener=function unlistener(){removeHandler(elem,event,handlerObj[attachTo])};return unlistener},addGestureHandler=function addGestureHandler(elem,gesture,handlerObj){var unlisteners=[],eventArr,each,i,def;def=gDefs[gesture];handlerObj.start=function(_event){var onStartArr=def.onStart,endArr=def.end,startUn=[],endUn=[],ii=onStartArr&&onStartArr.length||0,event=_event||win.event;while(ii--){startUn.push(addEventHandler(elem,onStartArr[ii],handlerObj,\"onStart\"))}ii=endArr&&endArr.length||0;while(ii--){endUn.push(addEventHandler(elem,endArr[ii],handlerObj,\"end\"))}handlerObj.startUn=handlerObj.startUn?handlerObj.startUn.concat(startUn):startUn;handlerObj.endUn=handlerObj.endUn?handlerObj.endUn.concat(endUn):endUn;handlerObj.state=START;handlerObj.closure(event)};handlerObj.onStart=function(_event){var event=_event||win.event;handlerObj.state=ON;if(handlerObj.gDef&&handlerObj.gDef.preHandlers&&typeof handlerObj.gDef.preHandlers.onStart===\"function\"){handlerObj.gDef.preHandlers.onStart(event)}handlerObj.closure(event);if(handlerObj.gDef&&handlerObj.gDef.postHandlers&&typeof handlerObj.gDef.postHandlers.onStart===\"function\"){handlerObj.gDef.postHandlers.onStart(event)}};handlerObj.end=function(_event){var startUn=handlerObj.startUn,endUn=handlerObj.endUn,ii=startUn&&startUn.length||0,event=_event||win.event;while(ii--){startUn[ii]()}delete handlerObj.startUn;handlerObj.startUn=[];ii=endUn&&endUn.length||0;while(ii--){endUn[ii]()}delete handlerObj.endUn;handlerObj.endUn=[];handlerObj.state=END;handlerObj.closure(event)};if(def){eventArr=def.start;i=eventArr.length;while(i--){each=eventArr[i];if(each){unlisteners.push(addEventHandler(elem,each,handlerObj,\"start\"))}}}return unlisteners},removeGestureHandler=function removeGestureHandler(elem,gesture,handlerObj){var eventArr,each,i,def;def=gDefs[gesture];if(def){eventArr=def.start;i=eventArr.length;while(i--){each=eventArr[i];if(each){removeHandler(elem,each,handlerObj.start)}}}},getHandlerClosure=function _getHandlerClosure(handlerObj){return function(_event){var context=handlerObj.context||handlerObj.elem,event=_event.originalEvent||_event;event=event||win.event;handlerObj.handler.call(context,{data:handlerObj.data,type:handlerObj.type,state:handlerObj.state,isGesture:handlerObj.isGesture,target:event.target||event.srcElement,originalEvent:event})}};return{listen:function listen(elem,gestureNames,handlers,data,context){var dem=this,gestureArr=typeof gestureNames===\"string\"?gestureNames.split(SPACE):gestureNames,i=gestureArr.length,unlisteners=[],addToUnlistener=function addToUnlistener(el,type,handler){unlisteners.push((function(){dem.unlisten(el,type,handler)}))},handlerMap,gesture,handlerObj,isGesture,handler;if(!elem.ownerDocument||elem.ownerDocument!==doc){while(i--){gesture=gestureArr[i];handler=typeof handlers===\"function\"?handlers:handlers[i];handlerObj={handler:handler,elem:elem,type:gesture,isGesture:isGesture,data:data,context:context,start:[],end:[],links:{prev:null,next:null}};handlerObj.closure=getHandlerClosure(handlerObj);handlerMap=eventHandlerMap[gesture];if(!handlerMap){handlerMap=eventHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addEventHandler(elem,gesture,handlerObj);addToUnlistener(elem,gesture,handler)}}else{while(i--){gesture=gestureArr[i];isGesture=Boolean(gDefs[gesture]);handler=typeof handlers===\"function\"?handlers:handlers[i];handlerObj={handler:handler,elem:elem,type:gesture,isGesture:isGesture,gDef:isGesture?gDefs[gesture]:null,data:data,context:context,start:[],end:[],links:{prev:null,next:null}};handlerObj.closure=getHandlerClosure(handlerObj);if(isGesture){handlerMap=gestureHandlerMap[gesture];if(!handlerMap){handlerMap=gestureHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addGestureHandler(elem,gesture,handlerObj)}else{handlerMap=eventHandlerMap[gesture];if(!handlerMap){handlerMap=eventHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addEventHandler(elem,gesture,handlerObj)}addToUnlistener(elem,gesture,handler)}}return{unlisten:function unlisten(){var ii=unlisteners.length;while(ii--){unlisteners[ii]()}unlisteners.length=0;unlisteners=null}}},unlisten:function unlisten(elem,gesture,handler){var isGesture=Boolean(gDefs[gesture]),eventHandlers,retVal=false,i,hObj;if(!isGesture){eventHandlers=eventHandlerMap[gesture];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.handler===handler&&hObj.elem===elem){removeHandler(elem,gesture,hObj.closure);eventHandlers.splice(i,1);retVal=true}}}else{eventHandlers=gestureHandlerMap[gesture];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.handler===handler&&hObj.elem===elem){removeGestureHandler(elem,gesture,hObj);eventHandlers.splice(i,1);retVal=true}}}return retVal},fire:function fire(elem,event,eventArguments,defaultFunction){var eventHandlers,i,hObj,eventObj;if(!elem.ownerDocument||elem.ownerDocument!==doc){eventHandlers=eventHandlerMap[event];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.elem===elem){hObj.closure(eventArguments)}}}else{if(doc.createEvent){eventObj=doc.createEvent(\"HTMLEvents\");eventObj.initEvent(event,true,true);if(eventArguments){if(eventArguments.originalEvent){eventArguments.originalEvent=eventObj}}if(typeof elem[event]===\"function\"){elem[event]()}elem.dispatchEvent(eventObj);if(defaultFunction&&!eventObj.returnValue){defaultFunction(eventObj)}}else{eventObj=doc.createEventObject();eventObj.eventType=event;if(eventArguments){if(eventArguments.originalEvent){eventArguments.originalEvent=eventObj}else{(0,_raphael.default)(eventObj,eventArguments)}}if(typeof elem[event]===\"function\"){elem[event]()}elem.fireEvent(\"on\"+event,eventObj);if(defaultFunction&&!eventObj.returnValue){defaultFunction(eventObj)}}}}}}var _default=new DOMEventFx;exports.default=_default;"]},"metadata":{},"sourceType":"script"}