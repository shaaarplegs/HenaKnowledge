{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nexports.__esModule = true;\nexports._mapSubFnForward = exports.addAllEventsOnGraphic = exports.removeAllEventsFromGraphic = exports.default = void 0;\n\nvar _lib = require(\"../lib\");\n\nvar _eventApi = require(\"../event-api\");\n\nvar _schedular = _interopRequireWildcard(require(\"../schedular\"));\n\nvar _childSyncDraw = function _childSyncDraw(child) {\n  child && child.draw && child.syncDraw();\n},\n    _setChildDefaults = function _setChildDefaults(child) {\n  return child.setDefaults();\n},\n    _childPrepareAttributes = function _childPrepareAttributes(child) {\n  child.prepareAttributes && child.prepareAttributes();\n};\n\nvar idCounterStore = {},\n    asyncDrawOptions = {\n  executionDelay: 16\n},\n    _mapSubFnBackward = function _mapSubFnBackward(sub, callback) {\n  if (sub && sub.hasOwnProperty && callback && callback.call) {\n    var key, child, i;\n\n    for (key in sub) {\n      if (sub.hasOwnProperty(key)) {\n        child = sub[key];\n\n        if (child instanceof Array) {\n          for (i = child.length - 1; i >= 0; i--) {\n            callback(child[i], key, i);\n          }\n        } else {\n          callback(child, key);\n        }\n      }\n    }\n  }\n},\n    _mapSubFnForward = function _mapSubFnForward(sub, callback) {\n  if (sub && sub.hasOwnProperty && callback && callback.call) {\n    var key, child, i, length;\n\n    for (key in sub) {\n      if (sub.hasOwnProperty(key)) {\n        child = sub[key];\n\n        if (child instanceof Array) {\n          length = child.length;\n\n          for (i = 0; i < length; i++) {\n            callback(child[i], key, i);\n          }\n        } else {\n          callback(child, key);\n        }\n      }\n    }\n  }\n},\n    addAllEventsOnGraphic = function addAllEventsOnGraphic(graphicElement, listenersObj, component) {\n  var eventType, listeners;\n\n  if (listenersObj && listenersObj.hasOwnProperty) {\n    for (eventType in listenersObj) {\n      if (listenersObj.hasOwnProperty(eventType)) {\n        listeners = (0, _eventApi.getListeners)(eventType, component);\n\n        if (listeners && listeners.length >= 1) {\n          graphicElement && graphicElement.on(eventType, listenersObj[eventType]);\n        }\n      }\n    }\n  }\n},\n    removeAllEventsFromGraphic = function removeAllEventsFromGraphic(graphicElement, listenersObj) {\n  var eventType, listeners;\n\n  if (listenersObj && listenersObj.hasOwnProperty) {\n    for (eventType in listenersObj) {\n      if (listenersObj.hasOwnProperty(eventType)) {\n        listeners = (0, _eventApi.getListeners)(eventType, this);\n\n        if (listeners && listeners.length >= 1) {\n          graphicElement && graphicElement.off(eventType, listenersObj[eventType]);\n        }\n      }\n    }\n  }\n};\n\nexports.removeAllEventsFromGraphic = removeAllEventsFromGraphic;\nexports.addAllEventsOnGraphic = addAllEventsOnGraphic;\nexports._mapSubFnForward = _mapSubFnForward;\n\nvar ComponentBase = function () {\n  function ComponentBase() {\n    var component = this;\n    component.config = {};\n    component._jobList = {};\n    component._env = {};\n    component._extListeners = {};\n    component._state = {};\n    component._factories = [];\n    component._factoriyNames = {};\n    component._graphics = {};\n\n    component.__drawJob = function () {\n      component.updateVisual();\n    };\n\n    component.computeFontSize = _lib.computeFontSize.bind(component);\n\n    component.__remove = function () {\n      component.getState(\"removed\") && component._dispose();\n    };\n\n    component._setRemoveAnim = function (el, label) {\n      var animationManager = component.getFromEnv(\"animationManager\");\n      animationManager.setAnimation({\n        el: el,\n        component: component,\n        label: label,\n        props: el.__props\n      });\n\n      component._setRemoveAnim = function (_el, _label) {\n        animationManager.setAnimation({\n          el: _el,\n          component: component,\n          label: _label,\n          props: _el.__props\n        });\n      };\n    };\n\n    component.__instantRemoveFn = function (el) {\n      var animationManager = component.getFromEnv(\"animationManager\");\n      animationManager.removeElement(el, true);\n\n      component.__instantRemoveFn = function (_el) {\n        return animationManager.removeElement(_el, true);\n      };\n    };\n  }\n\n  var _proto = ComponentBase.prototype;\n\n  _proto.configure = function configure(dataObj) {\n    this.preConfigure(dataObj);\n    this.configureAttributes(dataObj);\n    this.postConfigure(dataObj);\n    this.invokeFactories();\n  };\n\n  _proto.preConfigure = function preConfigure(dataObj) {\n    this.fireEvent(\"preconfigure\", dataObj);\n  };\n\n  _proto.configureAttributes = function configureAttributes() {\n    return this;\n  };\n\n  _proto.postConfigure = function postConfigure(dataObj) {\n    this.fireEvent(\"postconfigure\", dataObj);\n  };\n\n  _proto.prepareAttributes = function prepareAttributes() {\n    var component = this;\n    component.fireEvent(\"beforeattributeprepared\");\n    component.allocatePosition && component.allocatePosition();\n\n    component._mapChildren(_childPrepareAttributes);\n\n    component.fireEvent(\"attributeprepared\");\n  };\n\n  _proto.setDefaults = function setDefaults() {\n    this.__setDefaultConfig();\n\n    this._mapChildren(_setChildDefaults);\n  };\n\n  _proto.__setDefaultConfig = function __setDefaultConfig() {\n    return this;\n  };\n\n  _proto.setData = function setData(config, noOverWrite) {\n    if (noOverWrite === void 0) {\n      noOverWrite = false;\n    }\n\n    var component = this,\n        changeInfo,\n        parent = component.getLinkedParent();\n    component.asyncDraw();\n    !noOverWrite && this.setDefaults();\n    component.configure && component.configure(config);\n    changeInfo = component.getState(\"change-info\");\n    changeInfo && changeInfo.hasNoExternalEffect || parent && parent.childChange && parent.childChange(changeInfo, component.getId());\n  };\n\n  _proto.getName = function getName() {\n    return \"generic\";\n  };\n\n  _proto.getType = function getType() {\n    return \"generic\";\n  };\n\n  _proto.getComponentVersion = function getComponentVersion() {\n    return this._version;\n  };\n\n  _proto.getId = function getId() {\n    if (!this._id) {\n      this.setId();\n    }\n\n    return this._id;\n  };\n\n  _proto.setId = function setId(_id) {\n    var key,\n        id = _id;\n\n    if (id === _lib.UNDEF) {\n      key = this.getType() + _lib.UNDERSCORE + this.getName();\n\n      if (!idCounterStore[key]) {\n        idCounterStore[key] = 1;\n      }\n\n      id = key + _lib.UNDERSCORE + idCounterStore[key];\n      idCounterStore[key] += 1;\n    }\n\n    this._id = id;\n  };\n\n  _proto.iterateComponents = function iterateComponents(callback) {\n    var childIteratorCallback = function childIteratorCallback(child, key, index) {\n      if (callback(child, key, index) !== false && child._mapChildren) {\n        child._mapChildren(childIteratorCallback);\n      }\n    };\n\n    this._mapChildren(childIteratorCallback);\n  };\n\n  _proto.getFromEnv = function getFromEnv(name) {\n    return name ? this._env[name] : this._env;\n  };\n\n  _proto.addToEnv = function addToEnv(name, value) {\n    if (name) {\n      this._env[name] = value;\n    }\n  };\n\n  _proto.deleteFromEnv = function deleteFromEnv(name) {\n    delete this._env[name];\n  };\n\n  _proto._updateParentEnv = function _updateParentEnv() {\n    var parent = this.getLinkedParent(),\n        pEnv,\n        EnvConstractor,\n        oldEnv = this._env,\n        env,\n        key;\n\n    if (parent) {\n      pEnv = parent.getFromEnv();\n\n      EnvConstractor = function EnvConstractor() {};\n\n      EnvConstractor.prototype = pEnv;\n      EnvConstractor.prototype.constructor = EnvConstractor;\n      env = new EnvConstractor();\n\n      if (oldEnv) {\n        for (key in oldEnv) {\n          if (oldEnv.hasOwnProperty(key)) {\n            env[key] = oldEnv[key];\n          }\n        }\n      }\n\n      this._env = env;\n\n      this._mapChildren(function (child) {\n        child._updateParentEnv && child._updateParentEnv();\n      });\n    }\n  };\n\n  _proto.addJob = function addJob(name, job, priority, options) {\n    var component = this;\n\n    if (component._jobList[name]) {\n      component._jobList[name] = _schedular.default.updateJob(component._jobList[name], job, priority, options);\n    } else {\n      component._jobList[name] = _schedular.default.addJob(job, priority, options);\n    }\n  };\n\n  _proto.removeJob = function removeJob(name) {\n    var jobId = this._jobList[name];\n\n    if (jobId) {\n      _schedular.default.removeJob(jobId);\n\n      delete this._jobList[name];\n    }\n  };\n\n  _proto.removeAllJobs = function removeAllJobs() {\n    var jobName,\n        jobList = this._jobList;\n\n    for (jobName in jobList) {\n      if (jobList.hasOwnProperty(jobName)) {\n        _schedular.default.removeJob(jobList[jobName]);\n\n        delete jobList[name];\n      }\n    }\n  };\n\n  _proto.asyncDraw = function asyncDraw() {\n    var component = this;\n    component.addJob(\"draw\", component.__drawJob, _schedular.priorityList && _schedular.priorityList.draw, asyncDrawOptions);\n  };\n\n  _proto.syncDraw = function syncDraw() {\n    var component = this;\n    component.fireEvent(\"predraw\");\n    component.removeJob(\"draw\");\n    component.getState(\"removed\") ? component.removingDraw() : component.draw && component.draw();\n    component.addExtEventListener(\"animationComplete\", component.__remove, component.getFromEnv(\"animationManager\"));\n    component.childrenSyncDraw();\n    component.setState(\"dirty\", false);\n    component.setState(\"parentChanged\", false);\n    component.addJob(\"draw-complete\", function () {\n      component.fireEvent(\"drawn\");\n    }, _schedular.priorityList.instant);\n  };\n\n  _proto.updateVisual = function updateVisual() {\n    var component = this;\n    component.fireEvent(\"beforevisualupdate\");\n    component.removeJob(\"visualupdate\");\n    component.manageSpace && component.manageSpace();\n    component.prepareAttributes();\n    component.syncDraw();\n    component.fireEvent(\"visualupdated\");\n  };\n\n  _proto.childrenSyncDraw = function childrenSyncDraw() {\n    this._mapChildren(_childSyncDraw);\n  };\n\n  _proto.addEventListener = function addEventListener(_eventType, callback, options) {\n    var component = this,\n        listeners,\n        eventType = _eventType;\n\n    if (eventType && eventType.toLowerCase) {\n      eventType = eventType.toLowerCase();\n\n      if ((0, _eventApi.addListener)(eventType, callback, component, options)) {\n        if ((0, _lib.isInterActiveEvt)(eventType)) {\n          listeners = (0, _eventApi.getListeners)(eventType, component);\n\n          if (listeners && listeners.length === 1) {\n            if (!component._middleListeners) {\n              component._middleListeners = {};\n            }\n\n            if (!component._middleListeners[eventType]) {\n              component._middleListeners[eventType] = function (e) {\n                component.fireEvent(eventType, _lib.UNDEF, _lib.UNDEF, _lib.UNDEF, e);\n              };\n            }\n\n            return true;\n          }\n        }\n\n        return callback;\n      }\n    }\n\n    return false;\n  };\n\n  _proto.removeEventListener = function removeEventListener(_eventType, callback) {\n    var component = this,\n        listeners,\n        eventType = _eventType;\n\n    if (eventType && eventType.toLowerCase) {\n      eventType = eventType.toLowerCase();\n      (0, _eventApi.removeListener)(eventType, callback, component);\n\n      if ((0, _lib.isInterActiveEvt)(eventType)) {\n        listeners = (0, _eventApi.getListeners)(eventType, component);\n\n        if (listeners && listeners.length === 0 && component._middleListeners && component._middleListeners[eventType]) {\n          return true;\n        }\n      }\n    }\n  };\n\n  _proto.fireEvent = function fireEvent(name, data, defaultFn, cancelledFn, originalEvent) {\n    (0, _eventApi.triggerEvent)(name, this, data, originalEvent, defaultFn, cancelledFn);\n  };\n\n  _proto.showWarning = function showWarning(id, nature, source, message) {\n    (0, _eventApi.raiseWarning)(this.getFromEnv(\"chartInstance\"), id, nature, source, message);\n  };\n\n  _proto.showError = function showError(id, nature, source, message) {\n    (0, _eventApi.raiseError)(this.getFromEnv(\"chartInstance\"), id, nature, source, message);\n  };\n\n  _proto.addExtEventListener = function addExtEventListener(eventType, callback, extComponent) {\n    var component = this;\n\n    if (extComponent && extComponent.addEventListener) {\n      if (extComponent.addEventListener(eventType, callback)) {\n        if (!component._extListeners[eventType]) {\n          component._extListeners[eventType] = [];\n        }\n\n        component._extListeners[eventType].push({\n          fn: callback,\n          component: extComponent\n        });\n\n        return callback;\n      }\n    }\n\n    return false;\n  };\n\n  _proto.removeExtEventListener = function removeExtEventListener(eventType, callback, extComponent) {\n    var component = this,\n        i,\n        l,\n        listenersArr;\n\n    if (extComponent && extComponent.addEventListener && component._extListeners && component._extListeners[eventType]) {\n      listenersArr = component._extListeners[eventType];\n      l = listenersArr.length;\n\n      for (i = l - 1; i >= 0; i -= 1) {\n        if (listenersArr[i] && listenersArr[i].fn === callback && listenersArr[i].component === extComponent) {\n          extComponent.removeEventListener(eventType, callback);\n          listenersArr.splice(i, 1);\n          return;\n        }\n      }\n    }\n  };\n\n  _proto._setLinkedParent = function _setLinkedParent(parent) {\n    var oldParent = this._linkedParent;\n    this._linkedParent = parent;\n\n    if (oldParent && oldParent !== parent) {\n      this.setState(\"parentChanged\", true);\n      this.fireEvent(\"parentdetached\", {\n        oldParent: oldParent\n      });\n\n      if (parent) {\n        this.fireEvent(\"parentAttached\", {\n          newParent: parent\n        });\n      }\n    }\n\n    this._updateParentEnv && this._updateParentEnv();\n  };\n\n  _proto.getLinkedParent = function getLinkedParent() {\n    return this._linkedParent;\n  };\n\n  _proto.setLinkedItem = function setLinkedItem(itemName, item) {\n    if (!this.linkedItems) {\n      this.linkedItems = {};\n    }\n\n    if (itemName !== _lib.UNDEF || item !== _lib.UNDEF) {\n      this.linkedItems[itemName] = item;\n    }\n  };\n\n  _proto.getLinkedItem = function getLinkedItem(itemName) {\n    if (this.linkedItems) {\n      return itemName !== _lib.UNDEF ? this.linkedItems[itemName] : this.linkedItems;\n    }\n  };\n\n  _proto.removeLinkedItem = function removeLinkedItem(itemName) {\n    if (this.linkedItems) {\n      this.linkedItems[itemName] && delete this.linkedItems[itemName];\n    }\n  };\n\n  _proto._detachChild = function _detachChild(child) {\n    var returnChild,\n        id = child && child.getId(),\n        component = this;\n\n    if (id === _lib.UNDEF) {\n      return _lib.UNDEF;\n    }\n\n    component._searchChildren(id, function (foundChild, idx, children) {\n      if (children && children.constructor === Array) {\n        returnChild = children.splice(idx, 1)[0];\n      } else {\n        returnChild = children[foundChild];\n        delete children[foundChild];\n      }\n\n      returnChild._setLinkedParent(_lib.UNDEF);\n\n      component.fireEvent(\"childdetached\", {\n        detachedChild: returnChild\n      });\n    });\n\n    return returnChild;\n  };\n\n  _proto._mapChildren = function _mapChildren(callback, backWord) {\n    if (backWord) {\n      _mapSubFnBackward(this.getChildren(), callback);\n    } else {\n      _mapSubFnForward(this.getChildren(), callback);\n    }\n  };\n\n  _proto._dispose = function _dispose() {\n    var component = this,\n        parent,\n        i,\n        eventType,\n        listenersArr;\n\n    if (component && component !== window && component._disposing !== true) {\n      component._disposing = true;\n      component.fireEvent(\"beforeremove\");\n      parent = component.getLinkedParent();\n\n      if (parent && parent._detachChild && !parent._disposing) {\n        parent._detachChild(component);\n      }\n\n      if (component._extListeners) {\n        for (eventType in component._extListeners) {\n          listenersArr = component._extListeners[eventType];\n\n          for (i = listenersArr.length - 1; i >= 0; i--) {\n            if (listenersArr[i].component && listenersArr[i].component.addEventListener) {\n              listenersArr[i].component.removeEventListener(eventType, listenersArr[i].fn);\n            }\n          }\n        }\n      }\n\n      component.removeAllJobs();\n      return true;\n    }\n  };\n\n  _proto.remove = function remove(config) {\n    var component = this;\n    component.setState(\"removed\", true);\n\n    if (component.getChildren()) {\n      component._mapChildren(function (child) {\n        child && child.remove && child.remove(config);\n      }, true);\n    }\n\n    if (config && config.instant) {\n      component._dispose();\n    }\n  };\n\n  _proto.setState = function setState(name, value) {\n    this._state[name] = value;\n  };\n\n  _proto.getState = function getState(name) {\n    return this._state && this._state[name];\n  };\n\n  _proto.registerFactory = function registerFactory(name, callback, depedentOn) {\n    var factoryObj = {\n      name: name,\n      factory: callback,\n      dep: depedentOn\n    };\n\n    if (this._factoriyNames[name]) {\n      for (var i = 0, l = this._factories.length, found = false; i < l && !found; i += 1) {\n        if (this._factories[i].name === name) {\n          this._factories.splice(i, 1);\n\n          found = true;\n        }\n      }\n    }\n\n    this._factories.push(factoryObj);\n\n    this._factoriyNames[name] = true;\n  };\n\n  _proto.deregisterFactory = function deregisterFactory(name) {\n    if (this._factoriyNames[name]) {\n      delete this._factoriyNames[name];\n      return this._factories.splice(this._factories.findIndex(function (factoryObj) {\n        return factoryObj.name === name;\n      }), 1)[0].factory;\n    }\n  };\n\n  _proto.invokeFactories = function invokeFactories() {\n    var component = this,\n        _factoriyNames = component._factoriyNames,\n        executedList = {},\n        factories = component._factories,\n        pendingFactories,\n        lastNumPendingCount = factories.length + 1,\n        factoryExecutor = function factoryExecutor(factoryObj) {\n      var hasPendingDep;\n\n      if (factoryObj.dep && factoryObj.dep.length) {\n        factoryObj.dep.forEach(function (dep) {\n          hasPendingDep = _factoriyNames[dep] && !executedList[dep];\n        });\n      }\n\n      if (!hasPendingDep) {\n        factoryObj.factory(component);\n        executedList[factoryObj.name] = true;\n      } else {\n        pendingFactories.push(factoryObj);\n      }\n    };\n\n    while (factories.length && factories.length < lastNumPendingCount) {\n      pendingFactories = [];\n      factories.forEach(factoryExecutor);\n      lastNumPendingCount = factories.length;\n      factories = pendingFactories;\n    }\n\n    if (factories.length) {\n      factories.forEach(function (factoryObj) {\n        return factoryObj.factory(component);\n      });\n    }\n\n    this.fireEvent(\"factoriesinvoked\", {});\n  };\n\n  return ComponentBase;\n}();\n\nvar _default = ComponentBase;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/04_06_2021/henaknowledge/frontend v3/henaknowledgefrontend/node_modules/@fusioncharts/core/src/component-interface/component-base.js"],"names":["_interopRequireWildcard","require","exports","__esModule","_mapSubFnForward","addAllEventsOnGraphic","removeAllEventsFromGraphic","default","_lib","_eventApi","_schedular","_childSyncDraw","child","draw","syncDraw","_setChildDefaults","setDefaults","_childPrepareAttributes","prepareAttributes","idCounterStore","asyncDrawOptions","executionDelay","_mapSubFnBackward","sub","callback","hasOwnProperty","call","key","i","Array","length","graphicElement","listenersObj","component","eventType","listeners","getListeners","on","off","ComponentBase","config","_jobList","_env","_extListeners","_state","_factories","_factoriyNames","_graphics","__drawJob","updateVisual","computeFontSize","bind","__remove","getState","_dispose","_setRemoveAnim","el","label","animationManager","getFromEnv","setAnimation","props","__props","_el","_label","__instantRemoveFn","removeElement","_proto","prototype","configure","dataObj","preConfigure","configureAttributes","postConfigure","invokeFactories","fireEvent","allocatePosition","_mapChildren","__setDefaultConfig","setData","noOverWrite","changeInfo","parent","getLinkedParent","asyncDraw","hasNoExternalEffect","childChange","getId","getName","getType","getComponentVersion","_version","_id","setId","id","UNDEF","UNDERSCORE","iterateComponents","childIteratorCallback","index","name","addToEnv","value","deleteFromEnv","_updateParentEnv","pEnv","EnvConstractor","oldEnv","env","constructor","addJob","job","priority","options","updateJob","removeJob","jobId","removeAllJobs","jobName","jobList","priorityList","removingDraw","addExtEventListener","childrenSyncDraw","setState","instant","manageSpace","addEventListener","_eventType","toLowerCase","addListener","isInterActiveEvt","_middleListeners","e","removeEventListener","removeListener","data","defaultFn","cancelledFn","originalEvent","triggerEvent","showWarning","nature","source","message","raiseWarning","showError","raiseError","extComponent","push","fn","removeExtEventListener","l","listenersArr","splice","_setLinkedParent","oldParent","_linkedParent","newParent","setLinkedItem","itemName","item","linkedItems","getLinkedItem","removeLinkedItem","_detachChild","returnChild","_searchChildren","foundChild","idx","children","detachedChild","backWord","getChildren","window","_disposing","remove","registerFactory","depedentOn","factoryObj","factory","dep","found","deregisterFactory","findIndex","executedList","factories","pendingFactories","lastNumPendingCount","factoryExecutor","hasPendingDep","forEach","_default"],"mappings":"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","sourcesContent":["\"use strict\";var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");exports.__esModule=true;exports._mapSubFnForward=exports.addAllEventsOnGraphic=exports.removeAllEventsFromGraphic=exports.default=void 0;var _lib=require(\"../lib\");var _eventApi=require(\"../event-api\");var _schedular=_interopRequireWildcard(require(\"../schedular\"));var _childSyncDraw=function _childSyncDraw(child){child&&child.draw&&child.syncDraw()},_setChildDefaults=function _setChildDefaults(child){return child.setDefaults()},_childPrepareAttributes=function _childPrepareAttributes(child){child.prepareAttributes&&child.prepareAttributes()};var idCounterStore={},asyncDrawOptions={executionDelay:16},_mapSubFnBackward=function _mapSubFnBackward(sub,callback){if(sub&&sub.hasOwnProperty&&callback&&callback.call){var key,child,i;for(key in sub){if(sub.hasOwnProperty(key)){child=sub[key];if(child instanceof Array){for(i=child.length-1;i>=0;i--){callback(child[i],key,i)}}else{callback(child,key)}}}}},_mapSubFnForward=function _mapSubFnForward(sub,callback){if(sub&&sub.hasOwnProperty&&callback&&callback.call){var key,child,i,length;for(key in sub){if(sub.hasOwnProperty(key)){child=sub[key];if(child instanceof Array){length=child.length;for(i=0;i<length;i++){callback(child[i],key,i)}}else{callback(child,key)}}}}},addAllEventsOnGraphic=function addAllEventsOnGraphic(graphicElement,listenersObj,component){var eventType,listeners;if(listenersObj&&listenersObj.hasOwnProperty){for(eventType in listenersObj){if(listenersObj.hasOwnProperty(eventType)){listeners=(0,_eventApi.getListeners)(eventType,component);if(listeners&&listeners.length>=1){graphicElement&&graphicElement.on(eventType,listenersObj[eventType])}}}}},removeAllEventsFromGraphic=function removeAllEventsFromGraphic(graphicElement,listenersObj){var eventType,listeners;if(listenersObj&&listenersObj.hasOwnProperty){for(eventType in listenersObj){if(listenersObj.hasOwnProperty(eventType)){listeners=(0,_eventApi.getListeners)(eventType,this);if(listeners&&listeners.length>=1){graphicElement&&graphicElement.off(eventType,listenersObj[eventType])}}}}};exports.removeAllEventsFromGraphic=removeAllEventsFromGraphic;exports.addAllEventsOnGraphic=addAllEventsOnGraphic;exports._mapSubFnForward=_mapSubFnForward;var ComponentBase=function(){function ComponentBase(){var component=this;component.config={};component._jobList={};component._env={};component._extListeners={};component._state={};component._factories=[];component._factoriyNames={};component._graphics={};component.__drawJob=function(){component.updateVisual()};component.computeFontSize=_lib.computeFontSize.bind(component);component.__remove=function(){component.getState(\"removed\")&&component._dispose()};component._setRemoveAnim=function(el,label){var animationManager=component.getFromEnv(\"animationManager\");animationManager.setAnimation({el:el,component:component,label:label,props:el.__props});component._setRemoveAnim=function(_el,_label){animationManager.setAnimation({el:_el,component:component,label:_label,props:_el.__props})}};component.__instantRemoveFn=function(el){var animationManager=component.getFromEnv(\"animationManager\");animationManager.removeElement(el,true);component.__instantRemoveFn=function(_el){return animationManager.removeElement(_el,true)}}}var _proto=ComponentBase.prototype;_proto.configure=function configure(dataObj){this.preConfigure(dataObj);this.configureAttributes(dataObj);this.postConfigure(dataObj);this.invokeFactories()};_proto.preConfigure=function preConfigure(dataObj){this.fireEvent(\"preconfigure\",dataObj)};_proto.configureAttributes=function configureAttributes(){return this};_proto.postConfigure=function postConfigure(dataObj){this.fireEvent(\"postconfigure\",dataObj)};_proto.prepareAttributes=function prepareAttributes(){var component=this;component.fireEvent(\"beforeattributeprepared\");component.allocatePosition&&component.allocatePosition();component._mapChildren(_childPrepareAttributes);component.fireEvent(\"attributeprepared\")};_proto.setDefaults=function setDefaults(){this.__setDefaultConfig();this._mapChildren(_setChildDefaults)};_proto.__setDefaultConfig=function __setDefaultConfig(){return this};_proto.setData=function setData(config,noOverWrite){if(noOverWrite===void 0){noOverWrite=false}var component=this,changeInfo,parent=component.getLinkedParent();component.asyncDraw();!noOverWrite&&this.setDefaults();component.configure&&component.configure(config);changeInfo=component.getState(\"change-info\");changeInfo&&changeInfo.hasNoExternalEffect||parent&&parent.childChange&&parent.childChange(changeInfo,component.getId())};_proto.getName=function getName(){return\"generic\"};_proto.getType=function getType(){return\"generic\"};_proto.getComponentVersion=function getComponentVersion(){return this._version};_proto.getId=function getId(){if(!this._id){this.setId()}return this._id};_proto.setId=function setId(_id){var key,id=_id;if(id===_lib.UNDEF){key=this.getType()+_lib.UNDERSCORE+this.getName();if(!idCounterStore[key]){idCounterStore[key]=1}id=key+_lib.UNDERSCORE+idCounterStore[key];idCounterStore[key]+=1}this._id=id};_proto.iterateComponents=function iterateComponents(callback){var childIteratorCallback=function childIteratorCallback(child,key,index){if(callback(child,key,index)!==false&&child._mapChildren){child._mapChildren(childIteratorCallback)}};this._mapChildren(childIteratorCallback)};_proto.getFromEnv=function getFromEnv(name){return name?this._env[name]:this._env};_proto.addToEnv=function addToEnv(name,value){if(name){this._env[name]=value}};_proto.deleteFromEnv=function deleteFromEnv(name){delete this._env[name]};_proto._updateParentEnv=function _updateParentEnv(){var parent=this.getLinkedParent(),pEnv,EnvConstractor,oldEnv=this._env,env,key;if(parent){pEnv=parent.getFromEnv();EnvConstractor=function EnvConstractor(){};EnvConstractor.prototype=pEnv;EnvConstractor.prototype.constructor=EnvConstractor;env=new EnvConstractor;if(oldEnv){for(key in oldEnv){if(oldEnv.hasOwnProperty(key)){env[key]=oldEnv[key]}}}this._env=env;this._mapChildren((function(child){child._updateParentEnv&&child._updateParentEnv()}))}};_proto.addJob=function addJob(name,job,priority,options){var component=this;if(component._jobList[name]){component._jobList[name]=_schedular.default.updateJob(component._jobList[name],job,priority,options)}else{component._jobList[name]=_schedular.default.addJob(job,priority,options)}};_proto.removeJob=function removeJob(name){var jobId=this._jobList[name];if(jobId){_schedular.default.removeJob(jobId);delete this._jobList[name]}};_proto.removeAllJobs=function removeAllJobs(){var jobName,jobList=this._jobList;for(jobName in jobList){if(jobList.hasOwnProperty(jobName)){_schedular.default.removeJob(jobList[jobName]);delete jobList[name]}}};_proto.asyncDraw=function asyncDraw(){var component=this;component.addJob(\"draw\",component.__drawJob,_schedular.priorityList&&_schedular.priorityList.draw,asyncDrawOptions)};_proto.syncDraw=function syncDraw(){var component=this;component.fireEvent(\"predraw\");component.removeJob(\"draw\");component.getState(\"removed\")?component.removingDraw():component.draw&&component.draw();component.addExtEventListener(\"animationComplete\",component.__remove,component.getFromEnv(\"animationManager\"));component.childrenSyncDraw();component.setState(\"dirty\",false);component.setState(\"parentChanged\",false);component.addJob(\"draw-complete\",(function(){component.fireEvent(\"drawn\")}),_schedular.priorityList.instant)};_proto.updateVisual=function updateVisual(){var component=this;component.fireEvent(\"beforevisualupdate\");component.removeJob(\"visualupdate\");component.manageSpace&&component.manageSpace();component.prepareAttributes();component.syncDraw();component.fireEvent(\"visualupdated\")};_proto.childrenSyncDraw=function childrenSyncDraw(){this._mapChildren(_childSyncDraw)};_proto.addEventListener=function addEventListener(_eventType,callback,options){var component=this,listeners,eventType=_eventType;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();if((0,_eventApi.addListener)(eventType,callback,component,options)){if((0,_lib.isInterActiveEvt)(eventType)){listeners=(0,_eventApi.getListeners)(eventType,component);if(listeners&&listeners.length===1){if(!component._middleListeners){component._middleListeners={}}if(!component._middleListeners[eventType]){component._middleListeners[eventType]=function(e){component.fireEvent(eventType,_lib.UNDEF,_lib.UNDEF,_lib.UNDEF,e)}}return true}}return callback}}return false};_proto.removeEventListener=function removeEventListener(_eventType,callback){var component=this,listeners,eventType=_eventType;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();(0,_eventApi.removeListener)(eventType,callback,component);if((0,_lib.isInterActiveEvt)(eventType)){listeners=(0,_eventApi.getListeners)(eventType,component);if(listeners&&listeners.length===0&&component._middleListeners&&component._middleListeners[eventType]){return true}}}};_proto.fireEvent=function fireEvent(name,data,defaultFn,cancelledFn,originalEvent){(0,_eventApi.triggerEvent)(name,this,data,originalEvent,defaultFn,cancelledFn)};_proto.showWarning=function showWarning(id,nature,source,message){(0,_eventApi.raiseWarning)(this.getFromEnv(\"chartInstance\"),id,nature,source,message)};_proto.showError=function showError(id,nature,source,message){(0,_eventApi.raiseError)(this.getFromEnv(\"chartInstance\"),id,nature,source,message)};_proto.addExtEventListener=function addExtEventListener(eventType,callback,extComponent){var component=this;if(extComponent&&extComponent.addEventListener){if(extComponent.addEventListener(eventType,callback)){if(!component._extListeners[eventType]){component._extListeners[eventType]=[]}component._extListeners[eventType].push({fn:callback,component:extComponent});return callback}}return false};_proto.removeExtEventListener=function removeExtEventListener(eventType,callback,extComponent){var component=this,i,l,listenersArr;if(extComponent&&extComponent.addEventListener&&component._extListeners&&component._extListeners[eventType]){listenersArr=component._extListeners[eventType];l=listenersArr.length;for(i=l-1;i>=0;i-=1){if(listenersArr[i]&&listenersArr[i].fn===callback&&listenersArr[i].component===extComponent){extComponent.removeEventListener(eventType,callback);listenersArr.splice(i,1);return}}}};_proto._setLinkedParent=function _setLinkedParent(parent){var oldParent=this._linkedParent;this._linkedParent=parent;if(oldParent&&oldParent!==parent){this.setState(\"parentChanged\",true);this.fireEvent(\"parentdetached\",{oldParent:oldParent});if(parent){this.fireEvent(\"parentAttached\",{newParent:parent})}}this._updateParentEnv&&this._updateParentEnv()};_proto.getLinkedParent=function getLinkedParent(){return this._linkedParent};_proto.setLinkedItem=function setLinkedItem(itemName,item){if(!this.linkedItems){this.linkedItems={}}if(itemName!==_lib.UNDEF||item!==_lib.UNDEF){this.linkedItems[itemName]=item}};_proto.getLinkedItem=function getLinkedItem(itemName){if(this.linkedItems){return itemName!==_lib.UNDEF?this.linkedItems[itemName]:this.linkedItems}};_proto.removeLinkedItem=function removeLinkedItem(itemName){if(this.linkedItems){this.linkedItems[itemName]&&delete this.linkedItems[itemName]}};_proto._detachChild=function _detachChild(child){var returnChild,id=child&&child.getId(),component=this;if(id===_lib.UNDEF){return _lib.UNDEF}component._searchChildren(id,(function(foundChild,idx,children){if(children&&children.constructor===Array){returnChild=children.splice(idx,1)[0]}else{returnChild=children[foundChild];delete children[foundChild]}returnChild._setLinkedParent(_lib.UNDEF);component.fireEvent(\"childdetached\",{detachedChild:returnChild})}));return returnChild};_proto._mapChildren=function _mapChildren(callback,backWord){if(backWord){_mapSubFnBackward(this.getChildren(),callback)}else{_mapSubFnForward(this.getChildren(),callback)}};_proto._dispose=function _dispose(){var component=this,parent,i,eventType,listenersArr;if(component&&component!==window&&component._disposing!==true){component._disposing=true;component.fireEvent(\"beforeremove\");parent=component.getLinkedParent();if(parent&&parent._detachChild&&!parent._disposing){parent._detachChild(component)}if(component._extListeners){for(eventType in component._extListeners){listenersArr=component._extListeners[eventType];for(i=listenersArr.length-1;i>=0;i--){if(listenersArr[i].component&&listenersArr[i].component.addEventListener){listenersArr[i].component.removeEventListener(eventType,listenersArr[i].fn)}}}}component.removeAllJobs();return true}};_proto.remove=function remove(config){var component=this;component.setState(\"removed\",true);if(component.getChildren()){component._mapChildren((function(child){child&&child.remove&&child.remove(config)}),true)}if(config&&config.instant){component._dispose()}};_proto.setState=function setState(name,value){this._state[name]=value};_proto.getState=function getState(name){return this._state&&this._state[name]};_proto.registerFactory=function registerFactory(name,callback,depedentOn){var factoryObj={name:name,factory:callback,dep:depedentOn};if(this._factoriyNames[name]){for(var i=0,l=this._factories.length,found=false;i<l&&!found;i+=1){if(this._factories[i].name===name){this._factories.splice(i,1);found=true}}}this._factories.push(factoryObj);this._factoriyNames[name]=true};_proto.deregisterFactory=function deregisterFactory(name){if(this._factoriyNames[name]){delete this._factoriyNames[name];return this._factories.splice(this._factories.findIndex((function(factoryObj){return factoryObj.name===name})),1)[0].factory}};_proto.invokeFactories=function invokeFactories(){var component=this,_factoriyNames=component._factoriyNames,executedList={},factories=component._factories,pendingFactories,lastNumPendingCount=factories.length+1,factoryExecutor=function factoryExecutor(factoryObj){var hasPendingDep;if(factoryObj.dep&&factoryObj.dep.length){factoryObj.dep.forEach((function(dep){hasPendingDep=_factoriyNames[dep]&&!executedList[dep]}))}if(!hasPendingDep){factoryObj.factory(component);executedList[factoryObj.name]=true}else{pendingFactories.push(factoryObj)}};while(factories.length&&factories.length<lastNumPendingCount){pendingFactories=[];factories.forEach(factoryExecutor);lastNumPendingCount=factories.length;factories=pendingFactories}if(factories.length){factories.forEach((function(factoryObj){return factoryObj.factory(component)}))}this.fireEvent(\"factoriesinvoked\",{})};return ComponentBase}();var _default=ComponentBase;exports.default=_default;"]},"metadata":{},"sourceType":"script"}